var uM=Object.defineProperty;var $E=o=>{throw TypeError(o)};var hM=(o,t,e)=>t in o?uM(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var Rt=(o,t,e)=>hM(o,typeof t!="symbol"?t+"":t,e),Yv=(o,t,e)=>t.has(o)||$E("Cannot "+e);var h=(o,t,e)=>(Yv(o,t,"read from private field"),e?e.call(o):t.get(o)),R=(o,t,e)=>t.has(o)?$E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),E=(o,t,e,s)=>(Yv(o,t,"write to private field"),s?s.call(o,e):t.set(o,e),e),x=(o,t,e)=>(Yv(o,t,"access private method"),e);var Gn=(o,t,e,s)=>({set _(r){E(o,t,r,e)},get _(){return h(o,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function H0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var $v={exports:{}},Zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function dM(){if(WE)return Zh;WE=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:o,type:s,key:u,ref:r!==void 0?r:null,props:l}}return Zh.Fragment=t,Zh.jsx=e,Zh.jsxs=e,Zh}var KE;function fM(){return KE||(KE=1,$v.exports=dM()),$v.exports}var O=fM(),Wv={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function pM(){if(QE)return kt;QE=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function M(P,$,nt){this.props=P,this.context=$,this.refs=_,this.updater=nt||A}M.prototype.isReactComponent={},M.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=M.prototype;function L(P,$,nt){this.props=P,this.context=$,this.refs=_,this.updater=nt||A}var k=L.prototype=new T;k.constructor=L,S(k,M.prototype),k.isPureReactComponent=!0;var j=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function q(P,$,nt,et,ht,xt){return nt=xt.ref,{$$typeof:o,type:P,key:$,ref:nt!==void 0?nt:null,props:xt}}function W(P,$){return q(P.type,$,void 0,void 0,void 0,P.props)}function tt(P){return typeof P=="object"&&P!==null&&P.$$typeof===o}function it(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(nt){return $[nt]})}var st=/\/+/g;function ft(P,$){return typeof P=="object"&&P!==null&&P.key!=null?it(""+P.key):$.toString(36)}function pt(){}function rt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(pt,pt):(P.status="pending",P.then(function($){P.status==="pending"&&(P.status="fulfilled",P.value=$)},function($){P.status==="pending"&&(P.status="rejected",P.reason=$)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ct(P,$,nt,et,ht){var xt=typeof P;(xt==="undefined"||xt==="boolean")&&(P=null);var ut=!1;if(P===null)ut=!0;else switch(xt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(P.$$typeof){case o:case t:ut=!0;break;case m:return ut=P._init,ct(ut(P._payload),$,nt,et,ht)}}if(ut)return ht=ht(P),ut=et===""?"."+ft(P,0):et,j(ht)?(nt="",ut!=null&&(nt=ut.replace(st,"$&/")+"/"),ct(ht,$,nt,"",function(Gt){return Gt})):ht!=null&&(tt(ht)&&(ht=W(ht,nt+(ht.key==null||P&&P.key===ht.key?"":(""+ht.key).replace(st,"$&/")+"/")+ut)),$.push(ht)),1;ut=0;var Tt=et===""?".":et+":";if(j(P))for(var Dt=0;Dt<P.length;Dt++)et=P[Dt],xt=Tt+ft(et,Dt),ut+=ct(et,$,nt,xt,ht);else if(Dt=b(P),typeof Dt=="function")for(P=Dt.call(P),Dt=0;!(et=P.next()).done;)et=et.value,xt=Tt+ft(et,Dt++),ut+=ct(et,$,nt,xt,ht);else if(xt==="object"){if(typeof P.then=="function")return ct(rt(P),$,nt,et,ht);throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ut}function H(P,$,nt){if(P==null)return P;var et=[],ht=0;return ct(P,et,"","",function(xt){return $.call(nt,xt,ht++)}),et}function V(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(nt){(P._status===0||P._status===-1)&&(P._status=1,P._result=nt)},function(nt){(P._status===0||P._status===-1)&&(P._status=2,P._result=nt)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var K=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function yt(){}return kt.Children={map:H,forEach:function(P,$,nt){H(P,function(){$.apply(this,arguments)},nt)},count:function(P){var $=0;return H(P,function(){$++}),$},toArray:function(P){return H(P,function($){return $})||[]},only:function(P){if(!tt(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},kt.Component=M,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=L,kt.StrictMode=s,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,kt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},kt.cache=function(P){return function(){return P.apply(null,arguments)}},kt.cloneElement=function(P,$,nt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var et=S({},P.props),ht=P.key,xt=void 0;if($!=null)for(ut in $.ref!==void 0&&(xt=void 0),$.key!==void 0&&(ht=""+$.key),$)!B.call($,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&$.ref===void 0||(et[ut]=$[ut]);var ut=arguments.length-2;if(ut===1)et.children=nt;else if(1<ut){for(var Tt=Array(ut),Dt=0;Dt<ut;Dt++)Tt[Dt]=arguments[Dt+2];et.children=Tt}return q(P.type,ht,void 0,void 0,xt,et)},kt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},kt.createElement=function(P,$,nt){var et,ht={},xt=null;if($!=null)for(et in $.key!==void 0&&(xt=""+$.key),$)B.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=$[et]);var ut=arguments.length-2;if(ut===1)ht.children=nt;else if(1<ut){for(var Tt=Array(ut),Dt=0;Dt<ut;Dt++)Tt[Dt]=arguments[Dt+2];ht.children=Tt}if(P&&P.defaultProps)for(et in ut=P.defaultProps,ut)ht[et]===void 0&&(ht[et]=ut[et]);return q(P,xt,void 0,void 0,null,ht)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(P){return{$$typeof:d,render:P}},kt.isValidElement=tt,kt.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:V}},kt.memo=function(P,$){return{$$typeof:p,type:P,compare:$===void 0?null:$}},kt.startTransition=function(P){var $=F.T,nt={};F.T=nt;try{var et=P(),ht=F.S;ht!==null&&ht(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(yt,K)}catch(xt){K(xt)}finally{F.T=$}},kt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},kt.use=function(P){return F.H.use(P)},kt.useActionState=function(P,$,nt){return F.H.useActionState(P,$,nt)},kt.useCallback=function(P,$){return F.H.useCallback(P,$)},kt.useContext=function(P){return F.H.useContext(P)},kt.useDebugValue=function(){},kt.useDeferredValue=function(P,$){return F.H.useDeferredValue(P,$)},kt.useEffect=function(P,$,nt){var et=F.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(P,$)},kt.useId=function(){return F.H.useId()},kt.useImperativeHandle=function(P,$,nt){return F.H.useImperativeHandle(P,$,nt)},kt.useInsertionEffect=function(P,$){return F.H.useInsertionEffect(P,$)},kt.useLayoutEffect=function(P,$){return F.H.useLayoutEffect(P,$)},kt.useMemo=function(P,$){return F.H.useMemo(P,$)},kt.useOptimistic=function(P,$){return F.H.useOptimistic(P,$)},kt.useReducer=function(P,$,nt){return F.H.useReducer(P,$,nt)},kt.useRef=function(P){return F.H.useRef(P)},kt.useState=function(P){return F.H.useState(P)},kt.useSyncExternalStore=function(P,$,nt){return F.H.useSyncExternalStore(P,$,nt)},kt.useTransition=function(){return F.H.useTransition()},kt.version="19.1.0",kt}var ZE;function I0(){return ZE||(ZE=1,Wv.exports=pM()),Wv.exports}var D=I0();const li=H0(D);var Kv={exports:{}},Jh={},Qv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function gM(){return JE||(JE=1,function(o){function t(H,V){var K=H.length;H.push(V);t:for(;0<K;){var yt=K-1>>>1,P=H[yt];if(0<r(P,V))H[yt]=V,H[K]=P,K=yt;else break t}}function e(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var V=H[0],K=H.pop();if(K!==V){H[0]=K;t:for(var yt=0,P=H.length,$=P>>>1;yt<$;){var nt=2*(yt+1)-1,et=H[nt],ht=nt+1,xt=H[ht];if(0>r(et,K))ht<P&&0>r(xt,et)?(H[yt]=xt,H[ht]=K,yt=ht):(H[yt]=et,H[nt]=K,yt=nt);else if(ht<P&&0>r(xt,K))H[yt]=xt,H[ht]=K,yt=ht;else break t}}return V}function r(H,V){var K=H.sortIndex-V.sortIndex;return K!==0?K:H.id-V.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();o.unstable_now=function(){return u.now()-d}}var f=[],p=[],m=1,v=null,b=3,A=!1,S=!1,_=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var V=e(p);V!==null;){if(V.callback===null)s(p);else if(V.startTime<=H)s(p),V.sortIndex=V.expirationTime,t(f,V);else break;V=e(p)}}function F(H){if(_=!1,j(H),!S)if(e(f)!==null)S=!0,B||(B=!0,ft());else{var V=e(p);V!==null&&ct(F,V.startTime-H)}}var B=!1,q=-1,W=5,tt=-1;function it(){return M?!0:!(o.unstable_now()-tt<W)}function st(){if(M=!1,B){var H=o.unstable_now();tt=H;var V=!0;try{t:{S=!1,_&&(_=!1,L(q),q=-1),A=!0;var K=b;try{e:{for(j(H),v=e(f);v!==null&&!(v.expirationTime>H&&it());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,b=v.priorityLevel;var P=yt(v.expirationTime<=H);if(H=o.unstable_now(),typeof P=="function"){v.callback=P,j(H),V=!0;break e}v===e(f)&&s(f),j(H)}else s(f);v=e(f)}if(v!==null)V=!0;else{var $=e(p);$!==null&&ct(F,$.startTime-H),V=!1}}break t}finally{v=null,b=K,A=!1}V=void 0}}finally{V?ft():B=!1}}}var ft;if(typeof k=="function")ft=function(){k(st)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,rt=pt.port2;pt.port1.onmessage=st,ft=function(){rt.postMessage(null)}}else ft=function(){T(st,0)};function ct(H,V){q=T(function(){H(o.unstable_now())},V)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(H){H.callback=null},o.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},o.unstable_getCurrentPriorityLevel=function(){return b},o.unstable_next=function(H){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var K=b;b=V;try{return H()}finally{b=K}},o.unstable_requestPaint=function(){M=!0},o.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=b;b=H;try{return V()}finally{b=K}},o.unstable_scheduleCallback=function(H,V,K){var yt=o.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?yt+K:yt):K=yt,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=K+P,H={id:m++,callback:V,priorityLevel:H,startTime:K,expirationTime:P,sortIndex:-1},K>yt?(H.sortIndex=K,t(p,H),e(f)===null&&H===e(p)&&(_?(L(q),q=-1):_=!0,ct(F,K-yt))):(H.sortIndex=P,t(f,H),S||A||(S=!0,B||(B=!0,ft()))),H},o.unstable_shouldYield=it,o.unstable_wrapCallback=function(H){var V=b;return function(){var K=b;b=V;try{return H.apply(this,arguments)}finally{b=K}}}}(Zv)),Zv}var t_;function mM(){return t_||(t_=1,Qv.exports=gM()),Qv.exports}var Jv={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function yM(){if(e_)return Ln;e_=1;var o=I0();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:m}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,m)},Ln.flushSync=function(f){var p=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=m,s.d.f()}},Ln.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Ln.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ln.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,v=d(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=d(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Ln.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=d(m,p.crossOrigin);s.d.L(f,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=d(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Ln.requestFormReset=function(f){s.d.r(f)},Ln.unstable_batchedUpdates=function(f,p){return f(p)},Ln.useFormState=function(f,p,m){return u.H.useFormState(f,p,m)},Ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ln.version="19.1.0",Ln}var n_;function vM(){if(n_)return Jv.exports;n_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Jv.exports=yM(),Jv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function bM(){if(i_)return Jh;i_=1;var o=mM(),t=I0(),e=vM();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,c=i;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return d(g),n;if(y===c)return d(g),i;y=y.sibling}throw Error(s(188))}if(a.return!==c.return)a=g,c=y;else{for(var w=!1,C=g.child;C;){if(C===a){w=!0,a=g,c=y;break}if(C===c){w=!0,c=g,a=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===a){w=!0,a=y,c=g;break}if(C===c){w=!0,c=y,a=g;break}C=C.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function ft(n){return n===null||typeof n!="object"?null:(n=st&&n[st]||n["@@iterator"],typeof n=="function"?n:null)}var pt=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case M:return"Profiler";case _:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList";case tt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case k:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case j:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var ct=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},yt=[],P=-1;function $(n){return{current:n}}function nt(n){0>P||(n.current=yt[P],yt[P]=null,P--)}function et(n,i){P++,yt[P]=n.current,n.current=i}var ht=$(null),xt=$(null),ut=$(null),Tt=$(null);function Dt(n,i){switch(et(ut,i),et(xt,n),et(ht,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?wE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=wE(i),n=EE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(ht),et(ht,n)}function Gt(){nt(ht),nt(xt),nt(ut)}function Xt(n){n.memoizedState!==null&&et(Tt,n);var i=ht.current,a=EE(i,n.type);i!==a&&(et(xt,n),et(ht,a))}function Oe(n){xt.current===n&&(nt(ht),nt(xt)),Tt.current===n&&(nt(Tt),Yh._currentValue=K)}var rn=Object.prototype.hasOwnProperty,qt=o.unstable_scheduleCallback,Kt=o.unstable_cancelCallback,De=o.unstable_shouldYield,$t=o.unstable_requestPaint,ke=o.unstable_now,Hn=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,ce=o.unstable_UserBlockingPriority,In=o.unstable_NormalPriority,sa=o.unstable_LowPriority,xs=o.unstable_IdlePriority,aa=o.log,lr=o.unstable_setDisableYieldValue,Kn=null,ie=null;function Ke(n){if(typeof aa=="function"&&lr(n),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(Kn,n)}catch{}}var ve=Math.clz32?Math.clz32:or,Di=Math.log,ih=Math.LN2;function or(n){return n>>>=0,n===0?32:31-(Di(n)/ih|0)|0}var ki=256,xn=4194304;function ue(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ra(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var g=0,y=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?g=ue(c):(w&=C,w!==0?g=ue(w):a||(a=C&~n,a!==0&&(g=ue(a))))):(C=c&~y,C!==0?g=ue(C):w!==0?g=ue(w):a||(a=c&~n,a!==0&&(g=ue(a)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:g}function is(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function cr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var n=ki;return ki<<=1,(ki&4194048)===0&&(ki=256),n}function la(){var n=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),n}function Ts(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ni(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bl(n,i,a,c,g,y){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(a=w&~a;0<a;){var Q=31-ve(a),J=1<<Q;C[Q]=0,N[Q]=-1;var X=G[Q];if(X!==null)for(G[Q]=null,Q=0;Q<X.length;Q++){var Y=X[Q];Y!==null&&(Y.lane&=-536870913)}a&=~J}c!==0&&Al(n,c,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~i))}function Al(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-ve(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function ze(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-ve(a),g=1<<c;g&i|n[c]&i&&(n[c]|=i),a&=~g}}function Tn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function St(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function It(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:UE(n.type))}function Bn(n,i){var a=V.p;try{return V.p=n,i()}finally{V.p=a}}var Cn=Math.random().toString(36).slice(2),at="__reactFiber$"+Cn,mt="__reactProps$"+Cn,Et="__reactContainer$"+Cn,_e="__reactEvents$"+Cn,ln="__reactListeners$"+Cn,Pi="__reactHandles$"+Cn,ci="__reactResources$"+Cn,He="__reactMarker$"+Cn;function Rn(n){delete n[at],delete n[mt],delete n[_e],delete n[ln],delete n[Pi]}function Zt(n){var i=n[at];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Et]||a[at]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=CE(n);n!==null;){if(a=n[at])return a;n=CE(n)}return i}n=a,a=n.parentNode}return null}function ui(n){if(n=n[at]||n[Et]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Sl(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function hr(n){var i=n[ci];return i||(i=n[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(n){n[He]=!0}var sh=new Set,ah={};function Cs(n,i){oa(n,i),oa(n+"Capture",i)}function oa(n,i){for(ah[n]=i,n=0;n<i.length;n++)sh.add(i[n])}var Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ji={},nc={};function wl(n){return rn.call(nc,n)?!0:rn.call(ji,n)?!1:Jt.test(n)?nc[n]=!0:(ji[n]=!0,!1)}function ic(n,i,a){if(wl(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function dr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function ca(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var Bm,gA;function sc(n){if(Bm===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bm=i&&i[1]||"",gA=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bm+n+gA}var Um=!1;function Gm(n,i){if(!n||Um)return"";Um=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var X=Y}Reflect.construct(n,[],J)}else{try{J.call()}catch(Y){X=Y}n.call(J.prototype)}}else{try{throw Error()}catch(Y){X=Y}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&X&&typeof Y.stack=="string")return[Y.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var N=w.split(`
`),G=C.split(`
`);for(g=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(c===N.length||g===G.length)for(c=N.length-1,g=G.length-1;1<=c&&0<=g&&N[c]!==G[g];)g--;for(;1<=c&&0<=g;c--,g--)if(N[c]!==G[g]){if(c!==1||g!==1)do if(c--,g--,0>g||N[c]!==G[g]){var Q=`
`+N[c].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=c&&0<=g);break}}}finally{Um=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?sc(a):""}function sC(n){switch(n.tag){case 26:case 27:case 5:return sc(n.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 15:return Gm(n.type,!1);case 11:return Gm(n.type.render,!1);case 1:return Gm(n.type,!0);case 31:return sc("Activity");default:return""}}function mA(n){try{var i="";do i+=sC(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Fi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yA(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function aC(n){var i=yA(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function tp(n){n._valueTracker||(n._valueTracker=aC(n))}function vA(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=yA(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function ep(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var rC=/[\n"\\]/g;function zi(n){return n.replace(rC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qm(n,i,a,c,g,y,w,C){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Fi(i)):n.value!==""+Fi(i)&&(n.value=""+Fi(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?Vm(n,w,Fi(i)):a!=null?Vm(n,w,Fi(a)):c!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Fi(C):n.removeAttribute("name")}function bA(n,i,a,c,g,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+Fi(a):"",i=i!=null?""+Fi(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=C?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Vm(n,i,a){i==="number"&&ep(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ac(n,i,a,c){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fi(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function AA(n,i,a){if(i!=null&&(i=""+Fi(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Fi(a):""}function SA(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(s(92));if(ct(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Fi(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function rc(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var lC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wA(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||lC.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function EA(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&a[g]!==c&&wA(n,g,c)}else for(var y in i)i.hasOwnProperty(y)&&wA(n,y,i[y])}function Xm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function np(n){return cC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ym=null;function $m(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var lc=null,oc=null;function _A(n){var i=ui(n);if(i&&(n=i.stateNode)){var a=n[mt]||null;t:switch(n=i.stateNode,i.type){case"input":if(qm(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zi(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var g=c[mt]||null;if(!g)throw Error(s(90));qm(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&vA(c)}break t;case"textarea":AA(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ac(n,!!a.multiple,i,!1)}}}var Wm=!1;function xA(n,i,a){if(Wm)return n(i,a);Wm=!0;try{var c=n(i);return c}finally{if(Wm=!1,(lc!==null||oc!==null)&&(Bp(),lc&&(i=lc,n=oc,oc=lc=null,_A(i),n)))for(i=0;i<n.length;i++)_A(n[i])}}function rh(n,i){var a=n.stateNode;if(a===null)return null;var c=a[mt]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=!1;if(ua)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){Km=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{Km=!1}var fr=null,Qm=null,ip=null;function TA(){if(ip)return ip;var n,i=Qm,a=i.length,c,g="value"in fr?fr.value:fr.textContent,y=g.length;for(n=0;n<a&&i[n]===g[n];n++);var w=a-n;for(c=1;c<=w&&i[a-c]===g[y-c];c++);return ip=g.slice(n,1<c?1-c:void 0)}function sp(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ap(){return!0}function CA(){return!1}function Qn(n){function i(a,c,g,y,w){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ap:CA,this.isPropagationStopped=CA,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),i}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=Qn(El),oh=m({},El,{view:0,detail:0}),uC=Qn(oh),Zm,Jm,ch,lp=m({},oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ch&&(ch&&n.type==="mousemove"?(Zm=n.screenX-ch.screenX,Jm=n.screenY-ch.screenY):Jm=Zm=0,ch=n),Zm)},movementY:function(n){return"movementY"in n?n.movementY:Jm}}),RA=Qn(lp),hC=m({},lp,{dataTransfer:0}),dC=Qn(hC),fC=m({},oh,{relatedTarget:0}),ty=Qn(fC),pC=m({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),gC=Qn(pC),mC=m({},El,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yC=Qn(mC),vC=m({},El,{data:0}),MA=Qn(vC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wC(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=SC[n])?!!i[n]:!1}function ey(){return wC}var EC=m({},oh,{key:function(n){if(n.key){var i=bC[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=sp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?AC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(n){return n.type==="keypress"?sp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_C=Qn(EC),xC=m({},lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LA=Qn(xC),TC=m({},oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),CC=Qn(TC),RC=m({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=Qn(RC),LC=m({},lp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=Qn(LC),DC=m({},El,{newState:0,oldState:0}),kC=Qn(DC),NC=[9,13,27,32],ny=ua&&"CompositionEvent"in window,uh=null;ua&&"documentMode"in document&&(uh=document.documentMode);var PC=ua&&"TextEvent"in window&&!uh,OA=ua&&(!ny||uh&&8<uh&&11>=uh),DA=" ",kA=!1;function NA(n,i){switch(n){case"keyup":return NC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cc=!1;function jC(n,i){switch(n){case"compositionend":return PA(i);case"keypress":return i.which!==32?null:(kA=!0,DA);case"textInput":return n=i.data,n===DA&&kA?null:n;default:return null}}function FC(n,i){if(cc)return n==="compositionend"||!ny&&NA(n,i)?(n=TA(),ip=Qm=fr=null,cc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return OA&&i.locale!=="ko"?null:i.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jA(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!zC[n.type]:i==="textarea"}function FA(n,i,a,c){lc?oc?oc.push(c):oc=[c]:lc=c,i=Yp(i,"onChange"),0<i.length&&(a=new rp("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var hh=null,dh=null;function HC(n){yE(n,0)}function op(n){var i=Sl(n);if(vA(i))return n}function zA(n,i){if(n==="change")return i}var HA=!1;if(ua){var iy;if(ua){var sy="oninput"in document;if(!sy){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),sy=typeof IA.oninput=="function"}iy=sy}else iy=!1;HA=iy&&(!document.documentMode||9<document.documentMode)}function BA(){hh&&(hh.detachEvent("onpropertychange",UA),dh=hh=null)}function UA(n){if(n.propertyName==="value"&&op(dh)){var i=[];FA(i,dh,n,$m(n)),xA(HC,i)}}function IC(n,i,a){n==="focusin"?(BA(),hh=i,dh=a,hh.attachEvent("onpropertychange",UA)):n==="focusout"&&BA()}function BC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return op(dh)}function UC(n,i){if(n==="click")return op(i)}function GC(n,i){if(n==="input"||n==="change")return op(i)}function qC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var hi=typeof Object.is=="function"?Object.is:qC;function fh(n,i){if(hi(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!rn.call(i,g)||!hi(n[g],i[g]))return!1}return!0}function GA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qA(n,i){var a=GA(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=GA(a)}}function VA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?VA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function XA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ep(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ep(n.document)}return i}function ay(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var VC=ua&&"documentMode"in document&&11>=document.documentMode,uc=null,ry=null,ph=null,ly=!1;function YA(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ly||uc==null||uc!==ep(c)||(c=uc,"selectionStart"in c&&ay(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ph&&fh(ph,c)||(ph=c,c=Yp(ry,"onSelect"),0<c.length&&(i=new rp("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=uc)))}function _l(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var hc={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},oy={},$A={};ua&&($A=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function xl(n){if(oy[n])return oy[n];if(!hc[n])return n;var i=hc[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in $A)return oy[n]=i[a];return n}var WA=xl("animationend"),KA=xl("animationiteration"),QA=xl("animationstart"),XC=xl("transitionrun"),YC=xl("transitionstart"),$C=xl("transitioncancel"),ZA=xl("transitionend"),JA=new Map,cy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cy.push("scrollEnd");function ss(n,i){JA.set(n,i),Cs(i,[n])}var tS=new WeakMap;function Hi(n,i){if(typeof n=="object"&&n!==null){var a=tS.get(n);return a!==void 0?a:(i={value:n,source:i,stack:mA(i)},tS.set(n,i),i)}return{value:n,source:i,stack:mA(i)}}var Ii=[],dc=0,uy=0;function cp(){for(var n=dc,i=uy=dc=0;i<n;){var a=Ii[i];Ii[i++]=null;var c=Ii[i];Ii[i++]=null;var g=Ii[i];Ii[i++]=null;var y=Ii[i];if(Ii[i++]=null,c!==null&&g!==null){var w=c.pending;w===null?g.next=g:(g.next=w.next,w.next=g),c.pending=g}y!==0&&eS(a,g,y)}}function up(n,i,a,c){Ii[dc++]=n,Ii[dc++]=i,Ii[dc++]=a,Ii[dc++]=c,uy|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function hy(n,i,a,c){return up(n,i,a,c),hp(n)}function fc(n,i){return up(n,null,null,i),hp(n)}function eS(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var g=!1,y=n.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&i!==null&&(g=31-ve(a),n=y.hiddenUpdates,c=n[g],c===null?n[g]=[i]:c.push(i),i.lane=a|536870912),y):null}function hp(n){if(50<Hh)throw Hh=0,yv=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var pc={};function WC(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(n,i,a,c){return new WC(n,i,a,c)}function dy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ha(n,i){var a=n.alternate;return a===null?(a=di(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function nS(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function dp(n,i,a,c,g,y){var w=0;if(c=n,typeof n=="function")dy(n)&&(w=1);else if(typeof n=="string")w=QR(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case tt:return n=di(31,a,i,g),n.elementType=tt,n.lanes=y,n;case S:return Tl(a.children,g,y,i);case _:w=8,g|=24;break;case M:return n=di(12,a,i,g|2),n.elementType=M,n.lanes=y,n;case F:return n=di(13,a,i,g),n.elementType=F,n.lanes=y,n;case B:return n=di(19,a,i,g),n.elementType=B,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:w=10;break t;case L:w=9;break t;case j:w=11;break t;case q:w=14;break t;case W:w=16,c=null;break t}w=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=di(w,a,i,g),i.elementType=n,i.type=c,i.lanes=y,i}function Tl(n,i,a,c){return n=di(7,n,c,i),n.lanes=a,n}function fy(n,i,a){return n=di(6,n,null,i),n.lanes=a,n}function py(n,i,a){return i=di(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var gc=[],mc=0,fp=null,pp=0,Bi=[],Ui=0,Cl=null,da=1,fa="";function Rl(n,i){gc[mc++]=pp,gc[mc++]=fp,fp=n,pp=i}function iS(n,i,a){Bi[Ui++]=da,Bi[Ui++]=fa,Bi[Ui++]=Cl,Cl=n;var c=da;n=fa;var g=32-ve(c)-1;c&=~(1<<g),a+=1;var y=32-ve(i)+g;if(30<y){var w=g-g%5;y=(c&(1<<w)-1).toString(32),c>>=w,g-=w,da=1<<32-ve(i)+g|a<<g|c,fa=y+n}else da=1<<y|a<<g|c,fa=n}function gy(n){n.return!==null&&(Rl(n,1),iS(n,1,0))}function my(n){for(;n===fp;)fp=gc[--mc],gc[mc]=null,pp=gc[--mc],gc[mc]=null;for(;n===Cl;)Cl=Bi[--Ui],Bi[Ui]=null,fa=Bi[--Ui],Bi[Ui]=null,da=Bi[--Ui],Bi[Ui]=null}var Un=null,Ne=null,te=!1,Ml=null,Rs=!1,yy=Error(s(519));function Ll(n){var i=Error(s(418,""));throw yh(Hi(i,n)),yy}function sS(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[at]=n,i[mt]=c,a){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(a=0;a<Bh.length;a++)Ut(Bh[a],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":Ut("invalid",i),bA(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),tp(i);break;case"select":Ut("invalid",i);break;case"textarea":Ut("invalid",i),SA(i,c.value,c.defaultValue,c.children),tp(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||SE(i.textContent,a)?(c.popover!=null&&(Ut("beforetoggle",i),Ut("toggle",i)),c.onScroll!=null&&Ut("scroll",i),c.onScrollEnd!=null&&Ut("scrollend",i),c.onClick!=null&&(i.onclick=$p),i=!0):i=!1,i||Ll(n)}function aS(n){for(Un=n.return;Un;)switch(Un.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:Un=Un.return}}function gh(n){if(n!==Un)return!1;if(!te)return aS(n),te=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||kv(n.type,n.memoizedProps)),a=!a),a&&Ne&&Ll(n),aS(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ne=rs(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ne=null}}else i===27?(i=Ne,Mr(n.type)?(n=Fv,Fv=null,Ne=n):Ne=i):Ne=Un?rs(n.stateNode.nextSibling):null;return!0}function mh(){Ne=Un=null,te=!1}function rS(){var n=Ml;return n!==null&&(ti===null?ti=n:ti.push.apply(ti,n),Ml=null),n}function yh(n){Ml===null?Ml=[n]:Ml.push(n)}var vy=$(null),Ol=null,pa=null;function pr(n,i,a){et(vy,i._currentValue),i._currentValue=a}function ga(n){n._currentValue=vy.current,nt(vy)}function by(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Ay(n,i,a,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=g;for(var N=0;N<i.length;N++)if(C.context===i[N]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),by(y.return,a,n),c||(w=null);break t}y=C.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(s(341));w.lanes|=a,y=w.alternate,y!==null&&(y.lanes|=a),by(w,a,n),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function vh(n,i,a,c){n=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=g.type;hi(g.pendingProps.value,w.value)||(n!==null?n.push(C):n=[C])}}else if(g===Tt.current){if(w=g.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Yh):n=[Yh])}g=g.return}n!==null&&Ay(i,n,a,c),i.flags|=262144}function gp(n){for(n=n.firstContext;n!==null;){if(!hi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Dl(n){Ol=n,pa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return lS(Ol,n)}function mp(n,i){return Ol===null&&Dl(n),lS(n,i)}function lS(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},pa===null){if(n===null)throw Error(s(308));pa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pa=pa.next=i;return a}var KC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},QC=o.unstable_scheduleCallback,ZC=o.unstable_NormalPriority,Qe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sy(){return{controller:new KC,data:new Map,refCount:0}}function bh(n){n.refCount--,n.refCount===0&&QC(ZC,function(){n.controller.abort()})}var Ah=null,wy=0,yc=0,vc=null;function JC(n,i){if(Ah===null){var a=Ah=[];wy=0,yc=_v(),vc={status:"pending",value:void 0,then:function(c){a.push(c)}}}return wy++,i.then(oS,oS),i}function oS(){if(--wy===0&&Ah!==null){vc!==null&&(vc.status="fulfilled");var n=Ah;Ah=null,yc=0,vc=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function tR(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var cS=H.S;H.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JC(n,i),cS!==null&&cS(n,i)};var kl=$(null);function Ey(){var n=kl.current;return n!==null?n:be.pooledCache}function yp(n,i){i===null?et(kl,kl.current):et(kl,i.pool)}function uS(){var n=Ey();return n===null?null:{parent:Qe._currentValue,pool:n}}var Sh=Error(s(460)),hS=Error(s(474)),vp=Error(s(542)),_y={then:function(){}};function dS(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bp(){}function fS(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(bp,bp),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,gS(n),n;default:if(typeof i.status=="string")i.then(bp,bp);else{if(n=be,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,gS(n),n}throw wh=i,Sh}}var wh=null;function pS(){if(wh===null)throw Error(s(459));var n=wh;return wh=null,n}function gS(n){if(n===Sh||n===vp)throw Error(s(483))}var gr=!1;function xy(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ty(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function yr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(se&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=hp(n),eS(n,null,a),i}return up(n,c,i,a),hp(n)}function Eh(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,ze(n,a)}}function Cy(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?g=y=i:y=y.next=i}else g=y=i;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Ry=!1;function _h(){if(Ry){var n=vc;if(n!==null)throw n}}function xh(n,i,a,c){Ry=!1;var g=n.updateQueue;gr=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var N=C,G=N.next;N.next=null,w===null?y=G:w.next=G,w=N;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==w&&(C===null?Q.firstBaseUpdate=G:C.next=G,Q.lastBaseUpdate=N))}if(y!==null){var J=g.baseState;w=0,Q=G=N=null,C=y;do{var X=C.lane&-536870913,Y=X!==C.lane;if(Y?(Wt&X)===X:(c&X)===X){X!==0&&X===yc&&(Ry=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ct=n,wt=C;X=i;var fe=a;switch(wt.tag){case 1:if(Ct=wt.payload,typeof Ct=="function"){J=Ct.call(fe,J,X);break t}J=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=wt.payload,X=typeof Ct=="function"?Ct.call(fe,J,X):Ct,X==null)break t;J=m({},J,X);break t;case 2:gr=!0}}X=C.callback,X!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[X]:Y.push(X))}else Y={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(G=Q=Y,N=J):Q=Q.next=Y,w|=X;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);Q===null&&(N=J),g.baseState=N,g.firstBaseUpdate=G,g.lastBaseUpdate=Q,y===null&&(g.shared.lanes=0),xr|=w,n.lanes=w,n.memoizedState=J}}function mS(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function yS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)mS(a[n],i)}var bc=$(null),Ap=$(0);function vS(n,i){n=wa,et(Ap,n),et(bc,i),wa=n|i.baseLanes}function My(){et(Ap,wa),et(bc,bc.current)}function Ly(){wa=Ap.current,nt(bc),nt(Ap)}var vr=0,jt=null,he=null,Ve=null,Sp=!1,Ac=!1,Nl=!1,wp=0,Th=0,Sc=null,eR=0;function Be(){throw Error(s(321))}function Oy(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!hi(n[a],i[a]))return!1;return!0}function Dy(n,i,a,c,g,y){return vr=y,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=n===null||n.memoizedState===null?ew:nw,Nl=!1,y=a(c,g),Nl=!1,Ac&&(y=AS(i,a,c,g)),bS(n),y}function bS(n){H.H=Rp;var i=he!==null&&he.next!==null;if(vr=0,Ve=he=jt=null,Sp=!1,Th=0,Sc=null,i)throw Error(s(300));n===null||on||(n=n.dependencies,n!==null&&gp(n)&&(on=!0))}function AS(n,i,a,c){jt=n;var g=0;do{if(Ac&&(Sc=null),Th=0,Ac=!1,25<=g)throw Error(s(301));if(g+=1,Ve=he=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=oR,y=i(a,c)}while(Ac);return y}function nR(){var n=H.H,i=n.useState()[0];return i=typeof i.then=="function"?Ch(i):i,n=n.useState()[0],(he!==null?he.memoizedState:null)!==n&&(jt.flags|=1024),i}function ky(){var n=wp!==0;return wp=0,n}function Ny(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Py(n){if(Sp){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sp=!1}vr=0,Ve=he=jt=null,Ac=!1,Th=wp=0,Sc=null}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?jt.memoizedState=Ve=n:Ve=Ve.next=n,Ve}function Xe(){if(he===null){var n=jt.alternate;n=n!==null?n.memoizedState:null}else n=he.next;var i=Ve===null?jt.memoizedState:Ve.next;if(i!==null)Ve=i,he=n;else{if(n===null)throw jt.alternate===null?Error(s(467)):Error(s(310));he=n,n={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ve===null?jt.memoizedState=Ve=n:Ve=Ve.next=n}return Ve}function jy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ch(n){var i=Th;return Th+=1,Sc===null&&(Sc=[]),n=fS(Sc,n,i),i=jt,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?ew:nw),n}function Ep(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ch(n);if(n.$$typeof===k)return Mn(n)}throw Error(s(438,String(n)))}function Fy(n){var i=null,a=jt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=jt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jy(),jt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=it;return i.index++,a}function ma(n,i){return typeof i=="function"?i(n):i}function _p(n){var i=Xe();return zy(i,he,n)}function zy(n,i,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var g=n.baseQueue,y=c.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}i.baseQueue=g=y,c.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{i=g.next;var C=w=null,N=null,G=i,Q=!1;do{var J=G.lane&-536870913;if(J!==G.lane?(Wt&J)===J:(vr&J)===J){var X=G.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),J===yc&&(Q=!0);else if((vr&X)===X){G=G.next,X===yc&&(Q=!0);continue}else J={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(C=N=J,w=y):N=N.next=J,jt.lanes|=X,xr|=X;J=G.action,Nl&&a(y,J),y=G.hasEagerState?G.eagerState:a(y,J)}else X={lane:J,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(C=N=X,w=y):N=N.next=X,jt.lanes|=J,xr|=J;G=G.next}while(G!==null&&G!==i);if(N===null?w=y:N.next=C,!hi(y,n.memoizedState)&&(on=!0,Q&&(a=vc,a!==null)))throw a;n.memoizedState=y,n.baseState=w,n.baseQueue=N,c.lastRenderedState=y}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Hy(n){var i=Xe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,g=a.pending,y=i.memoizedState;if(g!==null){a.pending=null;var w=g=g.next;do y=n(y,w.action),w=w.next;while(w!==g);hi(y,i.memoizedState)||(on=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function SS(n,i,a){var c=jt,g=Xe(),y=te;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var w=!hi((he||g).memoizedState,a);w&&(g.memoizedState=a,on=!0),g=g.queue;var C=_S.bind(null,c,g,n);if(Rh(2048,8,C,[n]),g.getSnapshot!==i||w||Ve!==null&&Ve.memoizedState.tag&1){if(c.flags|=2048,wc(9,xp(),ES.bind(null,c,g,a,i),null),be===null)throw Error(s(349));y||(vr&124)!==0||wS(c,i,a)}return a}function wS(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=jt.updateQueue,i===null?(i=jy(),jt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function ES(n,i,a,c){i.value=a,i.getSnapshot=c,xS(i)&&TS(n)}function _S(n,i,a){return a(function(){xS(i)&&TS(n)})}function xS(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!hi(n,a)}catch{return!0}}function TS(n){var i=fc(n,2);i!==null&&yi(i,n,2)}function Iy(n){var i=Zn();if(typeof n=="function"){var a=n;if(n=a(),Nl){Ke(!0);try{a()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},i}function CS(n,i,a,c){return n.baseState=a,zy(n,he,typeof c=="function"?c:ma)}function iR(n,i,a,c,g){if(Cp(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};H.T!==null?a(!0):y.isTransition=!1,c(y),a=i.pending,a===null?(y.next=i.pending=y,RS(i,y)):(y.next=a.next,i.pending=a.next=y)}}function RS(n,i){var a=i.action,c=i.payload,g=n.state;if(i.isTransition){var y=H.T,w={};H.T=w;try{var C=a(g,c),N=H.S;N!==null&&N(w,C),MS(n,i,C)}catch(G){By(n,i,G)}finally{H.T=y}}else try{y=a(g,c),MS(n,i,y)}catch(G){By(n,i,G)}}function MS(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){LS(n,i,c)},function(c){return By(n,i,c)}):LS(n,i,a)}function LS(n,i,a){i.status="fulfilled",i.value=a,OS(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,RS(n,a)))}function By(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,OS(i),i=i.next;while(i!==c)}n.action=null}function OS(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function DS(n,i){return i}function kS(n,i){if(te){var a=be.formState;if(a!==null){t:{var c=jt;if(te){if(Ne){e:{for(var g=Ne,y=Rs;g.nodeType!==8;){if(!y){g=null;break e}if(g=rs(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ne=rs(g.nextSibling),c=g.data==="F!";break t}}Ll(c)}c=!1}c&&(i=a[0])}}return a=Zn(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DS,lastRenderedState:i},a.queue=c,a=ZS.bind(null,jt,c),c.dispatch=a,c=Iy(!1),y=Xy.bind(null,jt,!1,c.queue),c=Zn(),g={state:i,dispatch:null,action:n,pending:null},c.queue=g,a=iR.bind(null,jt,g,y,a),g.dispatch=a,c.memoizedState=n,[i,a,!1]}function NS(n){var i=Xe();return PS(i,he,n)}function PS(n,i,a){if(i=zy(n,i,DS)[0],n=_p(ma)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ch(i)}catch(w){throw w===Sh?vp:w}else c=i;i=Xe();var g=i.queue,y=g.dispatch;return a!==i.memoizedState&&(jt.flags|=2048,wc(9,xp(),sR.bind(null,g,a),null)),[c,y,n]}function sR(n,i){n.action=i}function jS(n){var i=Xe(),a=he;if(a!==null)return PS(i,a,n);Xe(),i=i.memoizedState,a=Xe();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function wc(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=jt.updateQueue,i===null&&(i=jy(),jt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function xp(){return{destroy:void 0,resource:void 0}}function FS(){return Xe().memoizedState}function Tp(n,i,a,c){var g=Zn();c=c===void 0?null:c,jt.flags|=n,g.memoizedState=wc(1|i,xp(),a,c)}function Rh(n,i,a,c){var g=Xe();c=c===void 0?null:c;var y=g.memoizedState.inst;he!==null&&c!==null&&Oy(c,he.memoizedState.deps)?g.memoizedState=wc(i,y,a,c):(jt.flags|=n,g.memoizedState=wc(1|i,y,a,c))}function zS(n,i){Tp(8390656,8,n,i)}function HS(n,i){Rh(2048,8,n,i)}function IS(n,i){return Rh(4,2,n,i)}function BS(n,i){return Rh(4,4,n,i)}function US(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function GS(n,i,a){a=a!=null?a.concat([n]):null,Rh(4,4,US.bind(null,i,n),a)}function Uy(){}function qS(n,i){var a=Xe();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Oy(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function VS(n,i){var a=Xe();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Oy(i,c[1]))return c[0];if(c=n(),Nl){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[c,i],c}function Gy(n,i,a){return a===void 0||(vr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=$w(),jt.lanes|=n,xr|=n,a)}function XS(n,i,a,c){return hi(a,i)?a:bc.current!==null?(n=Gy(n,a,c),hi(n,i)||(on=!0),n):(vr&42)===0?(on=!0,n.memoizedState=a):(n=$w(),jt.lanes|=n,xr|=n,i)}function YS(n,i,a,c,g){var y=V.p;V.p=y!==0&&8>y?y:8;var w=H.T,C={};H.T=C,Xy(n,!1,i,a);try{var N=g(),G=H.S;if(G!==null&&G(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=tR(N,c);Mh(n,i,Q,mi(n))}else Mh(n,i,c,mi(n))}catch(J){Mh(n,i,{then:function(){},status:"rejected",reason:J},mi())}finally{V.p=y,H.T=w}}function aR(){}function qy(n,i,a,c){if(n.tag!==5)throw Error(s(476));var g=$S(n).queue;YS(n,g,i,K,a===null?aR:function(){return WS(n),a(c)})}function $S(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:K},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function WS(n){var i=$S(n).next.queue;Mh(n,i,{},mi())}function Vy(){return Mn(Yh)}function KS(){return Xe().memoizedState}function QS(){return Xe().memoizedState}function rR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=mi();n=mr(a);var c=yr(i,n,a);c!==null&&(yi(c,i,a),Eh(c,i,a)),i={cache:Sy()},n.payload=i;return}i=i.return}}function lR(n,i,a){var c=mi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cp(n)?JS(i,a):(a=hy(n,i,a,c),a!==null&&(yi(a,n,c),tw(a,i,c)))}function ZS(n,i,a){var c=mi();Mh(n,i,a,c)}function Mh(n,i,a,c){var g={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cp(n))JS(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,C=y(w,a);if(g.hasEagerState=!0,g.eagerState=C,hi(C,w))return up(n,i,g,0),be===null&&cp(),!1}catch{}finally{}if(a=hy(n,i,g,c),a!==null)return yi(a,n,c),tw(a,i,c),!0}return!1}function Xy(n,i,a,c){if(c={lane:2,revertLane:_v(),action:c,hasEagerState:!1,eagerState:null,next:null},Cp(n)){if(i)throw Error(s(479))}else i=hy(n,a,c,2),i!==null&&yi(i,n,2)}function Cp(n){var i=n.alternate;return n===jt||i!==null&&i===jt}function JS(n,i){Ac=Sp=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function tw(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,ze(n,a)}}var Rp={readContext:Mn,use:Ep,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},ew={readContext:Mn,use:Ep,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:Mn,useEffect:zS,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Tp(4194308,4,US.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Tp(4194308,4,n,i)},useInsertionEffect:function(n,i){Tp(4,2,n,i)},useMemo:function(n,i){var a=Zn();i=i===void 0?null:i;var c=n();if(Nl){Ke(!0);try{n()}finally{Ke(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=Zn();if(a!==void 0){var g=a(i);if(Nl){Ke(!0);try{a(i)}finally{Ke(!1)}}}else g=i;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=lR.bind(null,jt,n),[c.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:function(n){n=Iy(n);var i=n.queue,a=ZS.bind(null,jt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Uy,useDeferredValue:function(n,i){var a=Zn();return Gy(a,n,i)},useTransition:function(){var n=Iy(!1);return n=YS.bind(null,jt,n.queue,!0,!1),Zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=jt,g=Zn();if(te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),be===null)throw Error(s(349));(Wt&124)!==0||wS(c,i,a)}g.memoizedState=a;var y={value:a,getSnapshot:i};return g.queue=y,zS(_S.bind(null,c,y,n),[n]),c.flags|=2048,wc(9,xp(),ES.bind(null,c,y,a,i),null),a},useId:function(){var n=Zn(),i=be.identifierPrefix;if(te){var a=fa,c=da;a=(c&~(1<<32-ve(c)-1)).toString(32)+a,i=""+i+"R"+a,a=wp++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=eR++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Vy,useFormState:kS,useActionState:kS,useOptimistic:function(n){var i=Zn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xy.bind(null,jt,!0,a),a.dispatch=i,[n,i]},useMemoCache:Fy,useCacheRefresh:function(){return Zn().memoizedState=rR.bind(null,jt)}},nw={readContext:Mn,use:Ep,useCallback:qS,useContext:Mn,useEffect:HS,useImperativeHandle:GS,useInsertionEffect:IS,useLayoutEffect:BS,useMemo:VS,useReducer:_p,useRef:FS,useState:function(){return _p(ma)},useDebugValue:Uy,useDeferredValue:function(n,i){var a=Xe();return XS(a,he.memoizedState,n,i)},useTransition:function(){var n=_p(ma)[0],i=Xe().memoizedState;return[typeof n=="boolean"?n:Ch(n),i]},useSyncExternalStore:SS,useId:KS,useHostTransitionStatus:Vy,useFormState:NS,useActionState:NS,useOptimistic:function(n,i){var a=Xe();return CS(a,he,n,i)},useMemoCache:Fy,useCacheRefresh:QS},oR={readContext:Mn,use:Ep,useCallback:qS,useContext:Mn,useEffect:HS,useImperativeHandle:GS,useInsertionEffect:IS,useLayoutEffect:BS,useMemo:VS,useReducer:Hy,useRef:FS,useState:function(){return Hy(ma)},useDebugValue:Uy,useDeferredValue:function(n,i){var a=Xe();return he===null?Gy(a,n,i):XS(a,he.memoizedState,n,i)},useTransition:function(){var n=Hy(ma)[0],i=Xe().memoizedState;return[typeof n=="boolean"?n:Ch(n),i]},useSyncExternalStore:SS,useId:KS,useHostTransitionStatus:Vy,useFormState:jS,useActionState:jS,useOptimistic:function(n,i){var a=Xe();return he!==null?CS(a,he,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Fy,useCacheRefresh:QS},Ec=null,Lh=0;function Mp(n){var i=Lh;return Lh+=1,Ec===null&&(Ec=[]),fS(Ec,n,i)}function Oh(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Lp(n,i){throw i.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function iw(n){var i=n._init;return i(n._payload)}function sw(n){function i(I,z){if(n){var U=I.deletions;U===null?(I.deletions=[z],I.flags|=16):U.push(z)}}function a(I,z){if(!n)return null;for(;z!==null;)i(I,z),z=z.sibling;return null}function c(I){for(var z=new Map;I!==null;)I.key!==null?z.set(I.key,I):z.set(I.index,I),I=I.sibling;return z}function g(I,z){return I=ha(I,z),I.index=0,I.sibling=null,I}function y(I,z,U){return I.index=U,n?(U=I.alternate,U!==null?(U=U.index,U<z?(I.flags|=67108866,z):U):(I.flags|=67108866,z)):(I.flags|=1048576,z)}function w(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function C(I,z,U,Z){return z===null||z.tag!==6?(z=fy(U,I.mode,Z),z.return=I,z):(z=g(z,U),z.return=I,z)}function N(I,z,U,Z){var gt=U.type;return gt===S?Q(I,z,U.props.children,Z,U.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===W&&iw(gt)===z.type)?(z=g(z,U.props),Oh(z,U),z.return=I,z):(z=dp(U.type,U.key,U.props,null,I.mode,Z),Oh(z,U),z.return=I,z)}function G(I,z,U,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=py(U,I.mode,Z),z.return=I,z):(z=g(z,U.children||[]),z.return=I,z)}function Q(I,z,U,Z,gt){return z===null||z.tag!==7?(z=Tl(U,I.mode,Z,gt),z.return=I,z):(z=g(z,U),z.return=I,z)}function J(I,z,U){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=fy(""+z,I.mode,U),z.return=I,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return U=dp(z.type,z.key,z.props,null,I.mode,U),Oh(U,z),U.return=I,U;case A:return z=py(z,I.mode,U),z.return=I,z;case W:var Z=z._init;return z=Z(z._payload),J(I,z,U)}if(ct(z)||ft(z))return z=Tl(z,I.mode,U,null),z.return=I,z;if(typeof z.then=="function")return J(I,Mp(z),U);if(z.$$typeof===k)return J(I,mp(I,z),U);Lp(I,z)}return null}function X(I,z,U,Z){var gt=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return gt!==null?null:C(I,z,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===gt?N(I,z,U,Z):null;case A:return U.key===gt?G(I,z,U,Z):null;case W:return gt=U._init,U=gt(U._payload),X(I,z,U,Z)}if(ct(U)||ft(U))return gt!==null?null:Q(I,z,U,Z,null);if(typeof U.then=="function")return X(I,z,Mp(U),Z);if(U.$$typeof===k)return X(I,z,mp(I,U),Z);Lp(I,U)}return null}function Y(I,z,U,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return I=I.get(U)||null,C(z,I,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return I=I.get(Z.key===null?U:Z.key)||null,N(z,I,Z,gt);case A:return I=I.get(Z.key===null?U:Z.key)||null,G(z,I,Z,gt);case W:var zt=Z._init;return Z=zt(Z._payload),Y(I,z,U,Z,gt)}if(ct(Z)||ft(Z))return I=I.get(U)||null,Q(z,I,Z,gt,null);if(typeof Z.then=="function")return Y(I,z,U,Mp(Z),gt);if(Z.$$typeof===k)return Y(I,z,U,mp(z,Z),gt);Lp(z,Z)}return null}function Ct(I,z,U,Z){for(var gt=null,zt=null,bt=z,_t=z=0,un=null;bt!==null&&_t<U.length;_t++){bt.index>_t?(un=bt,bt=null):un=bt.sibling;var Qt=X(I,bt,U[_t],Z);if(Qt===null){bt===null&&(bt=un);break}n&&bt&&Qt.alternate===null&&i(I,bt),z=y(Qt,z,_t),zt===null?gt=Qt:zt.sibling=Qt,zt=Qt,bt=un}if(_t===U.length)return a(I,bt),te&&Rl(I,_t),gt;if(bt===null){for(;_t<U.length;_t++)bt=J(I,U[_t],Z),bt!==null&&(z=y(bt,z,_t),zt===null?gt=bt:zt.sibling=bt,zt=bt);return te&&Rl(I,_t),gt}for(bt=c(bt);_t<U.length;_t++)un=Y(bt,I,_t,U[_t],Z),un!==null&&(n&&un.alternate!==null&&bt.delete(un.key===null?_t:un.key),z=y(un,z,_t),zt===null?gt=un:zt.sibling=un,zt=un);return n&&bt.forEach(function(Nr){return i(I,Nr)}),te&&Rl(I,_t),gt}function wt(I,z,U,Z){if(U==null)throw Error(s(151));for(var gt=null,zt=null,bt=z,_t=z=0,un=null,Qt=U.next();bt!==null&&!Qt.done;_t++,Qt=U.next()){bt.index>_t?(un=bt,bt=null):un=bt.sibling;var Nr=X(I,bt,Qt.value,Z);if(Nr===null){bt===null&&(bt=un);break}n&&bt&&Nr.alternate===null&&i(I,bt),z=y(Nr,z,_t),zt===null?gt=Nr:zt.sibling=Nr,zt=Nr,bt=un}if(Qt.done)return a(I,bt),te&&Rl(I,_t),gt;if(bt===null){for(;!Qt.done;_t++,Qt=U.next())Qt=J(I,Qt.value,Z),Qt!==null&&(z=y(Qt,z,_t),zt===null?gt=Qt:zt.sibling=Qt,zt=Qt);return te&&Rl(I,_t),gt}for(bt=c(bt);!Qt.done;_t++,Qt=U.next())Qt=Y(bt,I,_t,Qt.value,Z),Qt!==null&&(n&&Qt.alternate!==null&&bt.delete(Qt.key===null?_t:Qt.key),z=y(Qt,z,_t),zt===null?gt=Qt:zt.sibling=Qt,zt=Qt);return n&&bt.forEach(function(cM){return i(I,cM)}),te&&Rl(I,_t),gt}function fe(I,z,U,Z){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:t:{for(var gt=U.key;z!==null;){if(z.key===gt){if(gt=U.type,gt===S){if(z.tag===7){a(I,z.sibling),Z=g(z,U.props.children),Z.return=I,I=Z;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===W&&iw(gt)===z.type){a(I,z.sibling),Z=g(z,U.props),Oh(Z,U),Z.return=I,I=Z;break t}a(I,z);break}else i(I,z);z=z.sibling}U.type===S?(Z=Tl(U.props.children,I.mode,Z,U.key),Z.return=I,I=Z):(Z=dp(U.type,U.key,U.props,null,I.mode,Z),Oh(Z,U),Z.return=I,I=Z)}return w(I);case A:t:{for(gt=U.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){a(I,z.sibling),Z=g(z,U.children||[]),Z.return=I,I=Z;break t}else{a(I,z);break}else i(I,z);z=z.sibling}Z=py(U,I.mode,Z),Z.return=I,I=Z}return w(I);case W:return gt=U._init,U=gt(U._payload),fe(I,z,U,Z)}if(ct(U))return Ct(I,z,U,Z);if(ft(U)){if(gt=ft(U),typeof gt!="function")throw Error(s(150));return U=gt.call(U),wt(I,z,U,Z)}if(typeof U.then=="function")return fe(I,z,Mp(U),Z);if(U.$$typeof===k)return fe(I,z,mp(I,U),Z);Lp(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,z!==null&&z.tag===6?(a(I,z.sibling),Z=g(z,U),Z.return=I,I=Z):(a(I,z),Z=fy(U,I.mode,Z),Z.return=I,I=Z),w(I)):a(I,z)}return function(I,z,U,Z){try{Lh=0;var gt=fe(I,z,U,Z);return Ec=null,gt}catch(bt){if(bt===Sh||bt===vp)throw bt;var zt=di(29,bt,null,I.mode);return zt.lanes=Z,zt.return=I,zt}finally{}}}var _c=sw(!0),aw=sw(!1),Gi=$(null),Ms=null;function br(n){var i=n.alternate;et(Ze,Ze.current&1),et(Gi,n),Ms===null&&(i===null||bc.current!==null||i.memoizedState!==null)&&(Ms=n)}function rw(n){if(n.tag===22){if(et(Ze,Ze.current),et(Gi,n),Ms===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ms=n)}}else Ar()}function Ar(){et(Ze,Ze.current),et(Gi,Gi.current)}function ya(n){nt(Gi),Ms===n&&(Ms=null),nt(Ze)}var Ze=$(0);function Op(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jv(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yy(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:m({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $y={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=mi(),g=mr(c);g.payload=i,a!=null&&(g.callback=a),i=yr(n,g,c),i!==null&&(yi(i,n,c),Eh(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=mi(),g=mr(c);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=yr(n,g,c),i!==null&&(yi(i,n,c),Eh(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=mi(),c=mr(a);c.tag=2,i!=null&&(c.callback=i),i=yr(n,c,a),i!==null&&(yi(i,n,a),Eh(i,n,a))}};function lw(n,i,a,c,g,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,w):i.prototype&&i.prototype.isPureReactComponent?!fh(a,c)||!fh(g,y):!0}function ow(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&$y.enqueueReplaceState(i,i.state,null)}function Pl(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=m({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var Dp=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function cw(n){Dp(n)}function uw(n){console.error(n)}function hw(n){Dp(n)}function kp(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function dw(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wy(n,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){kp(n,i)},a}function fw(n){return n=mr(n),n.tag=3,n}function pw(n,i,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;n.payload=function(){return g(y)},n.callback=function(){dw(i,a,c)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){dw(i,a,c),typeof g!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function cR(n,i,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&vh(i,a,g,!0),a=Gi.current,a!==null){switch(a.tag){case 13:return Ms===null?bv():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===_y?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Sv(n,c,g)),!1;case 22:return a.flags|=65536,c===_y?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Sv(n,c,g)),!1}throw Error(s(435,a.tag))}return Sv(n,c,g),bv(),!1}if(te)return i=Gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==yy&&(n=Error(s(422),{cause:c}),yh(Hi(n,a)))):(c!==yy&&(i=Error(s(423),{cause:c}),yh(Hi(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=Hi(c,a),g=Wy(n.stateNode,c,g),Cy(n,g),Pe!==4&&(Pe=2)),!1;var y=Error(s(520),{cause:c});if(y=Hi(y,a),zh===null?zh=[y]:zh.push(y),Pe!==4&&(Pe=2),i===null)return!0;c=Hi(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Wy(a.stateNode,c,n),Cy(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tr===null||!Tr.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=fw(g),pw(g,n,a,c),Cy(a,g),!1}a=a.return}while(a!==null);return!1}var gw=Error(s(461)),on=!1;function yn(n,i,a,c){i.child=n===null?aw(i,null,a,c):_c(i,n.child,a,c)}function mw(n,i,a,c,g){a=a.render;var y=i.ref;if("ref"in c){var w={};for(var C in c)C!=="ref"&&(w[C]=c[C])}else w=c;return Dl(i),c=Dy(n,i,a,w,y,g),C=ky(),n!==null&&!on?(Ny(n,i,g),va(n,i,g)):(te&&C&&gy(i),i.flags|=1,yn(n,i,c,g),i.child)}function yw(n,i,a,c,g){if(n===null){var y=a.type;return typeof y=="function"&&!dy(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,vw(n,i,y,c,g)):(n=dp(a.type,null,c,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!iv(n,g)){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:fh,a(w,c)&&n.ref===i.ref)return va(n,i,g)}return i.flags|=1,n=ha(y,c),n.ref=i.ref,n.return=i,i.child=n}function vw(n,i,a,c,g){if(n!==null){var y=n.memoizedProps;if(fh(y,c)&&n.ref===i.ref)if(on=!1,i.pendingProps=c=y,iv(n,g))(n.flags&131072)!==0&&(on=!0);else return i.lanes=n.lanes,va(n,i,g)}return Ky(n,i,a,c,g)}function bw(n,i,a){var c=i.pendingProps,g=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|a:a,n!==null){for(g=i.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return Aw(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yp(i,y!==null?y.cachePool:null),y!==null?vS(i,y):My(),rw(i);else return i.lanes=i.childLanes=536870912,Aw(n,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(yp(i,y.cachePool),vS(i,y),Ar(),i.memoizedState=null):(n!==null&&yp(i,null),My(),Ar());return yn(n,i,g,a),i.child}function Aw(n,i,a,c){var g=Ey();return g=g===null?null:{parent:Qe._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&yp(i,null),My(),rw(i),n!==null&&vh(n,i,c,!0),null}function Np(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ky(n,i,a,c,g){return Dl(i),a=Dy(n,i,a,c,void 0,g),c=ky(),n!==null&&!on?(Ny(n,i,g),va(n,i,g)):(te&&c&&gy(i),i.flags|=1,yn(n,i,a,g),i.child)}function Sw(n,i,a,c,g,y){return Dl(i),i.updateQueue=null,a=AS(i,c,a,g),bS(n),c=ky(),n!==null&&!on?(Ny(n,i,y),va(n,i,y)):(te&&c&&gy(i),i.flags|=1,yn(n,i,a,y),i.child)}function ww(n,i,a,c,g){if(Dl(i),i.stateNode===null){var y=pc,w=a.contextType;typeof w=="object"&&w!==null&&(y=Mn(w)),y=new a(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=$y,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},xy(i),w=a.contextType,y.context=typeof w=="object"&&w!==null?Mn(w):pc,y.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Yy(i,a,w,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&$y.enqueueReplaceState(y,y.state,null),xh(i,c,y,g),_h(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,N=Pl(a,C);y.props=N;var G=y.context,Q=a.contextType;w=pc,typeof Q=="object"&&Q!==null&&(w=Mn(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||G!==w)&&ow(i,y,c,w),gr=!1;var X=i.memoizedState;y.state=X,xh(i,c,y,g),_h(),G=i.memoizedState,C||X!==G||gr?(typeof J=="function"&&(Yy(i,a,J,c),G=i.memoizedState),(N=gr||lw(i,a,N,c,X,G,w))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),y.props=c,y.state=G,y.context=w,c=N):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Ty(n,i),w=i.memoizedProps,Q=Pl(a,w),y.props=Q,J=i.pendingProps,X=y.context,G=a.contextType,N=pc,typeof G=="object"&&G!==null&&(N=Mn(G)),C=a.getDerivedStateFromProps,(G=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==J||X!==N)&&ow(i,y,c,N),gr=!1,X=i.memoizedState,y.state=X,xh(i,c,y,g),_h();var Y=i.memoizedState;w!==J||X!==Y||gr||n!==null&&n.dependencies!==null&&gp(n.dependencies)?(typeof C=="function"&&(Yy(i,a,C,c),Y=i.memoizedState),(Q=gr||lw(i,a,Q,c,X,Y,N)||n!==null&&n.dependencies!==null&&gp(n.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Y,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Y,N)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Y),y.props=c,y.state=Y,y.context=N,c=Q):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),c=!1)}return y=c,Np(n,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&c?(i.child=_c(i,n.child,null,g),i.child=_c(i,null,a,g)):yn(n,i,a,g),i.memoizedState=y.state,n=i.child):n=va(n,i,g),n}function Ew(n,i,a,c){return mh(),i.flags|=256,yn(n,i,a,c),i.child}var Qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zy(n){return{baseLanes:n,cachePool:uS()}}function Jy(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=qi),n}function _w(n,i,a){var c=i.pendingProps,g=!1,y=(i.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(Ze.current&2)!==0),w&&(g=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(te){if(g?br(i):Ar(),te){var C=Ne,N;if(N=C){t:{for(N=C,C=Rs;N.nodeType!==8;){if(!C){C=null;break t}if(N=rs(N.nextSibling),N===null){C=null;break t}}C=N}C!==null?(i.memoizedState={dehydrated:C,treeContext:Cl!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},N=di(18,null,null,0),N.stateNode=C,N.return=i,i.child=N,Un=i,Ne=null,N=!0):N=!1}N||Ll(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return jv(C)?i.lanes=32:i.lanes=536870912,null;ya(i)}return C=c.children,c=c.fallback,g?(Ar(),g=i.mode,C=Pp({mode:"hidden",children:C},g),c=Tl(c,g,a,null),C.return=i,c.return=i,C.sibling=c,i.child=C,g=i.child,g.memoizedState=Zy(a),g.childLanes=Jy(n,w,a),i.memoizedState=Qy,c):(br(i),tv(i,C))}if(N=n.memoizedState,N!==null&&(C=N.dehydrated,C!==null)){if(y)i.flags&256?(br(i),i.flags&=-257,i=ev(n,i,a)):i.memoizedState!==null?(Ar(),i.child=n.child,i.flags|=128,i=null):(Ar(),g=c.fallback,C=i.mode,c=Pp({mode:"visible",children:c.children},C),g=Tl(g,C,a,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,_c(i,n.child,null,a),c=i.child,c.memoizedState=Zy(a),c.childLanes=Jy(n,w,a),i.memoizedState=Qy,i=g);else if(br(i),jv(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var G=w.dgst;w=G,c=Error(s(419)),c.stack="",c.digest=w,yh({value:c,source:null,stack:null}),i=ev(n,i,a)}else if(on||vh(n,i,a,!1),w=(a&n.childLanes)!==0,on||w){if(w=be,w!==null&&(c=a&-a,c=(c&42)!==0?1:Tn(c),c=(c&(w.suspendedLanes|a))!==0?0:c,c!==0&&c!==N.retryLane))throw N.retryLane=c,fc(n,c),yi(w,n,c),gw;C.data==="$?"||bv(),i=ev(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,Ne=rs(C.nextSibling),Un=i,te=!0,Ml=null,Rs=!1,n!==null&&(Bi[Ui++]=da,Bi[Ui++]=fa,Bi[Ui++]=Cl,da=n.id,fa=n.overflow,Cl=i),i=tv(i,c.children),i.flags|=4096);return i}return g?(Ar(),g=c.fallback,C=i.mode,N=n.child,G=N.sibling,c=ha(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,G!==null?g=ha(G,g):(g=Tl(g,C,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,C=n.child.memoizedState,C===null?C=Zy(a):(N=C.cachePool,N!==null?(G=Qe._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=uS(),C={baseLanes:C.baseLanes|a,cachePool:N}),g.memoizedState=C,g.childLanes=Jy(n,w,a),i.memoizedState=Qy,c):(br(i),a=n.child,n=a.sibling,a=ha(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=a,i.memoizedState=null,a)}function tv(n,i){return i=Pp({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Pp(n,i){return n=di(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ev(n,i,a){return _c(i,n.child,null,a),n=tv(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xw(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),by(n.return,i,a)}function nv(n,i,a,c,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=g)}function Tw(n,i,a){var c=i.pendingProps,g=c.revealOrder,y=c.tail;if(yn(n,i,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xw(n,a,i);else if(n.tag===19)xw(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(et(Ze,c),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&Op(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),nv(i,!1,g,a,y);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Op(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}nv(i,!0,a,null,y);break;case"together":nv(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function va(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(vh(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ha(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ha(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function iv(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gp(n)))}function uR(n,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),pr(i,Qe,n.memoizedState.cache),mh();break;case 27:case 5:Xt(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_w(n,i,a):(br(i),n=va(n,i,a),n!==null?n.sibling:null);br(i);break;case 19:var g=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(vh(n,i,a,!1),c=(a&i.childLanes)!==0),g){if(c)return Tw(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,bw(n,i,a);case 24:pr(i,Qe,n.memoizedState.cache)}return va(n,i,a)}function Cw(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)on=!0;else{if(!iv(n,a)&&(i.flags&128)===0)return on=!1,uR(n,i,a);on=(n.flags&131072)!==0}else on=!1,te&&(i.flags&1048576)!==0&&iS(i,pp,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")dy(c)?(n=Pl(c,n),i.tag=1,i=ww(null,i,c,n,a)):(i.tag=0,i=Ky(null,i,c,n,a));else{if(c!=null){if(g=c.$$typeof,g===j){i.tag=11,i=mw(null,i,c,n,a);break t}else if(g===q){i.tag=14,i=yw(null,i,c,n,a);break t}}throw i=rt(c)||c,Error(s(306,i,""))}}return i;case 0:return Ky(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,g=Pl(c,i.pendingProps),ww(n,i,c,g,a);case 3:t:{if(Dt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;g=y.element,Ty(n,i),xh(i,c,null,a);var w=i.memoizedState;if(c=w.cache,pr(i,Qe,c),c!==y.cache&&Ay(i,[Qe],a,!0),_h(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Ew(n,i,c,a);break t}else if(c!==g){g=Hi(Error(s(424)),i),yh(g),i=Ew(n,i,c,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ne=rs(n.firstChild),Un=i,te=!0,Ml=null,Rs=!0,a=aw(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(mh(),c===g){i=va(n,i,a);break t}yn(n,i,c,a)}i=i.child}return i;case 26:return Np(n,i),n===null?(a=OE(i.type,null,i.pendingProps,null))?i.memoizedState=a:te||(a=i.type,n=i.pendingProps,c=Wp(ut.current).createElement(a),c[at]=i,c[mt]=n,bn(c,a,n),Ie(c),i.stateNode=c):i.memoizedState=OE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Xt(i),n===null&&te&&(c=i.stateNode=RE(i.type,i.pendingProps,ut.current),Un=i,Rs=!0,g=Ne,Mr(i.type)?(Fv=g,Ne=rs(c.firstChild)):Ne=g),yn(n,i,i.pendingProps.children,a),Np(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&te&&((g=c=Ne)&&(c=zR(c,i.type,i.pendingProps,Rs),c!==null?(i.stateNode=c,Un=i,Ne=rs(c.firstChild),Rs=!1,g=!0):g=!1),g||Ll(i)),Xt(i),g=i.type,y=i.pendingProps,w=n!==null?n.memoizedProps:null,c=y.children,kv(g,y)?c=null:w!==null&&kv(g,w)&&(i.flags|=32),i.memoizedState!==null&&(g=Dy(n,i,nR,null,null,a),Yh._currentValue=g),Np(n,i),yn(n,i,c,a),i.child;case 6:return n===null&&te&&((n=a=Ne)&&(a=HR(a,i.pendingProps,Rs),a!==null?(i.stateNode=a,Un=i,Ne=null,n=!0):n=!1),n||Ll(i)),null;case 13:return _w(n,i,a);case 4:return Dt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=_c(i,null,c,a):yn(n,i,c,a),i.child;case 11:return mw(n,i,i.type,i.pendingProps,a);case 7:return yn(n,i,i.pendingProps,a),i.child;case 8:return yn(n,i,i.pendingProps.children,a),i.child;case 12:return yn(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,pr(i,i.type,c.value),yn(n,i,c.children,a),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,Dl(i),g=Mn(g),c=c(g),i.flags|=1,yn(n,i,c,a),i.child;case 14:return yw(n,i,i.type,i.pendingProps,a);case 15:return vw(n,i,i.type,i.pendingProps,a);case 19:return Tw(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=Pp(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ha(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return bw(n,i,a);case 24:return Dl(i),c=Mn(Qe),n===null?(g=Ey(),g===null&&(g=be,y=Sy(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),i.memoizedState={parent:c,cache:g},xy(i),pr(i,Qe,g)):((n.lanes&a)!==0&&(Ty(n,i),xh(i,null,null,a),_h()),g=n.memoizedState,y=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),pr(i,Qe,c)):(c=y.cache,pr(i,Qe,c),c!==g.cache&&Ay(i,[Qe],a,!0))),yn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ba(n){n.flags|=4}function Rw(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jE(i)){if(i=Gi.current,i!==null&&((Wt&4194048)===Wt?Ms!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||i!==Ms))throw wh=_y,hS;n.flags|=8192}}function jp(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?la():536870912,n.lanes|=i,Rc|=i)}function Dh(n,i){if(!te)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function xe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function hR(n,i,a){var c=i.pendingProps;switch(my(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(i),null;case 1:return xe(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ga(Qe),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gh(i)?ba(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rS())),xe(i),null;case 26:return a=i.memoizedState,n===null?(ba(i),a!==null?(xe(i),Rw(i,a)):(xe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ba(i),xe(i),Rw(i,a)):(xe(i),i.flags&=-16777217):(n.memoizedProps!==c&&ba(i),xe(i),i.flags&=-16777217),null;case 27:Oe(i),a=ut.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return xe(i),null}n=ht.current,gh(i)?sS(i):(n=RE(g,c,a),i.stateNode=n,ba(i))}return xe(i),null;case 5:if(Oe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return xe(i),null}if(n=ht.current,gh(i))sS(i);else{switch(g=Wp(ut.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?g.createElement(a,{is:c.is}):g.createElement(a)}}n[at]=i,n[mt]=c;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;t:switch(bn(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ba(i)}}return xe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=ut.current,gh(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,g=Un,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[at]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||SE(n.nodeValue,a)),n||Ll(i)}else n=Wp(n).createTextNode(c),n[at]=i,i.stateNode=n}return xe(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=gh(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[at]=i}else mh(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xe(i),g=!1}else g=rS(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ya(i),i):(ya(i),null)}if(ya(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),jp(i,i.updateQueue),xe(i),null;case 4:return Gt(),n===null&&Rv(i.stateNode.containerInfo),xe(i),null;case 10:return ga(i.type),xe(i),null;case 19:if(nt(Ze),g=i.memoizedState,g===null)return xe(i),null;if(c=(i.flags&128)!==0,y=g.rendering,y===null)if(c)Dh(g,!1);else{if(Pe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Op(n),y!==null){for(i.flags|=128,Dh(g,!1),n=y.updateQueue,i.updateQueue=n,jp(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)nS(a,n),a=a.sibling;return et(Ze,Ze.current&1|2),i.child}n=n.sibling}g.tail!==null&&ke()>Hp&&(i.flags|=128,c=!0,Dh(g,!1),i.lanes=4194304)}else{if(!c)if(n=Op(y),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,jp(i,n),Dh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!te)return xe(i),null}else 2*ke()-g.renderingStartTime>Hp&&a!==536870912&&(i.flags|=128,c=!0,Dh(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(n=g.last,n!==null?n.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ke(),i.sibling=null,n=Ze.current,et(Ze,c?n&1|2:n&1),i):(xe(i),null);case 22:case 23:return ya(i),Ly(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(xe(i),i.subtreeFlags&6&&(i.flags|=8192)):xe(i),a=i.updateQueue,a!==null&&jp(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&nt(kl),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ga(Qe),xe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dR(n,i){switch(my(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ga(Qe),Gt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 13:if(ya(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));mh()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return nt(Ze),null;case 4:return Gt(),null;case 10:return ga(i.type),null;case 22:case 23:return ya(i),Ly(),n!==null&&nt(kl),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ga(Qe),null;case 25:return null;default:return null}}function Mw(n,i){switch(my(i),i.tag){case 3:ga(Qe),Gt();break;case 26:case 27:case 5:Oe(i);break;case 4:Gt();break;case 13:ya(i);break;case 19:nt(Ze);break;case 10:ga(i.type);break;case 22:case 23:ya(i),Ly(),n!==null&&nt(kl);break;case 24:ga(Qe)}}function kh(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&n)===n){c=void 0;var y=a.create,w=a.inst;c=y(),w.destroy=c}a=a.next}while(a!==g)}}catch(C){me(i,i.return,C)}}function Sr(n,i,a){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&n)===n){var w=c.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,g=i;var N=a,G=C;try{G()}catch(Q){me(g,N,Q)}}}c=c.next}while(c!==y)}}catch(Q){me(i,i.return,Q)}}function Lw(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{yS(i,a)}catch(c){me(n,n.return,c)}}}function Ow(n,i,a){a.props=Pl(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){me(n,i,c)}}function Nh(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(g){me(n,i,g)}}function Ls(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){me(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){me(n,i,g)}else a.current=null}function Dw(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){me(n,n.return,g)}}function sv(n,i,a){try{var c=n.stateNode;kR(c,n.type,a,i),c[mt]=i}catch(g){me(n,n.return,g)}}function kw(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Mr(n.type)||n.tag===4}function av(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||kw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Mr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rv(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$p));else if(c!==4&&(c===27&&Mr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(rv(n,i,a),n=n.sibling;n!==null;)rv(n,i,a),n=n.sibling}function Fp(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&Mr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Fp(n,i,a),n=n.sibling;n!==null;)Fp(n,i,a),n=n.sibling}function Nw(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);bn(i,c,a),i[at]=n,i[mt]=a}catch(y){me(n,n.return,y)}}var Aa=!1,Ue=!1,lv=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,cn=null;function fR(n,i){if(n=n.containerInfo,Ov=eg,n=XA(n),ay(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var w=0,C=-1,N=-1,G=0,Q=0,J=n,X=null;e:for(;;){for(var Y;J!==a||g!==0&&J.nodeType!==3||(C=w+g),J!==y||c!==0&&J.nodeType!==3||(N=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(Y=J.firstChild)!==null;)X=J,J=Y;for(;;){if(J===n)break e;if(X===a&&++G===g&&(C=w),X===y&&++Q===c&&(N=w),(Y=J.nextSibling)!==null)break;J=X,X=J.parentNode}J=Y}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dv={focusedElem:n,selectionRange:a},eg=!1,cn=i;cn!==null;)if(i=cn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,cn=n;else for(;cn!==null;){switch(i=cn,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,g=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var Ct=Pl(a.type,g,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(Ct,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(wt){me(a,a.return,wt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Pv(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pv(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,cn=n;break}cn=i.return}}function jw(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a),c&4&&kh(5,a);break;case 1:if(wr(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){me(a,a.return,w)}else{var g=Pl(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){me(a,a.return,w)}}c&64&&Lw(a),c&512&&Nh(a,a.return);break;case 3:if(wr(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yS(n,i)}catch(w){me(a,a.return,w)}}break;case 27:i===null&&c&4&&Nw(a);case 26:case 5:wr(n,a),i===null&&c&4&&Dw(a),c&512&&Nh(a,a.return);break;case 12:wr(n,a);break;case 13:wr(n,a),c&4&&Hw(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=wR.bind(null,a),IR(n,a))));break;case 22:if(c=a.memoizedState!==null||Aa,!c){i=i!==null&&i.memoizedState!==null||Ue,g=Aa;var y=Ue;Aa=c,(Ue=i)&&!y?Er(n,a,(a.subtreeFlags&8772)!==0):wr(n,a),Aa=g,Ue=y}break;case 30:break;default:wr(n,a)}}function Fw(n){var i=n.alternate;i!==null&&(n.alternate=null,Fw(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Rn(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var we=null,Jn=!1;function Sa(n,i,a){for(a=a.child;a!==null;)zw(n,i,a),a=a.sibling}function zw(n,i,a){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ue||Ls(a,i),Sa(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Ls(a,i);var c=we,g=Jn;Mr(a.type)&&(we=a.stateNode,Jn=!1),Sa(n,i,a),Gh(a.stateNode),we=c,Jn=g;break;case 5:Ue||Ls(a,i);case 6:if(c=we,g=Jn,we=null,Sa(n,i,a),we=c,Jn=g,we!==null)if(Jn)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(a.stateNode)}catch(y){me(a,i,y)}else try{we.removeChild(a.stateNode)}catch(y){me(a,i,y)}break;case 18:we!==null&&(Jn?(n=we,TE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Qh(n)):TE(we,a.stateNode));break;case 4:c=we,g=Jn,we=a.stateNode.containerInfo,Jn=!0,Sa(n,i,a),we=c,Jn=g;break;case 0:case 11:case 14:case 15:Ue||Sr(2,a,i),Ue||Sr(4,a,i),Sa(n,i,a);break;case 1:Ue||(Ls(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Ow(a,i,c)),Sa(n,i,a);break;case 21:Sa(n,i,a);break;case 22:Ue=(c=Ue)||a.memoizedState!==null,Sa(n,i,a),Ue=c;break;default:Sa(n,i,a)}}function Hw(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qh(n)}catch(a){me(i,i.return,a)}}function pR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Pw),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Pw),i;default:throw Error(s(435,n.tag))}}function ov(n,i){var a=pR(n);i.forEach(function(c){var g=ER.bind(null,n,c);a.has(c)||(a.add(c),c.then(g,g))})}function fi(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],y=n,w=i,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Mr(C.type)){we=C.stateNode,Jn=!1;break t}break;case 5:we=C.stateNode,Jn=!1;break t;case 3:case 4:we=C.stateNode.containerInfo,Jn=!0;break t}C=C.return}if(we===null)throw Error(s(160));zw(y,w,g),we=null,Jn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Iw(i,n),i=i.sibling}var as=null;function Iw(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fi(i,n),pi(n),c&4&&(Sr(3,n,n.return),kh(3,n),Sr(5,n,n.return));break;case 1:fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),c&64&&Aa&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=as;if(fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){t:{c=n.type,a=n.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[He]||y[at]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),bn(y,c,a),y[at]=n,Ie(y),c=y;break t;case"link":var w=NE("link","href",g).get(c+(a.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(C,1);break e}}y=g.createElement(c),bn(y,c,a),g.head.appendChild(y);break;case"meta":if(w=NE("meta","content",g).get(c+(a.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(C,1);break e}}y=g.createElement(c),bn(y,c,a),g.head.appendChild(y);break;default:throw Error(s(468,c))}y[at]=n,Ie(y),c=y}n.stateNode=c}else PE(g,n.type,n.stateNode);else n.stateNode=kE(g,c,n.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?PE(g,n.type,n.stateNode):kE(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&sv(n,n.memoizedProps,a.memoizedProps)}break;case 27:fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),a!==null&&c&4&&sv(n,n.memoizedProps,a.memoizedProps);break;case 5:if(fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),n.flags&32){g=n.stateNode;try{rc(g,"")}catch(Y){me(n,n.return,Y)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,sv(n,g,a!==null?a.memoizedProps:g)),c&1024&&(lv=!0);break;case 6:if(fi(i,n),pi(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(Y){me(n,n.return,Y)}}break;case 3:if(Zp=null,g=as,as=Kp(i.containerInfo),fi(i,n),as=g,pi(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Qh(i.containerInfo)}catch(Y){me(n,n.return,Y)}lv&&(lv=!1,Bw(n));break;case 4:c=as,as=Kp(n.stateNode.containerInfo),fi(i,n),pi(n),as=c;break;case 12:fi(i,n),pi(n);break;case 13:fi(i,n),pi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pv=ke()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ov(n,c)));break;case 22:g=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=Aa,Q=Ue;if(Aa=G||g,Ue=Q||N,fi(i,n),Ue=Q,Aa=G,pi(n),c&8192)t:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||N||Aa||Ue||jl(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(y=N.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=N.stateNode;var J=N.memoizedProps.style,X=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Y){me(N,N.return,Y)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(Y){me(N,N.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,ov(n,a))));break;case 19:fi(i,n),pi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ov(n,c)));break;case 30:break;case 21:break;default:fi(i,n),pi(n)}}function pi(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(kw(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=av(n);Fp(n,y,g);break;case 5:var w=a.stateNode;a.flags&32&&(rc(w,""),a.flags&=-33);var C=av(n);Fp(n,C,w);break;case 3:case 4:var N=a.stateNode.containerInfo,G=av(n);rv(n,G,N);break;default:throw Error(s(161))}}catch(Q){me(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Bw(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Bw(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function wr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jw(n,i.alternate,i),i=i.sibling}function jl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),jl(i);break;case 1:Ls(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ow(i,i.return,a),jl(i);break;case 27:Gh(i.stateNode);case 26:case 5:Ls(i,i.return),jl(i);break;case 22:i.memoizedState===null&&jl(i);break;case 30:jl(i);break;default:jl(i)}n=n.sibling}}function Er(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=n,y=i,w=y.flags;switch(y.tag){case 0:case 11:case 15:Er(g,y,a),kh(4,y);break;case 1:if(Er(g,y,a),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){me(c,c.return,G)}if(c=y,g=c.updateQueue,g!==null){var C=c.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)mS(N[g],C)}catch(G){me(c,c.return,G)}}a&&w&64&&Lw(y),Nh(y,y.return);break;case 27:Nw(y);case 26:case 5:Er(g,y,a),a&&c===null&&w&4&&Dw(y),Nh(y,y.return);break;case 12:Er(g,y,a);break;case 13:Er(g,y,a),a&&w&4&&Hw(g,y);break;case 22:y.memoizedState===null&&Er(g,y,a),Nh(y,y.return);break;case 30:break;default:Er(g,y,a)}i=i.sibling}}function cv(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bh(a))}function uv(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bh(n))}function Os(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uw(n,i,a,c),i=i.sibling}function Uw(n,i,a,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Os(n,i,a,c),g&2048&&kh(9,i);break;case 1:Os(n,i,a,c);break;case 3:Os(n,i,a,c),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bh(n)));break;case 12:if(g&2048){Os(n,i,a,c),n=i.stateNode;try{var y=i.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){me(i,i.return,N)}}else Os(n,i,a,c);break;case 13:Os(n,i,a,c);break;case 23:break;case 22:y=i.stateNode,w=i.alternate,i.memoizedState!==null?y._visibility&2?Os(n,i,a,c):Ph(n,i):y._visibility&2?Os(n,i,a,c):(y._visibility|=2,xc(n,i,a,c,(i.subtreeFlags&10256)!==0)),g&2048&&cv(w,i);break;case 24:Os(n,i,a,c),g&2048&&uv(i.alternate,i);break;default:Os(n,i,a,c)}}function xc(n,i,a,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,w=i,C=a,N=c,G=w.flags;switch(w.tag){case 0:case 11:case 15:xc(y,w,C,N,g),kh(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?xc(y,w,C,N,g):Ph(y,w):(Q._visibility|=2,xc(y,w,C,N,g)),g&&G&2048&&cv(w.alternate,w);break;case 24:xc(y,w,C,N,g),g&&G&2048&&uv(w.alternate,w);break;default:xc(y,w,C,N,g)}i=i.sibling}}function Ph(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,g=c.flags;switch(c.tag){case 22:Ph(a,c),g&2048&&cv(c.alternate,c);break;case 24:Ph(a,c),g&2048&&uv(c.alternate,c);break;default:Ph(a,c)}i=i.sibling}}var jh=8192;function Tc(n){if(n.subtreeFlags&jh)for(n=n.child;n!==null;)Gw(n),n=n.sibling}function Gw(n){switch(n.tag){case 26:Tc(n),n.flags&jh&&n.memoizedState!==null&&JR(as,n.memoizedState,n.memoizedProps);break;case 5:Tc(n);break;case 3:case 4:var i=as;as=Kp(n.stateNode.containerInfo),Tc(n),as=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=jh,jh=16777216,Tc(n),jh=i):Tc(n));break;default:Tc(n)}}function qw(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];cn=c,Xw(c,n)}qw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vw(n),n=n.sibling}function Vw(n){switch(n.tag){case 0:case 11:case 15:Fh(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:Fh(n);break;case 12:Fh(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,zp(n)):Fh(n);break;default:Fh(n)}}function zp(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];cn=c,Xw(c,n)}qw(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),zp(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zp(i));break;default:zp(i)}n=n.sibling}}function Xw(n,i){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:Sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bh(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,cn=c;else t:for(a=n;cn!==null;){c=cn;var g=c.sibling,y=c.return;if(Fw(c),c===a){cn=null;break t}if(g!==null){g.return=y,cn=g;break t}cn=y}}}var gR={getCacheForType:function(n){var i=Mn(Qe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},mR=typeof WeakMap=="function"?WeakMap:Map,se=0,be=null,Bt=null,Wt=0,ae=0,gi=null,_r=!1,Cc=!1,hv=!1,wa=0,Pe=0,xr=0,Fl=0,dv=0,qi=0,Rc=0,zh=null,ti=null,fv=!1,pv=0,Hp=1/0,Ip=null,Tr=null,vn=0,Cr=null,Mc=null,Lc=0,gv=0,mv=null,Yw=null,Hh=0,yv=null;function mi(){if((se&2)!==0&&Wt!==0)return Wt&-Wt;if(H.T!==null){var n=yc;return n!==0?n:_v()}return It()}function $w(){qi===0&&(qi=(Wt&536870912)===0||te?ur():536870912);var n=Gi.current;return n!==null&&(n.flags|=32),qi}function yi(n,i,a){(n===be&&(ae===2||ae===9)||n.cancelPendingCommit!==null)&&(Oc(n,0),Rr(n,Wt,qi,!1)),Ni(n,a),((se&2)===0||n!==be)&&(n===be&&((se&2)===0&&(Fl|=a),Pe===4&&Rr(n,Wt,qi,!1)),Ds(n))}function Ww(n,i,a){if((se&6)!==0)throw Error(s(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||is(n,i),g=c?bR(n,i):Av(n,i,!0),y=c;do{if(g===0){Cc&&!c&&Rr(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!yR(a)){g=Av(n,i,!1),y=!1;continue}if(g===2){if(y=i,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var C=n;g=zh;var N=C.current.memoizedState.isDehydrated;if(N&&(Oc(C,w).flags|=256),w=Av(C,w,!1),w!==2){if(hv&&!N){C.errorRecoveryDisabledLanes|=y,Fl|=y,g=4;break t}y=ti,ti=g,y!==null&&(ti===null?ti=y:ti.push.apply(ti,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){Oc(n,0),Rr(n,i,0,!0);break}t:{switch(c=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(c,i,qi,!_r);break t;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=pv+300-ke(),10<g)){if(Rr(c,i,qi,!_r),ra(c,0,!0)!==0)break t;c.timeoutHandle=_E(Kw.bind(null,c,a,ti,Ip,fv,i,qi,Fl,Rc,_r,y,2,-0,0),g);break t}Kw(c,a,ti,Ip,fv,i,qi,Fl,Rc,_r,y,0,-0,0)}}break}while(!0);Ds(n)}function Kw(n,i,a,c,g,y,w,C,N,G,Q,J,X,Y){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Xh={stylesheets:null,count:0,unsuspend:ZR},Gw(i),J=tM(),J!==null)){n.cancelPendingCommit=J(iE.bind(null,n,i,y,a,c,g,w,C,N,Q,1,X,Y)),Rr(n,y,w,!G);return}iE(n,i,y,a,c,g,w,C,N)}function yR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],y=g.getSnapshot;g=g.value;try{if(!hi(y(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(n,i,a,c){i&=~dv,i&=~Fl,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var g=i;0<g;){var y=31-ve(g),w=1<<y;c[y]=-1,g&=~w}a!==0&&Al(n,a,i)}function Bp(){return(se&6)===0?(Ih(0),!1):!0}function vv(){if(Bt!==null){if(ae===0)var n=Bt.return;else n=Bt,pa=Ol=null,Py(n),Ec=null,Lh=0,n=Bt;for(;n!==null;)Mw(n.alternate,n),n=n.return;Bt=null}}function Oc(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,PR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),vv(),be=n,Bt=a=ha(n.current,null),Wt=i,ae=0,gi=null,_r=!1,Cc=is(n,i),hv=!1,Rc=qi=dv=Fl=xr=Pe=0,ti=zh=null,fv=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var g=31-ve(c),y=1<<g;i|=n[g],c&=~y}return wa=i,cp(),a}function Qw(n,i){jt=null,H.H=Rp,i===Sh||i===vp?(i=pS(),ae=3):i===hS?(i=pS(),ae=4):ae=i===gw?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gi=i,Bt===null&&(Pe=1,kp(n,Hi(i,n.current)))}function Zw(){var n=H.H;return H.H=Rp,n===null?Rp:n}function Jw(){var n=H.A;return H.A=gR,n}function bv(){Pe=4,_r||(Wt&4194048)!==Wt&&Gi.current!==null||(Cc=!0),(xr&134217727)===0&&(Fl&134217727)===0||be===null||Rr(be,Wt,qi,!1)}function Av(n,i,a){var c=se;se|=2;var g=Zw(),y=Jw();(be!==n||Wt!==i)&&(Ip=null,Oc(n,i)),i=!1;var w=Pe;t:do try{if(ae!==0&&Bt!==null){var C=Bt,N=gi;switch(ae){case 8:vv(),w=6;break t;case 3:case 2:case 9:case 6:Gi.current===null&&(i=!0);var G=ae;if(ae=0,gi=null,Dc(n,C,N,G),a&&Cc){w=0;break t}break;default:G=ae,ae=0,gi=null,Dc(n,C,N,G)}}vR(),w=Pe;break}catch(Q){Qw(n,Q)}while(!0);return i&&n.shellSuspendCounter++,pa=Ol=null,se=c,H.H=g,H.A=y,Bt===null&&(be=null,Wt=0,cp()),w}function vR(){for(;Bt!==null;)tE(Bt)}function bR(n,i){var a=se;se|=2;var c=Zw(),g=Jw();be!==n||Wt!==i?(Ip=null,Hp=ke()+500,Oc(n,i)):Cc=is(n,i);t:do try{if(ae!==0&&Bt!==null){i=Bt;var y=gi;e:switch(ae){case 1:ae=0,gi=null,Dc(n,i,y,1);break;case 2:case 9:if(dS(y)){ae=0,gi=null,eE(i);break}i=function(){ae!==2&&ae!==9||be!==n||(ae=7),Ds(n)},y.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:dS(y)?(ae=0,gi=null,eE(i)):(ae=0,gi=null,Dc(n,i,y,7));break;case 5:var w=null;switch(Bt.tag){case 26:w=Bt.memoizedState;case 5:case 27:var C=Bt;if(!w||jE(w)){ae=0,gi=null;var N=C.sibling;if(N!==null)Bt=N;else{var G=C.return;G!==null?(Bt=G,Up(G)):Bt=null}break e}}ae=0,gi=null,Dc(n,i,y,5);break;case 6:ae=0,gi=null,Dc(n,i,y,6);break;case 8:vv(),Pe=6;break t;default:throw Error(s(462))}}AR();break}catch(Q){Qw(n,Q)}while(!0);return pa=Ol=null,H.H=c,H.A=g,se=a,Bt!==null?0:(be=null,Wt=0,cp(),Pe)}function AR(){for(;Bt!==null&&!De();)tE(Bt)}function tE(n){var i=Cw(n.alternate,n,wa);n.memoizedProps=n.pendingProps,i===null?Up(n):Bt=i}function eE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Sw(a,i,i.pendingProps,i.type,void 0,Wt);break;case 11:i=Sw(a,i,i.pendingProps,i.type.render,i.ref,Wt);break;case 5:Py(i);default:Mw(a,i),i=Bt=nS(i,wa),i=Cw(a,i,wa)}n.memoizedProps=n.pendingProps,i===null?Up(n):Bt=i}function Dc(n,i,a,c){pa=Ol=null,Py(i),Ec=null,Lh=0;var g=i.return;try{if(cR(n,g,i,a,Wt)){Pe=1,kp(n,Hi(a,n.current)),Bt=null;return}}catch(y){if(g!==null)throw Bt=g,y;Pe=1,kp(n,Hi(a,n.current)),Bt=null;return}i.flags&32768?(te||c===1?n=!0:Cc||(Wt&536870912)!==0?n=!1:(_r=n=!0,(c===2||c===9||c===3||c===6)&&(c=Gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),nE(i,n)):Up(i)}function Up(n){var i=n;do{if((i.flags&32768)!==0){nE(i,_r);return}n=i.return;var a=hR(i.alternate,i,wa);if(a!==null){Bt=a;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=n}while(i!==null);Pe===0&&(Pe=5)}function nE(n,i){do{var a=dR(n.alternate,n);if(a!==null){a.flags&=32767,Bt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Bt=n;return}Bt=n=a}while(n!==null);Pe=6,Bt=null}function iE(n,i,a,c,g,y,w,C,N){n.cancelPendingCommit=null;do Gp();while(vn!==0);if((se&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=uy,bl(n,a,y,w,C,N),n===be&&(Bt=be=null,Wt=0),Mc=i,Cr=n,Lc=a,gv=y,mv=g,Yw=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_R(In,function(){return oE(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,g=V.p,V.p=2,w=se,se|=4;try{fR(n,i,a)}finally{se=w,V.p=g,H.T=c}}vn=1,sE(),aE(),rE()}}function sE(){if(vn===1){vn=0;var n=Cr,i=Mc,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var c=V.p;V.p=2;var g=se;se|=4;try{Iw(i,n);var y=Dv,w=XA(n.containerInfo),C=y.focusedElem,N=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&VA(C.ownerDocument.documentElement,C)){if(N!==null&&ay(C)){var G=N.start,Q=N.end;if(Q===void 0&&(Q=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(Q,C.value.length);else{var J=C.ownerDocument||document,X=J&&J.defaultView||window;if(X.getSelection){var Y=X.getSelection(),Ct=C.textContent.length,wt=Math.min(N.start,Ct),fe=N.end===void 0?wt:Math.min(N.end,Ct);!Y.extend&&wt>fe&&(w=fe,fe=wt,wt=w);var I=qA(C,wt),z=qA(C,fe);if(I&&z&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var U=J.createRange();U.setStart(I.node,I.offset),Y.removeAllRanges(),wt>fe?(Y.addRange(U),Y.extend(z.node,z.offset)):(U.setEnd(z.node,z.offset),Y.addRange(U))}}}}for(J=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var Z=J[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}eg=!!Ov,Dv=Ov=null}finally{se=g,V.p=c,H.T=a}}n.current=i,vn=2}}function aE(){if(vn===2){vn=0;var n=Cr,i=Mc,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var c=V.p;V.p=2;var g=se;se|=4;try{jw(n,i.alternate,i)}finally{se=g,V.p=c,H.T=a}}vn=3}}function rE(){if(vn===4||vn===3){vn=0,$t();var n=Cr,i=Mc,a=Lc,c=Yw;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?vn=5:(vn=0,Mc=Cr=null,lE(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Tr=null),St(a),i=i.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=H.T,g=V.p,V.p=2,H.T=null;try{for(var y=n.onRecoverableError,w=0;w<c.length;w++){var C=c[w];y(C.value,{componentStack:C.stack})}}finally{H.T=i,V.p=g}}(Lc&3)!==0&&Gp(),Ds(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===yv?Hh++:(Hh=0,yv=n):Hh=0,Ih(0)}}function lE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,bh(i)))}function Gp(n){return sE(),aE(),rE(),oE()}function oE(){if(vn!==5)return!1;var n=Cr,i=gv;gv=0;var a=St(Lc),c=H.T,g=V.p;try{V.p=32>a?32:a,H.T=null,a=mv,mv=null;var y=Cr,w=Lc;if(vn=0,Mc=Cr=null,Lc=0,(se&6)!==0)throw Error(s(331));var C=se;if(se|=4,Vw(y.current),Uw(y,y.current,w,a),se=C,Ih(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(Kn,y)}catch{}return!0}finally{V.p=g,H.T=c,lE(n,i)}}function cE(n,i,a){i=Hi(a,i),i=Wy(n.stateNode,i,2),n=yr(n,i,2),n!==null&&(Ni(n,2),Ds(n))}function me(n,i,a){if(n.tag===3)cE(n,n,a);else for(;i!==null;){if(i.tag===3){cE(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tr===null||!Tr.has(c))){n=Hi(a,n),a=fw(2),c=yr(i,a,2),c!==null&&(pw(a,c,i,n),Ni(c,2),Ds(c));break}}i=i.return}}function Sv(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new mR;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(a)||(hv=!0,g.add(a),n=SR.bind(null,n,i,a),i.then(n,n))}function SR(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,be===n&&(Wt&a)===a&&(Pe===4||Pe===3&&(Wt&62914560)===Wt&&300>ke()-pv?(se&2)===0&&Oc(n,0):dv|=a,Rc===Wt&&(Rc=0)),Ds(n)}function uE(n,i){i===0&&(i=la()),n=fc(n,i),n!==null&&(Ni(n,i),Ds(n))}function wR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),uE(n,a)}function ER(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),uE(n,a)}function _R(n,i){return qt(n,i)}var qp=null,kc=null,wv=!1,Vp=!1,Ev=!1,zl=0;function Ds(n){n!==kc&&n.next===null&&(kc===null?qp=kc=n:kc=kc.next=n),Vp=!0,wv||(wv=!0,TR())}function Ih(n,i){if(!Ev&&Vp){Ev=!0;do for(var a=!1,c=qp;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var w=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-ve(42|n)+1)-1,y&=g&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,pE(c,y))}else y=Wt,y=ra(c,c===be?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||is(c,y)||(a=!0,pE(c,y));c=c.next}while(a);Ev=!1}}function xR(){hE()}function hE(){Vp=wv=!1;var n=0;zl!==0&&(NR()&&(n=zl),zl=0);for(var i=ke(),a=null,c=qp;c!==null;){var g=c.next,y=dE(c,i);y===0?(c.next=null,a===null?qp=g:a.next=g,g===null&&(kc=a)):(a=c,(n!==0||(y&3)!==0)&&(Vp=!0)),c=g}Ih(n)}function dE(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-ve(y),C=1<<w,N=g[w];N===-1?((C&a)===0||(C&c)!==0)&&(g[w]=cr(C,i)):N<=i&&(n.expiredLanes|=C),y&=~C}if(i=be,a=Wt,a=ra(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(ae===2||ae===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Kt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||is(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Kt(c),St(a)){case 2:case 8:a=ce;break;case 32:a=In;break;case 268435456:a=xs;break;default:a=In}return c=fE.bind(null,n),a=qt(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Kt(c),n.callbackPriority=2,n.callbackNode=null,2}function fE(n,i){if(vn!==0&&vn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Gp()&&n.callbackNode!==a)return null;var c=Wt;return c=ra(n,n===be?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Ww(n,c,i),dE(n,ke()),n.callbackNode!=null&&n.callbackNode===a?fE.bind(null,n):null)}function pE(n,i){if(Gp())return null;Ww(n,i,!0)}function TR(){jR(function(){(se&6)!==0?qt(Oi,xR):hE()})}function _v(){return zl===0&&(zl=ur()),zl}function gE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:np(""+n)}function mE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function CR(n,i,a,c,g){if(i==="submit"&&a&&a.stateNode===g){var y=gE((g[mt]||null).action),w=c.submitter;w&&(i=(i=w[mt]||null)?gE(i.formAction):w.getAttribute("formAction"),i!==null&&(y=i,w=null));var C=new rp("action","action",null,c,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(zl!==0){var N=w?mE(g,w):new FormData(g);qy(a,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(C.preventDefault(),N=w?mE(g,w):new FormData(g),qy(a,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var xv=0;xv<cy.length;xv++){var Tv=cy[xv],RR=Tv.toLowerCase(),MR=Tv[0].toUpperCase()+Tv.slice(1);ss(RR,"on"+MR)}ss(WA,"onAnimationEnd"),ss(KA,"onAnimationIteration"),ss(QA,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(XC,"onTransitionRun"),ss(YC,"onTransitionStart"),ss($C,"onTransitionCancel"),ss(ZA,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function yE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],g=c.event;c=c.listeners;t:{var y=void 0;if(i)for(var w=c.length-1;0<=w;w--){var C=c[w],N=C.instance,G=C.currentTarget;if(C=C.listener,N!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=G;try{y(g)}catch(Q){Dp(Q)}g.currentTarget=null,y=N}else for(w=0;w<c.length;w++){if(C=c[w],N=C.instance,G=C.currentTarget,C=C.listener,N!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=G;try{y(g)}catch(Q){Dp(Q)}g.currentTarget=null,y=N}}}}function Ut(n,i){var a=i[_e];a===void 0&&(a=i[_e]=new Set);var c=n+"__bubble";a.has(c)||(vE(i,n,2,!1),a.add(c))}function Cv(n,i,a){var c=0;i&&(c|=4),vE(a,n,c,i)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function Rv(n){if(!n[Xp]){n[Xp]=!0,sh.forEach(function(a){a!=="selectionchange"&&(LR.has(a)||Cv(a,!1,n),Cv(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Xp]||(i[Xp]=!0,Cv("selectionchange",!1,i))}}function vE(n,i,a,c){switch(UE(i)){case 2:var g=iM;break;case 8:g=sM;break;default:g=Uv}a=g.bind(null,i,a,n),g=void 0,!Km||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Mv(n,i,a,c,g){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===g)break;if(w===4)for(w=c.return;w!==null;){var N=w.tag;if((N===3||N===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;C!==null;){if(w=Zt(C),w===null)return;if(N=w.tag,N===5||N===6||N===26||N===27){c=y=w;continue t}C=C.parentNode}}c=c.return}xA(function(){var G=y,Q=$m(a),J=[];t:{var X=JA.get(n);if(X!==void 0){var Y=rp,Ct=n;switch(n){case"keypress":if(sp(a)===0)break t;case"keydown":case"keyup":Y=_C;break;case"focusin":Ct="focus",Y=ty;break;case"focusout":Ct="blur",Y=ty;break;case"beforeblur":case"afterblur":Y=ty;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=CC;break;case WA:case KA:case QA:Y=gC;break;case ZA:Y=MC;break;case"scroll":case"scrollend":Y=uC;break;case"wheel":Y=OC;break;case"copy":case"cut":case"paste":Y=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=LA;break;case"toggle":case"beforetoggle":Y=kC}var wt=(i&4)!==0,fe=!wt&&(n==="scroll"||n==="scrollend"),I=wt?X!==null?X+"Capture":null:X;wt=[];for(var z=G,U;z!==null;){var Z=z;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||I===null||(Z=rh(z,I),Z!=null&&wt.push(Uh(z,Z,U))),fe)break;z=z.return}0<wt.length&&(X=new Y(X,Ct,null,a,Q),J.push({event:X,listeners:wt}))}}if((i&7)===0){t:{if(X=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",X&&a!==Ym&&(Ct=a.relatedTarget||a.fromElement)&&(Zt(Ct)||Ct[Et]))break t;if((Y||X)&&(X=Q.window===Q?Q:(X=Q.ownerDocument)?X.defaultView||X.parentWindow:window,Y?(Ct=a.relatedTarget||a.toElement,Y=G,Ct=Ct?Zt(Ct):null,Ct!==null&&(fe=l(Ct),wt=Ct.tag,Ct!==fe||wt!==5&&wt!==27&&wt!==6)&&(Ct=null)):(Y=null,Ct=G),Y!==Ct)){if(wt=RA,Z="onMouseLeave",I="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(wt=LA,Z="onPointerLeave",I="onPointerEnter",z="pointer"),fe=Y==null?X:Sl(Y),U=Ct==null?X:Sl(Ct),X=new wt(Z,z+"leave",Y,a,Q),X.target=fe,X.relatedTarget=U,Z=null,Zt(Q)===G&&(wt=new wt(I,z+"enter",Ct,a,Q),wt.target=U,wt.relatedTarget=fe,Z=wt),fe=Z,Y&&Ct)e:{for(wt=Y,I=Ct,z=0,U=wt;U;U=Nc(U))z++;for(U=0,Z=I;Z;Z=Nc(Z))U++;for(;0<z-U;)wt=Nc(wt),z--;for(;0<U-z;)I=Nc(I),U--;for(;z--;){if(wt===I||I!==null&&wt===I.alternate)break e;wt=Nc(wt),I=Nc(I)}wt=null}else wt=null;Y!==null&&bE(J,X,Y,wt,!1),Ct!==null&&fe!==null&&bE(J,fe,Ct,wt,!0)}}t:{if(X=G?Sl(G):window,Y=X.nodeName&&X.nodeName.toLowerCase(),Y==="select"||Y==="input"&&X.type==="file")var gt=zA;else if(jA(X))if(HA)gt=GC;else{gt=BC;var zt=IC}else Y=X.nodeName,!Y||Y.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Xm(G.elementType)&&(gt=zA):gt=UC;if(gt&&(gt=gt(n,G))){FA(J,gt,a,Q);break t}zt&&zt(n,X,G),n==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&Vm(X,"number",X.value)}switch(zt=G?Sl(G):window,n){case"focusin":(jA(zt)||zt.contentEditable==="true")&&(uc=zt,ry=G,ph=null);break;case"focusout":ph=ry=uc=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,YA(J,a,Q);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":YA(J,a,Q)}var bt;if(ny)t:{switch(n){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else cc?NA(n,a)&&(_t="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(OA&&a.locale!=="ko"&&(cc||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&cc&&(bt=TA()):(fr=Q,Qm="value"in fr?fr.value:fr.textContent,cc=!0)),zt=Yp(G,_t),0<zt.length&&(_t=new MA(_t,n,null,a,Q),J.push({event:_t,listeners:zt}),bt?_t.data=bt:(bt=PA(a),bt!==null&&(_t.data=bt)))),(bt=PC?jC(n,a):FC(n,a))&&(_t=Yp(G,"onBeforeInput"),0<_t.length&&(zt=new MA("onBeforeInput","beforeinput",null,a,Q),J.push({event:zt,listeners:_t}),zt.data=bt)),CR(J,n,G,a,Q)}yE(J,i)})}function Uh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yp(n,i){for(var a=i+"Capture",c=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=rh(n,a),g!=null&&c.unshift(Uh(n,g,y)),g=rh(n,i),g!=null&&c.push(Uh(n,g,y))),n.tag===3)return c;n=n.return}return[]}function Nc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bE(n,i,a,c,g){for(var y=i._reactName,w=[];a!==null&&a!==c;){var C=a,N=C.alternate,G=C.stateNode;if(C=C.tag,N!==null&&N===c)break;C!==5&&C!==26&&C!==27||G===null||(N=G,g?(G=rh(a,y),G!=null&&w.unshift(Uh(a,G,N))):g||(G=rh(a,y),G!=null&&w.push(Uh(a,G,N)))),a=a.return}w.length!==0&&n.push({event:i,listeners:w})}var OR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function AE(n){return(typeof n=="string"?n:""+n).replace(OR,`
`).replace(DR,"")}function SE(n,i){return i=AE(i),AE(n)===i}function $p(){}function de(n,i,a,c,g,y){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||rc(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&rc(n,""+c);break;case"className":dr(n,"class",c);break;case"tabIndex":dr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,a,c);break;case"style":EA(n,c,y);break;case"data":if(i!=="object"){dr(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=np(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&de(n,i,"name",g.name,g,null),de(n,i,"formEncType",g.formEncType,g,null),de(n,i,"formMethod",g.formMethod,g,null),de(n,i,"formTarget",g.formTarget,g,null)):(de(n,i,"encType",g.encType,g,null),de(n,i,"method",g.method,g,null),de(n,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=np(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=$p);break;case"onScroll":c!=null&&Ut("scroll",n);break;case"onScrollEnd":c!=null&&Ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=np(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ut("beforetoggle",n),Ut("toggle",n),ic(n,"popover",c);break;case"xlinkActuate":ca(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ca(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ca(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ca(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ca(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ca(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ca(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ca(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ca(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ic(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oC.get(a)||a,ic(n,a,c))}}function Lv(n,i,a,c,g,y){switch(a){case"style":EA(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?rc(n,c):(typeof c=="number"||typeof c=="bigint")&&rc(n,""+c);break;case"onScroll":c!=null&&Ut("scroll",n);break;case"onScrollEnd":c!=null&&Ut("scrollend",n);break;case"onClick":c!=null&&(n.onclick=$p);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ah.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),y=n[mt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,g);break t}a in n?n[a]=c:c===!0?n.setAttribute(a,""):ic(n,a,c)}}}function bn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",n),Ut("load",n);var c=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var w=a[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:de(n,i,y,w,a,null)}}g&&de(n,i,"srcSet",a.srcSet,a,null),c&&de(n,i,"src",a.src,a,null);return;case"input":Ut("invalid",n);var C=y=w=g=null,N=null,G=null;for(c in a)if(a.hasOwnProperty(c)){var Q=a[c];if(Q!=null)switch(c){case"name":g=Q;break;case"type":w=Q;break;case"checked":N=Q;break;case"defaultChecked":G=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:de(n,i,c,Q,a,null)}}bA(n,y,C,N,G,w,g,!1),tp(n);return;case"select":Ut("invalid",n),c=w=y=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":c=C;default:de(n,i,g,C,a,null)}i=y,a=w,n.multiple=!!c,i!=null?ac(n,!!c,i,!1):a!=null&&ac(n,!!c,a,!0);return;case"textarea":Ut("invalid",n),y=g=c=null;for(w in a)if(a.hasOwnProperty(w)&&(C=a[w],C!=null))switch(w){case"value":c=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:de(n,i,w,C,a,null)}SA(n,c,g,y),tp(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(c=a[N],c!=null))switch(N){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:de(n,i,N,c,a,null)}return;case"dialog":Ut("beforetoggle",n),Ut("toggle",n),Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":Ut("load",n);break;case"video":case"audio":for(c=0;c<Bh.length;c++)Ut(Bh[c],n);break;case"image":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"embed":case"source":case"link":Ut("error",n),Ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:de(n,i,G,c,a,null)}return;default:if(Xm(i)){for(Q in a)a.hasOwnProperty(Q)&&(c=a[Q],c!==void 0&&Lv(n,i,Q,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&de(n,i,C,c,a,null))}function kR(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,C=null,N=null,G=null,Q=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=J;default:c.hasOwnProperty(Y)||de(n,i,Y,null,c,J)}}for(var X in c){var Y=c[X];if(J=a[X],c.hasOwnProperty(X)&&(Y!=null||J!=null))switch(X){case"type":y=Y;break;case"name":g=Y;break;case"checked":G=Y;break;case"defaultChecked":Q=Y;break;case"value":w=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&de(n,i,X,Y,c,J)}}qm(n,w,C,N,G,Q,y,g);return;case"select":Y=w=C=X=null;for(y in a)if(N=a[y],a.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":Y=N;default:c.hasOwnProperty(y)||de(n,i,y,null,c,N)}for(g in c)if(y=c[g],N=a[g],c.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":X=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==N&&de(n,i,g,y,c,N)}i=C,a=w,c=Y,X!=null?ac(n,!!a,X,!1):!!c!=!!a&&(i!=null?ac(n,!!a,i,!0):ac(n,!!a,a?[]:"",!1));return;case"textarea":Y=X=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:de(n,i,C,null,c,g)}for(w in c)if(g=c[w],y=a[w],c.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&de(n,i,w,g,c,y)}AA(n,X,Y);return;case"option":for(var Ct in a)if(X=a[Ct],a.hasOwnProperty(Ct)&&X!=null&&!c.hasOwnProperty(Ct))switch(Ct){case"selected":n.selected=!1;break;default:de(n,i,Ct,null,c,X)}for(N in c)if(X=c[N],Y=a[N],c.hasOwnProperty(N)&&X!==Y&&(X!=null||Y!=null))switch(N){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:de(n,i,N,X,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)X=a[wt],a.hasOwnProperty(wt)&&X!=null&&!c.hasOwnProperty(wt)&&de(n,i,wt,null,c,X);for(G in c)if(X=c[G],Y=a[G],c.hasOwnProperty(G)&&X!==Y&&(X!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:de(n,i,G,X,c,Y)}return;default:if(Xm(i)){for(var fe in a)X=a[fe],a.hasOwnProperty(fe)&&X!==void 0&&!c.hasOwnProperty(fe)&&Lv(n,i,fe,void 0,c,X);for(Q in c)X=c[Q],Y=a[Q],!c.hasOwnProperty(Q)||X===Y||X===void 0&&Y===void 0||Lv(n,i,Q,X,c,Y);return}}for(var I in a)X=a[I],a.hasOwnProperty(I)&&X!=null&&!c.hasOwnProperty(I)&&de(n,i,I,null,c,X);for(J in c)X=c[J],Y=a[J],!c.hasOwnProperty(J)||X===Y||X==null&&Y==null||de(n,i,J,X,c,Y)}var Ov=null,Dv=null;function Wp(n){return n.nodeType===9?n:n.ownerDocument}function wE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function kv(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nv=null;function NR(){var n=window.event;return n&&n.type==="popstate"?n===Nv?!1:(Nv=n,!0):(Nv=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,PR=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,jR=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(n){return xE.resolve(null).then(n).catch(FR)}:_E;function FR(n){setTimeout(function(){throw n})}function Mr(n){return n==="head"}function TE(n,i){var a=i,c=0,g=0;do{var y=a.nextSibling;if(n.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<c&&8>c){a=c;var w=n.ownerDocument;if(a&1&&Gh(w.documentElement),a&2&&Gh(w.body),a&4)for(a=w.head,Gh(a),w=a.firstChild;w;){var C=w.nextSibling,N=w.nodeName;w[He]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=C}}if(g===0){n.removeChild(y),Qh(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:c=a.charCodeAt(0)-48;else c=0;a=y}while(a);Qh(i)}function Pv(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pv(a),Rn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function zR(n,i,a,c){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[He])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=rs(n.nextSibling),n===null)break}return null}function HR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=rs(n.nextSibling),n===null))return null;return n}function jv(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function IR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function rs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Fv=null;function CE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function RE(n,i,a){switch(i=Wp(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Gh(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Rn(n)}var Vi=new Map,ME=new Set;function Kp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ea=V.d;V.d={f:BR,r:UR,D:GR,C:qR,L:VR,m:XR,X:$R,S:YR,M:WR};function BR(){var n=Ea.f(),i=Bp();return n||i}function UR(n){var i=ui(n);i!==null&&i.tag===5&&i.type==="form"?WS(i):Ea.r(n)}var Pc=typeof document>"u"?null:document;function LE(n,i,a){var c=Pc;if(c&&typeof i=="string"&&i){var g=zi(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),ME.has(g)||(ME.add(g),n={rel:n,crossOrigin:a,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),bn(i,"link",n),Ie(i),c.head.appendChild(i)))}}function GR(n){Ea.D(n),LE("dns-prefetch",n,null)}function qR(n,i){Ea.C(n,i),LE("preconnect",n,i)}function VR(n,i,a){Ea.L(n,i,a);var c=Pc;if(c&&n&&i){var g='link[rel="preload"][as="'+zi(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+zi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+zi(a.imageSizes)+'"]')):g+='[href="'+zi(n)+'"]';var y=g;switch(i){case"style":y=jc(n);break;case"script":y=Fc(n)}Vi.has(y)||(n=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Vi.set(y,n),c.querySelector(g)!==null||i==="style"&&c.querySelector(qh(y))||i==="script"&&c.querySelector(Vh(y))||(i=c.createElement("link"),bn(i,"link",n),Ie(i),c.head.appendChild(i)))}}function XR(n,i){Ea.m(n,i);var a=Pc;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+zi(c)+'"][href="'+zi(n)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fc(n)}if(!Vi.has(y)&&(n=m({rel:"modulepreload",href:n},i),Vi.set(y,n),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vh(y)))return}c=a.createElement("link"),bn(c,"link",n),Ie(c),a.head.appendChild(c)}}}function YR(n,i,a){Ea.S(n,i,a);var c=Pc;if(c&&n){var g=hr(c).hoistableStyles,y=jc(n);i=i||"default";var w=g.get(y);if(!w){var C={loading:0,preload:null};if(w=c.querySelector(qh(y)))C.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Vi.get(y))&&zv(n,a);var N=w=c.createElement("link");Ie(N),bn(N,"link",n),N._p=new Promise(function(G,Q){N.onload=G,N.onerror=Q}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qp(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:C},g.set(y,w)}}}function $R(n,i){Ea.X(n,i);var a=Pc;if(a&&n){var c=hr(a).hoistableScripts,g=Fc(n),y=c.get(g);y||(y=a.querySelector(Vh(g)),y||(n=m({src:n,async:!0},i),(i=Vi.get(g))&&Hv(n,i),y=a.createElement("script"),Ie(y),bn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function WR(n,i){Ea.M(n,i);var a=Pc;if(a&&n){var c=hr(a).hoistableScripts,g=Fc(n),y=c.get(g);y||(y=a.querySelector(Vh(g)),y||(n=m({src:n,async:!0,type:"module"},i),(i=Vi.get(g))&&Hv(n,i),y=a.createElement("script"),Ie(y),bn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function OE(n,i,a,c){var g=(g=ut.current)?Kp(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=jc(a.href),a=hr(g).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=jc(a.href);var y=hr(g).hoistableStyles,w=y.get(n);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=g.querySelector(qh(n)))&&!y._p&&(w.instance=y,w.state.loading=5),Vi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vi.set(n,a),y||KR(g,n,a,w.state))),i&&c===null)throw Error(s(528,""));return w}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fc(a),a=hr(g).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function jc(n){return'href="'+zi(n)+'"'}function qh(n){return'link[rel="stylesheet"]['+n+"]"}function DE(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function KR(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),bn(i,"link",a),Ie(i),n.head.appendChild(i))}function Fc(n){return'[src="'+zi(n)+'"]'}function Vh(n){return"script[async]"+n}function kE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+zi(a.href)+'"]');if(c)return i.instance=c,Ie(c),c;var g=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ie(c),bn(c,"style",g),Qp(c,a.precedence,n),i.instance=c;case"stylesheet":g=jc(a.href);var y=n.querySelector(qh(g));if(y)return i.state.loading|=4,i.instance=y,Ie(y),y;c=DE(a),(g=Vi.get(g))&&zv(c,g),y=(n.ownerDocument||n).createElement("link"),Ie(y);var w=y;return w._p=new Promise(function(C,N){w.onload=C,w.onerror=N}),bn(y,"link",c),i.state.loading|=4,Qp(y,a.precedence,n),i.instance=y;case"script":return y=Fc(a.src),(g=n.querySelector(Vh(y)))?(i.instance=g,Ie(g),g):(c=a,(g=Vi.get(y))&&(c=m({},a),Hv(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ie(g),bn(g,"link",c),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Qp(c,a.precedence,n));return i.instance}function Qp(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,w=0;w<c.length;w++){var C=c[w];if(C.dataset.precedence===i)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function zv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Hv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Zp=null;function NE(n,i,a){if(Zp===null){var c=new Map,g=Zp=new Map;g.set(a,c)}else g=Zp,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var y=a[g];if(!(y[He]||y[at]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(i)||"";w=n+w;var C=c.get(w);C?C.push(y):c.set(w,[y])}}return c}function PE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function QR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xh=null;function ZR(){}function JR(n,i,a){if(Xh===null)throw Error(s(475));var c=Xh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=jc(a.href),y=n.querySelector(qh(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Jp.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=y,Ie(y);return}y=n.ownerDocument||n,a=DE(a),(g=Vi.get(g))&&zv(a,g),y=y.createElement("link"),Ie(y);var w=y;w._p=new Promise(function(C,N){w.onload=C,w.onerror=N}),bn(y,"link",a),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Jp.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function tM(){if(Xh===null)throw Error(s(475));var n=Xh;return n.stylesheets&&n.count===0&&Iv(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Iv(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Jp(){if(this.count--,this.count===0){if(this.stylesheets)Iv(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var tg=null;function Iv(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,tg=new Map,i.forEach(eM,n),tg=null,Jp.call(n))}function eM(n,i){if(!(i.state.loading&4)){var a=tg.get(n);if(a)var c=a.get(null);else{a=new Map,tg.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),c=w)}c&&a.set(null,c)}g=i.instance,w=g.getAttribute("data-precedence"),y=a.get(w)||c,y===c&&a.set(null,g),a.set(w,g),this.count++,c=Jp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Yh={$$typeof:k,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function nM(n,i,a,c,g,y,w,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function FE(n,i,a,c,g,y,w,C,N,G,Q,J){return n=new nM(n,i,a,w,C,N,G,J),i=1,y===!0&&(i|=24),y=di(3,null,null,i),n.current=y,y.stateNode=n,i=Sy(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:i},xy(y),n}function zE(n){return n?(n=pc,n):pc}function HE(n,i,a,c,g,y){g=zE(g),c.context===null?c.context=g:c.pendingContext=g,c=mr(i),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=yr(n,c,i),a!==null&&(yi(a,n,i),Eh(a,n,i))}function IE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Bv(n,i){IE(n,i),(n=n.alternate)&&IE(n,i)}function BE(n){if(n.tag===13){var i=fc(n,67108864);i!==null&&yi(i,n,67108864),Bv(n,67108864)}}var eg=!0;function iM(n,i,a,c){var g=H.T;H.T=null;var y=V.p;try{V.p=2,Uv(n,i,a,c)}finally{V.p=y,H.T=g}}function sM(n,i,a,c){var g=H.T;H.T=null;var y=V.p;try{V.p=8,Uv(n,i,a,c)}finally{V.p=y,H.T=g}}function Uv(n,i,a,c){if(eg){var g=Gv(c);if(g===null)Mv(n,i,c,ng,a),GE(n,c);else if(rM(g,n,i,a,c))c.stopPropagation();else if(GE(n,c),i&4&&-1<aM.indexOf(n)){for(;g!==null;){var y=ui(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ue(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var N=1<<31-ve(w);C.entanglements[1]|=N,w&=~N}Ds(y),(se&6)===0&&(Hp=ke()+500,Ih(0))}}break;case 13:C=fc(y,2),C!==null&&yi(C,y,2),Bp(),Bv(y,2)}if(y=Gv(c),y===null&&Mv(n,i,c,ng,a),y===g)break;g=y}g!==null&&c.stopPropagation()}else Mv(n,i,c,null,a)}}function Gv(n){return n=$m(n),qv(n)}var ng=null;function qv(n){if(ng=null,n=Zt(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ng=n,null}function UE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case Oi:return 2;case ce:return 8;case In:case sa:return 32;case xs:return 268435456;default:return 32}default:return 32}}var Vv=!1,Lr=null,Or=null,Dr=null,$h=new Map,Wh=new Map,kr=[],aM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GE(n,i){switch(n){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":$h.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(i.pointerId)}}function Kh(n,i,a,c,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},i!==null&&(i=ui(i),i!==null&&BE(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function rM(n,i,a,c,g){switch(i){case"focusin":return Lr=Kh(Lr,n,i,a,c,g),!0;case"dragenter":return Or=Kh(Or,n,i,a,c,g),!0;case"mouseover":return Dr=Kh(Dr,n,i,a,c,g),!0;case"pointerover":var y=g.pointerId;return $h.set(y,Kh($h.get(y)||null,n,i,a,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Wh.set(y,Kh(Wh.get(y)||null,n,i,a,c,g)),!0}return!1}function qE(n){var i=Zt(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,Bn(n.priority,function(){if(a.tag===13){var c=mi();c=Tn(c);var g=fc(a,c);g!==null&&yi(g,a,c),Bv(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ig(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Gv(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ym=c,a.target.dispatchEvent(c),Ym=null}else return i=ui(a),i!==null&&BE(i),n.blockedOn=a,!1;i.shift()}return!0}function VE(n,i,a){ig(n)&&a.delete(i)}function lM(){Vv=!1,Lr!==null&&ig(Lr)&&(Lr=null),Or!==null&&ig(Or)&&(Or=null),Dr!==null&&ig(Dr)&&(Dr=null),$h.forEach(VE),Wh.forEach(VE)}function sg(n,i){n.blockedOn===i&&(n.blockedOn=null,Vv||(Vv=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,lM)))}var ag=null;function XE(n){ag!==n&&(ag=n,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ag===n&&(ag=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],g=n[i+2];if(typeof c!="function"){if(qv(c||a)===null)continue;break}var y=ui(a);y!==null&&(n.splice(i,3),i-=3,qy(y,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function Qh(n){function i(N){return sg(N,n)}Lr!==null&&sg(Lr,n),Or!==null&&sg(Or,n),Dr!==null&&sg(Dr,n),$h.forEach(i),Wh.forEach(i);for(var a=0;a<kr.length;a++){var c=kr[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)qE(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],y=a[c+1],w=g[mt]||null;if(typeof y=="function")w||XE(a);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[mt]||null)C=w.formAction;else if(qv(g)!==null)continue}else C=w.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),XE(a)}}}function Xv(n){this._internalRoot=n}rg.prototype.render=Xv.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,c=mi();HE(a,c,n,i,null,null)},rg.prototype.unmount=Xv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;HE(n.current,2,null,n,null,null),Bp(),i[Et]=null}};function rg(n){this._internalRoot=n}rg.prototype.unstable_scheduleHydration=function(n){if(n){var i=It();n={blockedOn:null,target:n,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,n),a===0&&qE(n)}};var YE=t.version;if(YE!=="19.1.0")throw Error(s(527,YE,"19.1.0"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var oM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lg.isDisabled&&lg.supportsFiber)try{Kn=lg.inject(oM),ie=lg}catch{}}return Jh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,c="",g=cw,y=uw,w=hw,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=FE(n,1,!1,null,null,a,c,g,y,w,C,null),n[Et]=i.current,Rv(n),new Xv(i)},Jh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var c=!1,g="",y=cw,w=uw,C=hw,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=FE(n,1,!0,i,a??null,c,g,y,w,C,N,G),i.context=zE(null),a=i.current,c=mi(),c=Tn(c),g=mr(c),g.callback=null,yr(a,g,c),a=c,i.current.lanes=a,Ni(i,a),Ds(i),n[Et]=i.current,Rv(n),new rg(i)},Jh.version="19.1.0",Jh}var s_;function AM(){if(s_)return Kv.exports;s_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Kv.exports=bM(),Kv.exports}var SM=AM(),td={},a_;function wM(){if(a_)return td;a_=1,Object.defineProperty(td,"__esModule",{value:!0}),td.parse=u,td.serialize=p;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,A){const S=new l,_=b.length;if(_<2)return S;const M=(A==null?void 0:A.decode)||m;let T=0;do{const L=b.indexOf("=",T);if(L===-1)break;const k=b.indexOf(";",T),j=k===-1?_:k;if(L>j){T=b.lastIndexOf(";",L-1)+1;continue}const F=d(b,T,L),B=f(b,L,F),q=b.slice(F,B);if(S[q]===void 0){let W=d(b,L+1,j),tt=f(b,j,W);const it=M(b.slice(W,tt));S[q]=it}T=j+1}while(T<_);return S}function d(b,A,S){do{const _=b.charCodeAt(A);if(_!==32&&_!==9)return A}while(++A<S);return S}function f(b,A,S){for(;A>S;){const _=b.charCodeAt(--A);if(_!==32&&_!==9)return A+1}return S}function p(b,A,S){const _=(S==null?void 0:S.encode)||encodeURIComponent;if(!o.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=_(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let T=b+"="+M;if(!S)return T;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);T+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);T+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);T+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);T+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(T+="; HttpOnly"),S.secure&&(T+="; Secure"),S.partitioned&&(T+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return T}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return td}wM();var r_="popstate";function EM(o={}){function t(s,r){let{pathname:l,search:u,hash:d}=s.location;return db("",{pathname:l,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){return typeof r=="string"?r:_d(r)}return xM(t,e,null,o)}function Le(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function Js(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _M(){return Math.random().toString(36).substring(2,10)}function l_(o,t){return{usr:o.state,key:o.key,idx:t}}function db(o,t,e=null,s){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof t=="string"?th(t):t,state:e,key:t&&t.key||s||_M()}}function _d({pathname:o="/",search:t="",hash:e=""}){return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(o+=e.charAt(0)==="#"?e:"#"+e),o}function th(o){let t={};if(o){let e=o.indexOf("#");e>=0&&(t.hash=o.substring(e),o=o.substring(0,e));let s=o.indexOf("?");s>=0&&(t.search=o.substring(s),o=o.substring(0,s)),o&&(t.pathname=o)}return t}function xM(o,t,e,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,d="POP",f=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let M=m(),T=M==null?null:M-p;p=M,f&&f({action:d,location:_.location,delta:T})}function b(M,T){d="PUSH";let L=db(_.location,M,T);p=m()+1;let k=l_(L,p),j=_.createHref(L);try{u.pushState(k,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(j)}l&&f&&f({action:d,location:_.location,delta:1})}function A(M,T){d="REPLACE";let L=db(_.location,M,T);p=m();let k=l_(L,p),j=_.createHref(L);u.replaceState(k,"",j),l&&f&&f({action:d,location:_.location,delta:0})}function S(M){return TM(M)}let _={get action(){return d},get location(){return o(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(r_,v),f=M,()=>{r.removeEventListener(r_,v),f=null}},createHref(M){return t(r,M)},createURL:S,encodeLocation(M){let T=S(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:A,go(M){return u.go(M)}};return _}function TM(o,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Le(e,"No window.location.(origin|href) available to create URL");let s=typeof o=="string"?o:_d(o);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function ax(o,t,e="/"){return CM(o,t,e,!1)}function CM(o,t,e,s){let r=typeof t=="string"?th(t):t,l=sr(r.pathname||"/",e);if(l==null)return null;let u=rx(o);RM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=HM(l);d=FM(u[f],p,s)}return d}function rx(o,t=[],e=[],s=""){let r=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Le(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let p=tr([s,f.relativePath]),m=e.concat(f);l.children&&l.children.length>0&&(Le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rx(l.children,t,m,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:PM(p,l.index),routesMeta:m})};return o.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,u);else for(let f of lx(l.path))r(l,u,f)}),t}function lx(o){let t=o.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=lx(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),r&&d.push(...u),d.map(f=>o.startsWith("/")&&f===""?"/":f)}function RM(o){o.sort((t,e)=>t.score!==e.score?e.score-t.score:jM(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var MM=/^:[\w-]+$/,LM=3,OM=2,DM=1,kM=10,NM=-2,o_=o=>o==="*";function PM(o,t){let e=o.split("/"),s=e.length;return e.some(o_)&&(s+=NM),t&&(s+=OM),e.filter(r=>!o_(r)).reduce((r,l)=>r+(MM.test(l)?LM:l===""?DM:kM),s)}function jM(o,t){return o.length===t.length&&o.slice(0,-1).every((s,r)=>s===t[r])?o[o.length-1]-t[t.length-1]:0}function FM(o,t,e=!1){let{routesMeta:s}=o,r={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",v=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),b=f.route;if(!v&&p&&e&&!s[s.length-1].route.index&&(v=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:tr([l,v.pathname]),pathnameBase:GM(tr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=tr([l,v.pathnameBase]))}return u}function Wg(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[e,s]=zM(o.path,o.caseSensitive,o.end),r=t.match(e);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:v},b)=>{if(m==="*"){let S=d[b]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=d[b];return v&&!A?p[m]=void 0:p[m]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:o}}function zM(o,t=!1,e=!0){Js(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let s=[],r="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(s.push({paramName:"*"}),r+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":o!==""&&o!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function HM(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Js(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),o}}function sr(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=o.charAt(e);return s&&s!=="/"?null:o.slice(e)||"/"}function IM(o,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof o=="string"?th(o):o;return{pathname:e?e.startsWith("/")?e:BM(e,t):t,search:qM(s),hash:VM(r)}}function BM(o,t){let e=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function tb(o,t,e,s){return`Cannot include a '${o}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UM(o){return o.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ox(o){let t=UM(o);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function cx(o,t,e,s=!1){let r;typeof o=="string"?r=th(o):(r={...o},Le(!r.pathname||!r.pathname.includes("?"),tb("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),tb("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),tb("#","search","hash",r)));let l=o===""||r.pathname==="",u=l?"/":r.pathname,d;if(u==null)d=e;else{let v=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}d=v>=0?t[v]:"/"}let f=IM(r,d),p=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var tr=o=>o.join("/").replace(/\/\/+/g,"/"),GM=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),qM=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,VM=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function XM(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var ux=["POST","PUT","PATCH","DELETE"];new Set(ux);var YM=["GET",...ux];new Set(YM);var eh=D.createContext(null);eh.displayName="DataRouter";var Em=D.createContext(null);Em.displayName="DataRouterState";var hx=D.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var $M=D.createContext(new Map);$M.displayName="Fetchers";var WM=D.createContext(null);WM.displayName="Await";var ea=D.createContext(null);ea.displayName="Navigation";var Gf=D.createContext(null);Gf.displayName="Location";var na=D.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var B0=D.createContext(null);B0.displayName="RouteError";function KM(o,{relative:t}={}){Le(qf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=D.useContext(ea),{hash:r,pathname:l,search:u}=Xf(o,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:tr([e,l])),s.createHref({pathname:d,search:u,hash:r})}function qf(){return D.useContext(Gf)!=null}function yl(){return Le(qf(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Gf).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(o){D.useContext(ea).static||D.useLayoutEffect(o)}function Vf(){let{isDataRoute:o}=D.useContext(na);return o?h2():QM()}function QM(){Le(qf(),"useNavigate() may be used only in the context of a <Router> component.");let o=D.useContext(eh),{basename:t,navigator:e}=D.useContext(ea),{matches:s}=D.useContext(na),{pathname:r}=yl(),l=JSON.stringify(ox(s)),u=D.useRef(!1);return fx(()=>{u.current=!0}),D.useCallback((f,p={})=>{if(Js(u.current,dx),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=cx(f,JSON.parse(l),r,p.relative==="path");o==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:tr([t,m.pathname])),(p.replace?e.replace:e.push)(m,p.state,p)},[t,e,l,r,o])}var ZM=D.createContext(null);function JM(o){let t=D.useContext(na).outlet;return t&&D.createElement(ZM.Provider,{value:o},t)}function Xf(o,{relative:t}={}){let{matches:e}=D.useContext(na),{pathname:s}=yl(),r=JSON.stringify(ox(e));return D.useMemo(()=>cx(o,JSON.parse(r),s,t==="path"),[o,r,s,t])}function t2(o,t){return px(o,t)}function px(o,t,e,s){var T;Le(qf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=D.useContext(ea),{matches:l}=D.useContext(na),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let L=m&&m.path||"";gx(f,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=yl(),b;if(t){let L=typeof t=="string"?th(t):t;Le(p==="/"||((T=L.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=v;let A=b.pathname||"/",S=A;if(p!=="/"){let L=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let _=ax(o,{pathname:S});Js(m||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Js(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=a2(_&&_.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:tr([p,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:tr([p,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,e,s);return t&&M?D.createElement(Gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function e2(){let o=u2(),t=XM(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),e=o instanceof Error?o.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",o),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),e?D.createElement("pre",{style:r},e):null,u)}var n2=D.createElement(e2,null),i2=class extends D.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){return t.location!==o.location||t.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:t.error,location:t.location,revalidation:o.revalidation||t.revalidation}}componentDidCatch(o,t){console.error("React Router caught the following error during render",o,t)}render(){return this.state.error!==void 0?D.createElement(na.Provider,{value:this.props.routeContext},D.createElement(B0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s2({routeContext:o,match:t,children:e}){let s=D.useContext(eh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(na.Provider,{value:o},e)}function a2(o,t=[],e=null,s=null){if(o==null){if(!e)return null;if(e.errors)o=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)o=e.matches;else return null}let r=o,l=e==null?void 0:e.errors;if(l!=null){let f=r.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Le(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=e,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,p,m)=>{let v,b=!1,A=null,S=null;e&&(v=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||n2,u&&(d<0&&m===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===m&&(b=!0,S=p.route.hydrateFallbackElement||null)));let _=t.concat(r.slice(0,m+1)),M=()=>{let T;return v?T=A:b?T=S:p.route.Component?T=D.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,D.createElement(s2,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?D.createElement(i2,{location:e.location,revalidation:e.revalidation,component:A,error:v,children:M(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):M()},null)}function U0(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(o){let t=D.useContext(eh);return Le(t,U0(o)),t}function l2(o){let t=D.useContext(Em);return Le(t,U0(o)),t}function o2(o){let t=D.useContext(na);return Le(t,U0(o)),t}function G0(o){let t=o2(o),e=t.matches[t.matches.length-1];return Le(e.route.id,`${o} can only be used on routes that contain a unique "id"`),e.route.id}function c2(){return G0("useRouteId")}function u2(){var s;let o=D.useContext(B0),t=l2("useRouteError"),e=G0("useRouteError");return o!==void 0?o:(s=t.errors)==null?void 0:s[e]}function h2(){let{router:o}=r2("useNavigate"),t=G0("useNavigate"),e=D.useRef(!1);return fx(()=>{e.current=!0}),D.useCallback(async(r,l={})=>{Js(e.current,dx),e.current&&(typeof r=="number"?o.navigate(r):await o.navigate(r,{fromRouteId:t,...l}))},[o,t])}var c_={};function gx(o,t,e){!t&&!c_[o]&&(c_[o]=!0,Js(!1,e))}D.memo(d2);function d2({routes:o,future:t,state:e}){return px(o,void 0,e,t)}function f2(o){return JM(o.context)}function Il(o){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p2({basename:o="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:l=!1}){Le(!qf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=o.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:r,static:l,future:{}}),[u,r,l]);typeof e=="string"&&(e=th(e));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:b="default"}=e,A=D.useMemo(()=>{let S=sr(f,u);return S==null?null:{location:{pathname:S,search:p,hash:m,state:v,key:b},navigationType:s}},[u,f,p,m,v,b,s]);return Js(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:D.createElement(ea.Provider,{value:d},D.createElement(Gf.Provider,{children:t,value:A}))}function g2({children:o,location:t}){return t2(fb(o),t)}function fb(o,t=[]){let e=[];return D.Children.forEach(o,(s,r)=>{if(!D.isValidElement(s))return;let l=[...t,r];if(s.type===D.Fragment){e.push.apply(e,fb(s.props.children,l));return}Le(s.type===Il,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=fb(s.props.children,l)),e.push(u)}),e}var yg="get",vg="application/x-www-form-urlencoded";function _m(o){return o!=null&&typeof o.tagName=="string"}function m2(o){return _m(o)&&o.tagName.toLowerCase()==="button"}function y2(o){return _m(o)&&o.tagName.toLowerCase()==="form"}function v2(o){return _m(o)&&o.tagName.toLowerCase()==="input"}function b2(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function A2(o,t){return o.button===0&&(!t||t==="_self")&&!b2(o)}var og=null;function S2(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eb(o){return o!=null&&!w2.has(o)?(Js(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vg}"`),null):o}function E2(o,t){let e,s,r,l,u;if(y2(o)){let d=o.getAttribute("action");s=d?sr(d,t):null,e=o.getAttribute("method")||yg,r=eb(o.getAttribute("enctype"))||vg,l=new FormData(o)}else if(m2(o)||v2(o)&&(o.type==="submit"||o.type==="image")){let d=o.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=o.getAttribute("formaction")||d.getAttribute("action");if(s=f?sr(f,t):null,e=o.getAttribute("formmethod")||d.getAttribute("method")||yg,r=eb(o.getAttribute("formenctype"))||eb(d.getAttribute("enctype"))||vg,l=new FormData(d,o),!S2()){let{name:p,type:m,value:v}=o;if(m==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(_m(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yg,s=null,r=vg,u=o}return l&&r==="text/plain"&&(u=l,l=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:l,body:u}}function q0(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}async function _2(o,t){if(o.id in t)return t[o.id];try{let e=await import(o.module);return t[o.id]=e,e}catch(e){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function T2(o,t,e){let s=await Promise.all(o.map(async r=>{let l=t.routes[r.route.id];if(l){let u=await _2(l,e);return u.links?u.links():[]}return[]}));return L2(s.flat(1).filter(x2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function u_(o,t,e,s,r,l){let u=(f,p)=>e[p]?f.route.id!==e[p].route.id:!0,d=(f,p)=>{var m;return e[p].pathname!==f.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?t.filter((f,p)=>{var v;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(o,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function C2(o,t,{includeHydrateFallback:e}={}){return R2(o.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function R2(o){return[...new Set(o)]}function M2(o){let t={},e=Object.keys(o).sort();for(let s of e)t[s]=o[s];return t}function L2(o,t){let e=new Set;return new Set(t),o.reduce((s,r)=>{let l=JSON.stringify(M2(r));return e.has(l)||(e.add(l),s.push({key:l,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O2=new Set([100,101,204,205]);function D2(o,t){let e=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return e.pathname==="/"?e.pathname="_root.data":t&&sr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mx(){let o=D.useContext(eh);return q0(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function k2(){let o=D.useContext(Em);return q0(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var V0=D.createContext(void 0);V0.displayName="FrameworkContext";function yx(){let o=D.useContext(V0);return q0(o,"You must render this element inside a <HydratedRouter> element"),o}function N2(o,t){let e=D.useContext(V0),[s,r]=D.useState(!1),[l,u]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=t,b=D.useRef(null);D.useEffect(()=>{if(o==="render"&&u(!0),o==="viewport"){let _=T=>{T.forEach(L=>{u(L.isIntersecting)})},M=new IntersectionObserver(_,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[o]),D.useEffect(()=>{if(s){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[s]);let A=()=>{r(!0)},S=()=>{r(!1),u(!1)};return e?o!=="intent"?[l,b,{}]:[l,b,{onFocus:ed(d,A),onBlur:ed(f,S),onMouseEnter:ed(p,A),onMouseLeave:ed(m,S),onTouchStart:ed(v,A)}]:[!1,b,{}]}function ed(o,t){return e=>{o&&o(e),e.defaultPrevented||t(e)}}function P2({page:o,...t}){let{router:e}=mx(),s=D.useMemo(()=>ax(e.routes,o,e.basename),[e.routes,o,e.basename]);return s?D.createElement(F2,{page:o,matches:s,...t}):null}function j2(o){let{manifest:t,routeModules:e}=yx(),[s,r]=D.useState([]);return D.useEffect(()=>{let l=!1;return T2(o,t,e).then(u=>{l||r(u)}),()=>{l=!0}},[o,t,e]),s}function F2({page:o,matches:t,...e}){let s=yl(),{manifest:r,routeModules:l}=yx(),{basename:u}=mx(),{loaderData:d,matches:f}=k2(),p=D.useMemo(()=>u_(o,t,f,r,s,"data"),[o,t,f,r,s]),m=D.useMemo(()=>u_(o,t,f,r,s,"assets"),[o,t,f,r,s]),v=D.useMemo(()=>{if(o===s.pathname+s.search+s.hash)return[];let S=new Set,_=!1;if(t.forEach(T=>{var k;let L=r.routes[T.route.id];!L||!L.hasLoader||(!p.some(j=>j.route.id===T.route.id)&&T.route.id in d&&((k=l[T.route.id])!=null&&k.shouldRevalidate)||L.hasClientLoader?_=!0:S.add(T.route.id))}),S.size===0)return[];let M=D2(o,u);return _&&S.size>0&&M.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,p,t,o,l]),b=D.useMemo(()=>C2(m,r),[m,r]),A=j2(m);return D.createElement(D.Fragment,null,v.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),A.map(({key:S,link:_})=>D.createElement("link",{key:S,..._})))}function z2(...o){return t=>{o.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.6.2")}catch{}function H2({basename:o,children:t,window:e}){let s=D.useRef();s.current==null&&(s.current=EM({window:e,v5Compat:!0}));let r=s.current,[l,u]=D.useState({action:r.action,location:r.location}),d=D.useCallback(f=>{D.startTransition(()=>u(f))},[u]);return D.useLayoutEffect(()=>r.listen(d),[r,d]),D.createElement(p2,{basename:o,children:t,location:l.location,navigationType:l.action,navigator:r})}var bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ax=D.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:v,...b},A){let{basename:S}=D.useContext(ea),_=typeof p=="string"&&bx.test(p),M,T=!1;if(typeof p=="string"&&_&&(M=p,vx))try{let tt=new URL(window.location.href),it=p.startsWith("//")?new URL(tt.protocol+p):new URL(p),st=sr(it.pathname,S);it.origin===tt.origin&&st!=null?p=st+it.search+it.hash:T=!0}catch{Js(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=KM(p,{relative:r}),[k,j,F]=N2(s,b),B=G2(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:v});function q(tt){t&&t(tt),tt.defaultPrevented||B(tt)}let W=D.createElement("a",{...b,...F,href:M||L,onClick:T||l?t:q,ref:z2(A,j),target:f,"data-discover":!_&&e==="render"?"true":void 0});return k&&!_?D.createElement(D.Fragment,null,W,D.createElement(P2,{page:L})):W});Ax.displayName="Link";var I2=D.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:l,to:u,viewTransition:d,children:f,...p},m){let v=Xf(u,{relative:p.relative}),b=yl(),A=D.useContext(Em),{navigator:S,basename:_}=D.useContext(ea),M=A!=null&&$2(v)&&d===!0,T=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,L=b.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(L=L.toLowerCase(),k=k?k.toLowerCase():null,T=T.toLowerCase()),k&&_&&(k=sr(k,_)||k);const j=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let F=L===T||!r&&L.startsWith(T)&&L.charAt(j)==="/",B=k!=null&&(k===T||!r&&k.startsWith(T)&&k.charAt(T.length)==="/"),q={isActive:F,isPending:B,isTransitioning:M},W=F?t:void 0,tt;typeof s=="function"?tt=s(q):tt=[s,F?"active":null,B?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let it=typeof l=="function"?l(q):l;return D.createElement(Ax,{...p,"aria-current":W,className:tt,ref:m,style:it,to:u,viewTransition:d},typeof f=="function"?f(q):f)});I2.displayName="NavLink";var B2=D.forwardRef(({discover:o="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:l,method:u=yg,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,...b},A)=>{let S=X2(),_=Y2(d,{relative:p}),M=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&bx.test(d),L=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,F=(j==null?void 0:j.getAttribute("formmethod"))||u;S(j||k.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:r,state:l,relative:p,preventScrollReset:m,viewTransition:v})};return D.createElement("form",{ref:A,method:M,action:_,onSubmit:s?f:L,...b,"data-discover":!T&&o==="render"?"true":void 0})});B2.displayName="Form";function U2(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sx(o){let t=D.useContext(eh);return Le(t,U2(o)),t}function G2(o,{target:t,replace:e,state:s,preventScrollReset:r,relative:l,viewTransition:u}={}){let d=Vf(),f=yl(),p=Xf(o,{relative:l});return D.useCallback(m=>{if(A2(m,t)){m.preventDefault();let v=e!==void 0?e:_d(f)===_d(p);d(o,{replace:v,state:s,preventScrollReset:r,relative:l,viewTransition:u})}},[f,d,p,e,s,t,o,r,l,u])}var q2=0,V2=()=>`__${String(++q2)}__`;function X2(){let{router:o}=Sx("useSubmit"),{basename:t}=D.useContext(ea),e=c2();return D.useCallback(async(s,r={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=E2(s,t);if(r.navigate===!1){let m=r.fetcherKey||V2();await o.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await o.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[o,t,e])}function Y2(o,{relative:t}={}){let{basename:e}=D.useContext(ea),s=D.useContext(na);Le(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...Xf(o||".",{relative:t})},u=yl();if(o==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!o||o===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:tr([e,l.pathname])),_d(l)}function $2(o,t={}){let e=D.useContext(hx);Le(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sx("useViewTransitionState"),r=Xf(o,{relative:t.relative});if(!e.isTransitioning)return!1;let l=sr(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=sr(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Wg(r.pathname,u)!=null||Wg(r.pathname,l)!=null}[...O2];var wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h_=li.createContext&&li.createContext(wx),W2=["attr","size","title"];function K2(o,t){if(o==null)return{};var e=Q2(o,t),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(e[s]=o[s])}return e}function Q2(o,t){if(o==null)return{};var e={};for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;e[s]=o[s]}return e}function Kg(){return Kg=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s])}return o},Kg.apply(this,arguments)}function d_(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),e.push.apply(e,s)}return e}function Qg(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(e),!0).forEach(function(s){Z2(o,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):d_(Object(e)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(e,s))})}return o}function Z2(o,t,e){return t=J2(t),t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function J2(o){var t=tL(o,"string");return typeof t=="symbol"?t:t+""}function tL(o,t){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var s=e.call(o,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function Ex(o){return o&&o.map((t,e)=>li.createElement(t.tag,Qg({key:e},t.attr),Ex(t.child)))}function xm(o){return t=>li.createElement(eL,Kg({attr:Qg({},o.attr)},t),Ex(o.child))}function eL(o){var t=e=>{var{attr:s,size:r,title:l}=o,u=K2(o,W2),d=r||e.size||"1em",f;return e.className&&(f=e.className),o.className&&(f=(f?f+" ":"")+o.className),li.createElement("svg",Kg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:f,style:Qg(Qg({color:o.color||e.color},e.style),o.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&li.createElement("title",null,l),o.children)};return h_!==void 0?li.createElement(h_.Consumer,null,e=>t(e)):t(wx)}function nL(o){return xm({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(o)}function iL(o){return xm({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M186.1.09C81.01 3.24 0 94.92 0 200.05v263.92c0 14.26 17.23 21.39 27.31 11.31l24.92-18.53c6.66-4.95 16-3.99 21.51 2.21l42.95 48.35c6.25 6.25 16.38 6.25 22.63 0l40.72-45.85c6.37-7.17 17.56-7.17 23.92 0l40.72 45.85c6.25 6.25 16.38 6.25 22.63 0l42.95-48.35c5.51-6.2 14.85-7.17 21.51-2.21l24.92 18.53c10.08 10.08 27.31 2.94 27.31-11.31V192C384 84 294.83-3.17 186.1.09zM128 224c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm128 0c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(o)}function sL(o){return xm({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(o)}function aL(o){return xm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(o)}const Qu=Math.min,qo=Math.max,Zg=Math.round,cg=Math.floor,Zs=o=>({x:o,y:o}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},lL={start:"end",end:"start"};function pb(o,t,e){return qo(o,Qu(t,e))}function Yf(o,t){return typeof o=="function"?o(t):o}function Vo(o){return o.split("-")[0]}function $f(o){return o.split("-")[1]}function _x(o){return o==="x"?"y":"x"}function X0(o){return o==="y"?"height":"width"}function hl(o){return["top","bottom"].includes(Vo(o))?"y":"x"}function Y0(o){return _x(hl(o))}function oL(o,t,e){e===void 0&&(e=!1);const s=$f(o),r=Y0(o),l=X0(r);let u=r==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Jg(u)),[u,Jg(u)]}function cL(o){const t=Jg(o);return[gb(o),t,gb(t)]}function gb(o){return o.replace(/start|end/g,t=>lL[t])}function uL(o,t,e){const s=["left","right"],r=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(o){case"top":case"bottom":return e?t?r:s:t?s:r;case"left":case"right":return t?l:u;default:return[]}}function hL(o,t,e,s){const r=$f(o);let l=uL(Vo(o),e==="start",s);return r&&(l=l.map(u=>u+"-"+r),t&&(l=l.concat(l.map(gb)))),l}function Jg(o){return o.replace(/left|right|bottom|top/g,t=>rL[t])}function dL(o){return{top:0,right:0,bottom:0,left:0,...o}}function xx(o){return typeof o!="number"?dL(o):{top:o,right:o,bottom:o,left:o}}function tm(o){const{x:t,y:e,width:s,height:r}=o;return{width:s,height:r,top:e,left:t,right:t+s,bottom:e+r,x:t,y:e}}function f_(o,t,e){let{reference:s,floating:r}=o;const l=hl(t),u=Y0(t),d=X0(u),f=Vo(t),p=l==="y",m=s.x+s.width/2-r.width/2,v=s.y+s.height/2-r.height/2,b=s[d]/2-r[d]/2;let A;switch(f){case"top":A={x:m,y:s.y-r.height};break;case"bottom":A={x:m,y:s.y+s.height};break;case"right":A={x:s.x+s.width,y:v};break;case"left":A={x:s.x-r.width,y:v};break;default:A={x:s.x,y:s.y}}switch($f(t)){case"start":A[u]-=b*(e&&p?-1:1);break;case"end":A[u]+=b*(e&&p?-1:1);break}return A}const fL=async(o,t,e)=>{const{placement:s="bottom",strategy:r="absolute",middleware:l=[],platform:u}=e,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:o,floating:t,strategy:r}),{x:m,y:v}=f_(p,s,f),b=s,A={},S=0;for(let _=0;_<d.length;_++){const{name:M,fn:T}=d[_],{x:L,y:k,data:j,reset:F}=await T({x:m,y:v,initialPlacement:s,placement:b,strategy:r,middlewareData:A,rects:p,platform:u,elements:{reference:o,floating:t}});m=L??m,v=k??v,A={...A,[M]:{...A[M],...j}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:o,floating:t,strategy:r}):F.rects),{x:m,y:v}=f_(p,b,f)),_=-1)}return{x:m,y:v,placement:b,strategy:r,middlewareData:A}};async function Tx(o,t){var e;t===void 0&&(t={});const{x:s,y:r,platform:l,rects:u,elements:d,strategy:f}=o,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:b=!1,padding:A=0}=Yf(t,o),S=xx(A),M=d[b?v==="floating"?"reference":"floating":v],T=tm(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(M)))==null||e?M:M.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:m,strategy:f})),L=v==="floating"?{x:s,y:r,width:u.floating.width,height:u.floating.height}:u.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),j=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},F=tm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:L,offsetParent:k,strategy:f}):L);return{top:(T.top-F.top+S.top)/j.y,bottom:(F.bottom-T.bottom+S.bottom)/j.y,left:(T.left-F.left+S.left)/j.x,right:(F.right-T.right+S.right)/j.x}}const pL=o=>({name:"arrow",options:o,async fn(t){const{x:e,y:s,placement:r,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:p,padding:m=0}=Yf(o,t)||{};if(p==null)return{};const v=xx(m),b={x:e,y:s},A=Y0(r),S=X0(A),_=await u.getDimensions(p),M=A==="y",T=M?"top":"left",L=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=l.reference[S]+l.reference[A]-b[A]-l.floating[S],F=b[A]-l.reference[A],B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let q=B?B[k]:0;(!q||!await(u.isElement==null?void 0:u.isElement(B)))&&(q=d.floating[k]||l.floating[S]);const W=j/2-F/2,tt=q/2-_[S]/2-1,it=Qu(v[T],tt),st=Qu(v[L],tt),ft=it,pt=q-_[S]-st,rt=q/2-_[S]/2+W,ct=pb(ft,rt,pt),H=!f.arrow&&$f(r)!=null&&rt!==ct&&l.reference[S]/2-(rt<ft?it:st)-_[S]/2<0,V=H?rt<ft?rt-ft:rt-pt:0;return{[A]:b[A]+V,data:{[A]:ct,centerOffset:rt-ct-V,...H&&{alignmentOffset:V}},reset:H}}}),gL=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(t){var e,s;const{placement:r,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...M}=Yf(o,t);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const T=Vo(r),L=hl(d),k=Vo(d)===d,j=await(f.isRTL==null?void 0:f.isRTL(p.floating)),F=b||(k||!_?[Jg(d)]:cL(d)),B=S!=="none";!b&&B&&F.push(...hL(d,_,S,j));const q=[d,...F],W=await Tx(t,M),tt=[];let it=((s=l.flip)==null?void 0:s.overflows)||[];if(m&&tt.push(W[T]),v){const rt=oL(r,u,j);tt.push(W[rt[0]],W[rt[1]])}if(it=[...it,{placement:r,overflows:tt}],!tt.every(rt=>rt<=0)){var st,ft;const rt=(((st=l.flip)==null?void 0:st.index)||0)+1,ct=q[rt];if(ct&&(!(v==="alignment"?L!==hl(ct):!1)||it.every(K=>K.overflows[0]>0&&hl(K.placement)===L)))return{data:{index:rt,overflows:it},reset:{placement:ct}};let H=(ft=it.filter(V=>V.overflows[0]<=0).sort((V,K)=>V.overflows[1]-K.overflows[1])[0])==null?void 0:ft.placement;if(!H)switch(A){case"bestFit":{var pt;const V=(pt=it.filter(K=>{if(B){const yt=hl(K.placement);return yt===L||yt==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(yt=>yt>0).reduce((yt,P)=>yt+P,0)]).sort((K,yt)=>K[1]-yt[1])[0])==null?void 0:pt[0];V&&(H=V);break}case"initialPlacement":H=d;break}if(r!==H)return{reset:{placement:H}}}return{}}}};async function mL(o,t){const{placement:e,platform:s,elements:r}=o,l=await(s.isRTL==null?void 0:s.isRTL(r.floating)),u=Vo(e),d=$f(e),f=hl(e)==="y",p=["left","top"].includes(u)?-1:1,m=l&&f?-1:1,v=Yf(t,o);let{mainAxis:b,crossAxis:A,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof S=="number"&&(A=d==="end"?S*-1:S),f?{x:A*m,y:b*p}:{x:b*p,y:A*m}}const yL=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(t){var e,s;const{x:r,y:l,placement:u,middlewareData:d}=t,f=await mL(t,o);return u===((e=d.offset)==null?void 0:e.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:r+f.x,y:l+f.y,data:{...f,placement:u}}}}},vL=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(t){const{x:e,y:s,placement:r}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:M=>{let{x:T,y:L}=M;return{x:T,y:L}}},...f}=Yf(o,t),p={x:e,y:s},m=await Tx(t,f),v=hl(Vo(r)),b=_x(v);let A=p[b],S=p[v];if(l){const M=b==="y"?"top":"left",T=b==="y"?"bottom":"right",L=A+m[M],k=A-m[T];A=pb(L,A,k)}if(u){const M=v==="y"?"top":"left",T=v==="y"?"bottom":"right",L=S+m[M],k=S-m[T];S=pb(L,S,k)}const _=d.fn({...t,[b]:A,[v]:S});return{..._,data:{x:_.x-e,y:_.y-s,enabled:{[b]:l,[v]:u}}}}}};function Tm(){return typeof window<"u"}function nh(o){return Cx(o)?(o.nodeName||"").toLowerCase():"#document"}function Mi(o){var t;return(o==null||(t=o.ownerDocument)==null?void 0:t.defaultView)||window}function ia(o){var t;return(t=(Cx(o)?o.ownerDocument:o.document)||window.document)==null?void 0:t.documentElement}function Cx(o){return Tm()?o instanceof Node||o instanceof Mi(o).Node:!1}function Es(o){return Tm()?o instanceof Element||o instanceof Mi(o).Element:!1}function ta(o){return Tm()?o instanceof HTMLElement||o instanceof Mi(o).HTMLElement:!1}function p_(o){return!Tm()||typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof Mi(o).ShadowRoot}function Wf(o){const{overflow:t,overflowX:e,overflowY:s,display:r}=_s(o);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(r)}function bL(o){return["table","td","th"].includes(nh(o))}function Cm(o){return[":popover-open",":modal"].some(t=>{try{return o.matches(t)}catch{return!1}})}function $0(o){const t=W0(),e=Es(o)?_s(o):o;return["transform","translate","scale","rotate","perspective"].some(s=>e[s]?e[s]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function AL(o){let t=dl(o);for(;ta(t)&&!Zu(t);){if($0(t))return t;if(Cm(t))return null;t=dl(t)}return null}function W0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zu(o){return["html","body","#document"].includes(nh(o))}function _s(o){return Mi(o).getComputedStyle(o)}function Rm(o){return Es(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function dl(o){if(nh(o)==="html")return o;const t=o.assignedSlot||o.parentNode||p_(o)&&o.host||ia(o);return p_(t)?t.host:t}function Rx(o){const t=dl(o);return Zu(t)?o.ownerDocument?o.ownerDocument.body:o.body:ta(t)&&Wf(t)?t:Rx(t)}function xd(o,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=Rx(o),l=r===((s=o.ownerDocument)==null?void 0:s.body),u=Mi(r);if(l){const d=mb(u);return t.concat(u,u.visualViewport||[],Wf(r)?r:[],d&&e?xd(d):[])}return t.concat(r,xd(r,[],e))}function mb(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function Mx(o){const t=_s(o);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=ta(o),l=r?o.offsetWidth:e,u=r?o.offsetHeight:s,d=Zg(e)!==l||Zg(s)!==u;return d&&(e=l,s=u),{width:e,height:s,$:d}}function K0(o){return Es(o)?o:o.contextElement}function $c(o){const t=K0(o);if(!ta(t))return Zs(1);const e=t.getBoundingClientRect(),{width:s,height:r,$:l}=Mx(t);let u=(l?Zg(e.width):e.width)/s,d=(l?Zg(e.height):e.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const SL=Zs(0);function Lx(o){const t=Mi(o);return!W0()||!t.visualViewport?SL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wL(o,t,e){return t===void 0&&(t=!1),!e||t&&e!==Mi(o)?!1:t}function Xo(o,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=o.getBoundingClientRect(),l=K0(o);let u=Zs(1);t&&(s?Es(s)&&(u=$c(s)):u=$c(o));const d=wL(l,e,s)?Lx(l):Zs(0);let f=(r.left+d.x)/u.x,p=(r.top+d.y)/u.y,m=r.width/u.x,v=r.height/u.y;if(l){const b=Mi(l),A=s&&Es(s)?Mi(s):s;let S=b,_=mb(S);for(;_&&s&&A!==S;){const M=$c(_),T=_.getBoundingClientRect(),L=_s(_),k=T.left+(_.clientLeft+parseFloat(L.paddingLeft))*M.x,j=T.top+(_.clientTop+parseFloat(L.paddingTop))*M.y;f*=M.x,p*=M.y,m*=M.x,v*=M.y,f+=k,p+=j,S=Mi(_),_=mb(S)}}return tm({width:m,height:v,x:f,y:p})}function Q0(o,t){const e=Rm(o).scrollLeft;return t?t.left+e:Xo(ia(o)).left+e}function Ox(o,t,e){e===void 0&&(e=!1);const s=o.getBoundingClientRect(),r=s.left+t.scrollLeft-(e?0:Q0(o,s)),l=s.top+t.scrollTop;return{x:r,y:l}}function EL(o){let{elements:t,rect:e,offsetParent:s,strategy:r}=o;const l=r==="fixed",u=ia(s),d=t?Cm(t.floating):!1;if(s===u||d&&l)return e;let f={scrollLeft:0,scrollTop:0},p=Zs(1);const m=Zs(0),v=ta(s);if((v||!v&&!l)&&((nh(s)!=="body"||Wf(u))&&(f=Rm(s)),ta(s))){const A=Xo(s);p=$c(s),m.x=A.x+s.clientLeft,m.y=A.y+s.clientTop}const b=u&&!v&&!l?Ox(u,f,!0):Zs(0);return{width:e.width*p.x,height:e.height*p.y,x:e.x*p.x-f.scrollLeft*p.x+m.x+b.x,y:e.y*p.y-f.scrollTop*p.y+m.y+b.y}}function _L(o){return Array.from(o.getClientRects())}function xL(o){const t=ia(o),e=Rm(o),s=o.ownerDocument.body,r=qo(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),l=qo(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-e.scrollLeft+Q0(o);const d=-e.scrollTop;return _s(s).direction==="rtl"&&(u+=qo(t.clientWidth,s.clientWidth)-r),{width:r,height:l,x:u,y:d}}function TL(o,t){const e=Mi(o),s=ia(o),r=e.visualViewport;let l=s.clientWidth,u=s.clientHeight,d=0,f=0;if(r){l=r.width,u=r.height;const p=W0();(!p||p&&t==="fixed")&&(d=r.offsetLeft,f=r.offsetTop)}return{width:l,height:u,x:d,y:f}}function CL(o,t){const e=Xo(o,!0,t==="fixed"),s=e.top+o.clientTop,r=e.left+o.clientLeft,l=ta(o)?$c(o):Zs(1),u=o.clientWidth*l.x,d=o.clientHeight*l.y,f=r*l.x,p=s*l.y;return{width:u,height:d,x:f,y:p}}function g_(o,t,e){let s;if(t==="viewport")s=TL(o,e);else if(t==="document")s=xL(ia(o));else if(Es(t))s=CL(t,e);else{const r=Lx(o);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return tm(s)}function Dx(o,t){const e=dl(o);return e===t||!Es(e)||Zu(e)?!1:_s(e).position==="fixed"||Dx(e,t)}function RL(o,t){const e=t.get(o);if(e)return e;let s=xd(o,[],!1).filter(d=>Es(d)&&nh(d)!=="body"),r=null;const l=_s(o).position==="fixed";let u=l?dl(o):o;for(;Es(u)&&!Zu(u);){const d=_s(u),f=$0(u);!f&&d.position==="fixed"&&(r=null),(l?!f&&!r:!f&&d.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Wf(u)&&!f&&Dx(o,u))?s=s.filter(m=>m!==u):r=d,u=dl(u)}return t.set(o,s),s}function ML(o){let{element:t,boundary:e,rootBoundary:s,strategy:r}=o;const u=[...e==="clippingAncestors"?Cm(t)?[]:RL(t,this._c):[].concat(e),s],d=u[0],f=u.reduce((p,m)=>{const v=g_(t,m,r);return p.top=qo(v.top,p.top),p.right=Qu(v.right,p.right),p.bottom=Qu(v.bottom,p.bottom),p.left=qo(v.left,p.left),p},g_(t,d,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function LL(o){const{width:t,height:e}=Mx(o);return{width:t,height:e}}function OL(o,t,e){const s=ta(t),r=ia(t),l=e==="fixed",u=Xo(o,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Zs(0);function p(){f.x=Q0(r)}if(s||!s&&!l)if((nh(t)!=="body"||Wf(r))&&(d=Rm(t)),s){const A=Xo(t,!0,l,t);f.x=A.x+t.clientLeft,f.y=A.y+t.clientTop}else r&&p();l&&!s&&r&&p();const m=r&&!s&&!l?Ox(r,d):Zs(0),v=u.left+d.scrollLeft-f.x-m.x,b=u.top+d.scrollTop-f.y-m.y;return{x:v,y:b,width:u.width,height:u.height}}function nb(o){return _s(o).position==="static"}function m_(o,t){if(!ta(o)||_s(o).position==="fixed")return null;if(t)return t(o);let e=o.offsetParent;return ia(o)===e&&(e=e.ownerDocument.body),e}function kx(o,t){const e=Mi(o);if(Cm(o))return e;if(!ta(o)){let r=dl(o);for(;r&&!Zu(r);){if(Es(r)&&!nb(r))return r;r=dl(r)}return e}let s=m_(o,t);for(;s&&bL(s)&&nb(s);)s=m_(s,t);return s&&Zu(s)&&nb(s)&&!$0(s)?e:s||AL(o)||e}const DL=async function(o){const t=this.getOffsetParent||kx,e=this.getDimensions,s=await e(o.floating);return{reference:OL(o.reference,await t(o.floating),o.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function kL(o){return _s(o).direction==="rtl"}const NL={convertOffsetParentRelativeRectToViewportRelativeRect:EL,getDocumentElement:ia,getClippingRect:ML,getOffsetParent:kx,getElementRects:DL,getClientRects:_L,getDimensions:LL,getScale:$c,isElement:Es,isRTL:kL};function Nx(o,t){return o.x===t.x&&o.y===t.y&&o.width===t.width&&o.height===t.height}function PL(o,t){let e=null,s;const r=ia(o);function l(){var d;clearTimeout(s),(d=e)==null||d.disconnect(),e=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=o.getBoundingClientRect(),{left:m,top:v,width:b,height:A}=p;if(d||t(),!b||!A)return;const S=cg(v),_=cg(r.clientWidth-(m+b)),M=cg(r.clientHeight-(v+A)),T=cg(m),k={rootMargin:-S+"px "+-_+"px "+-M+"px "+-T+"px",threshold:qo(0,Qu(1,f))||1};let j=!0;function F(B){const q=B[0].intersectionRatio;if(q!==f){if(!j)return u();q?u(!1,q):s=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!Nx(p,o.getBoundingClientRect())&&u(),j=!1}try{e=new IntersectionObserver(F,{...k,root:r.ownerDocument})}catch{e=new IntersectionObserver(F,k)}e.observe(o)}return u(!0),l}function jL(o,t,e,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=K0(o),m=r||l?[...p?xd(p):[],...xd(t)]:[];m.forEach(T=>{r&&T.addEventListener("scroll",e,{passive:!0}),l&&T.addEventListener("resize",e)});const v=p&&d?PL(p,e):null;let b=-1,A=null;u&&(A=new ResizeObserver(T=>{let[L]=T;L&&L.target===p&&A&&(A.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=A)==null||k.observe(t)})),e()}),p&&!f&&A.observe(p),A.observe(t));let S,_=f?Xo(o):null;f&&M();function M(){const T=Xo(o);_&&!Nx(_,T)&&e(),_=T,S=requestAnimationFrame(M)}return e(),()=>{var T;m.forEach(L=>{r&&L.removeEventListener("scroll",e),l&&L.removeEventListener("resize",e)}),v==null||v(),(T=A)==null||T.disconnect(),A=null,f&&cancelAnimationFrame(S)}}const FL=yL,zL=vL,HL=gL,IL=pL,y_=(o,t,e)=>{const s=new Map,r={platform:NL,...e},l={...r.platform,_c:s};return fL(o,t,{...r,platform:l})};var ib={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var v_;function BL(){return v_||(v_=1,function(o){(function(){var t={}.hasOwnProperty;function e(){for(var l="",u=0;u<arguments.length;u++){var d=arguments[u];d&&(l=r(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var d in l)t.call(l,d)&&l[d]&&(u=r(u,d));return u}function r(l,u){return u?l?l+" "+u:l+u:l}o.exports?(e.default=e,o.exports=e):window.classNames=e})()}(ib)),ib.exports}var UL=BL();const yb=H0(UL);var b_={};const GL="react-tooltip-core-styles",qL="react-tooltip-base-styles",A_={core:!1,base:!1};function S_({css:o,id:t=qL,type:e="base",ref:s}){var r,l;if(!o||typeof document>"u"||A_[e]||e==="core"&&typeof process<"u"&&(!((r=process==null?void 0:b_)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES)||e!=="base"&&typeof process<"u"&&(!((l=process==null?void 0:b_)===null||l===void 0)&&l.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;e==="core"&&(t=GL),s||(s={});const{insertAt:u}=s;if(document.getElementById(t))return;const d=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.id=t,f.type="text/css",u==="top"&&d.firstChild?d.insertBefore(f,d.firstChild):d.appendChild(f),f.styleSheet?f.styleSheet.cssText=o:f.appendChild(document.createTextNode(o)),A_[e]=!0}const w_=async({elementReference:o=null,tooltipReference:t=null,tooltipArrowReference:e=null,place:s="top",offset:r=10,strategy:l="absolute",middlewares:u=[FL(Number(r)),HL({fallbackAxisSideDirection:"start"}),zL({padding:5})],border:d,arrowSize:f=8})=>{if(!o)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};const p=u;return e?(p.push(IL({element:e,padding:5})),y_(o,t,{placement:s,strategy:l,middleware:p}).then(({x:m,y:v,placement:b,middlewareData:A})=>{var S,_;const M={left:`${m}px`,top:`${v}px`,border:d},{x:T,y:L}=(S=A.arrow)!==null&&S!==void 0?S:{x:0,y:0},k=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]])!==null&&_!==void 0?_:"bottom",j=d&&{borderBottom:d,borderRight:d};let F=0;if(d){const B=`${d}`.match(/(\d+)px/);F=B!=null&&B[1]?Number(B[1]):1}return{tooltipStyles:M,tooltipArrowStyles:{left:T!=null?`${T}px`:"",top:L!=null?`${L}px`:"",right:"",bottom:"",...j,[k]:`-${f/2+F}px`},place:b}})):y_(o,t,{placement:"bottom",strategy:l,middleware:p}).then(({x:m,y:v,placement:b})=>({tooltipStyles:{left:`${m}px`,top:`${v}px`},tooltipArrowStyles:{},place:b}))},E_=(o,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(o,t),__=(o,t,e)=>{let s=null;const r=function(...l){const u=()=>{s=null};!s&&(o.apply(this,l),s=setTimeout(u,t))};return r.cancel=()=>{s&&(clearTimeout(s),s=null)},r},x_=o=>o!==null&&!Array.isArray(o)&&typeof o=="object",vb=(o,t)=>{if(o===t)return!0;if(Array.isArray(o)&&Array.isArray(t))return o.length===t.length&&o.every((r,l)=>vb(r,t[l]));if(Array.isArray(o)!==Array.isArray(t))return!1;if(!x_(o)||!x_(t))return o===t;const e=Object.keys(o),s=Object.keys(t);return e.length===s.length&&e.every(r=>vb(o[r],t[r]))},VL=o=>{if(!(o instanceof HTMLElement||o instanceof SVGElement))return!1;const t=getComputedStyle(o);return["overflow","overflow-x","overflow-y"].some(e=>{const s=t.getPropertyValue(e);return s==="auto"||s==="scroll"})},T_=o=>{if(!o)return null;let t=o.parentElement;for(;t;){if(VL(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},XL=typeof window<"u"?D.useLayoutEffect:D.useEffect,Xi=o=>{o.current&&(clearTimeout(o.current),o.current=null)},YL="DEFAULT_TOOLTIP_ID",$L={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},WL=D.createContext({getTooltipData:()=>$L});function Px(o=YL){return D.useContext(WL).getTooltipData(o)}var zc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},sb={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const KL=({forwardRef:o,id:t,className:e,classNameArrow:s,variant:r="dark",anchorId:l,anchorSelect:u,place:d="top",offset:f=10,events:p=["hover"],openOnClick:m=!1,positionStrategy:v="absolute",middlewares:b,wrapper:A,delayShow:S=0,delayHide:_=0,float:M=!1,hidden:T=!1,noArrow:L=!1,clickable:k=!1,closeOnEsc:j=!1,closeOnScroll:F=!1,closeOnResize:B=!1,openEvents:q,closeEvents:W,globalCloseEvents:tt,imperativeModeOnly:it,style:st,position:ft,afterShow:pt,afterHide:rt,disableTooltip:ct,content:H,contentWrapperRef:V,isOpen:K,defaultIsOpen:yt=!1,setIsOpen:P,activeAnchor:$,setActiveAnchor:nt,border:et,opacity:ht,arrowColor:xt,arrowSize:ut=8,role:Tt="tooltip"})=>{var Dt;const Gt=D.useRef(null),Xt=D.useRef(null),Oe=D.useRef(null),rn=D.useRef(null),qt=D.useRef(null),[Kt,De]=D.useState({tooltipStyles:{},tooltipArrowStyles:{},place:d}),[$t,ke]=D.useState(!1),[Hn,Oi]=D.useState(!1),[ce,In]=D.useState(null),sa=D.useRef(!1),xs=D.useRef(null),{anchorRefs:aa,setActiveAnchor:lr}=Px(t),Kn=D.useRef(!1),[ie,Ke]=D.useState([]),ve=D.useRef(!1),Di=m||p.includes("click"),ih=Di||(q==null?void 0:q.click)||(q==null?void 0:q.dblclick)||(q==null?void 0:q.mousedown),or=q?{...q}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!q&&Di&&Object.assign(or,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ki=W?{...W}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!W&&Di&&Object.assign(ki,{mouseleave:!1,blur:!1,mouseout:!1});const xn=tt?{...tt}:{escape:j||!1,scroll:F||!1,resize:B||!1,clickOutsideAnchor:ih||!1};it&&(Object.assign(or,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ki,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(xn,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),XL(()=>(ve.current=!0,()=>{ve.current=!1}),[]);const ue=at=>{ve.current&&(at&&Oi(!0),setTimeout(()=>{ve.current&&(P==null||P(at),K===void 0&&ke(at))},10))};D.useEffect(()=>{if(K===void 0)return()=>null;K&&Oi(!0);const at=setTimeout(()=>{ke(K)},10);return()=>{clearTimeout(at)}},[K]),D.useEffect(()=>{if($t!==sa.current)if(Xi(qt),sa.current=$t,$t)pt==null||pt();else{const at=(mt=>{const Et=mt.match(/^([\d.]+)(ms|s)$/);if(!Et)return 0;const[,_e,ln]=Et;return Number(_e)*(ln==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));qt.current=setTimeout(()=>{Oi(!1),In(null),rt==null||rt()},at+25)}},[$t]);const ra=at=>{De(mt=>vb(mt,at)?mt:at)},is=(at=S)=>{Xi(Oe),Hn?ue(!0):Oe.current=setTimeout(()=>{ue(!0)},at)},cr=(at=_)=>{Xi(rn),rn.current=setTimeout(()=>{Kn.current||ue(!1)},at)},ur=at=>{var mt;if(!at)return;const Et=(mt=at.currentTarget)!==null&&mt!==void 0?mt:at.target;if(!(Et!=null&&Et.isConnected))return nt(null),void lr({current:null});S?is():ue(!0),nt(Et),lr({current:Et}),Xi(rn)},la=()=>{k?cr(_||100):_?cr():ue(!1),Xi(Oe)},Ts=({x:at,y:mt})=>{var Et;const _e={getBoundingClientRect:()=>({x:at,y:mt,width:0,height:0,top:mt,left:at,right:at,bottom:mt})};w_({place:(Et=ce==null?void 0:ce.place)!==null&&Et!==void 0?Et:d,offset:f,elementReference:_e,tooltipReference:Gt.current,tooltipArrowReference:Xt.current,strategy:v,middlewares:b,border:et,arrowSize:ut}).then(ln=>{ra(ln)})},Ni=at=>{if(!at)return;const mt=at,Et={x:mt.clientX,y:mt.clientY};Ts(Et),xs.current=Et},bl=at=>{var mt;if(!$t)return;const Et=at.target;Et.isConnected&&(!((mt=Gt.current)===null||mt===void 0)&&mt.contains(Et)||[document.querySelector(`[id='${l}']`),...ie].some(_e=>_e==null?void 0:_e.contains(Et))||(ue(!1),Xi(Oe)))},Al=__(ur,50),ze=__(la,50),Tn=at=>{ze.cancel(),Al(at)},St=()=>{Al.cancel(),ze()},It=D.useCallback(()=>{var at,mt;const Et=(at=ce==null?void 0:ce.position)!==null&&at!==void 0?at:ft;Et?Ts(Et):M?xs.current&&Ts(xs.current):$!=null&&$.isConnected&&w_({place:(mt=ce==null?void 0:ce.place)!==null&&mt!==void 0?mt:d,offset:f,elementReference:$,tooltipReference:Gt.current,tooltipArrowReference:Xt.current,strategy:v,middlewares:b,border:et,arrowSize:ut}).then(_e=>{ve.current&&ra(_e)})},[$t,$,H,st,d,ce==null?void 0:ce.place,f,v,ft,ce==null?void 0:ce.position,M,ut]);D.useEffect(()=>{var at,mt;const Et=new Set(aa);ie.forEach(Jt=>{ct!=null&&ct(Jt)||Et.add({current:Jt})});const _e=document.querySelector(`[id='${l}']`);_e&&!(ct!=null&&ct(_e))&&Et.add({current:_e});const ln=()=>{ue(!1)},Pi=T_($),ci=T_(Gt.current);xn.scroll&&(window.addEventListener("scroll",ln),Pi==null||Pi.addEventListener("scroll",ln),ci==null||ci.addEventListener("scroll",ln));let He=null;xn.resize?window.addEventListener("resize",ln):$&&Gt.current&&(He=jL($,Gt.current,It,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Rn=Jt=>{Jt.key==="Escape"&&ue(!1)};xn.escape&&window.addEventListener("keydown",Rn),xn.clickOutsideAnchor&&window.addEventListener("click",bl);const Zt=[],ui=Jt=>!!(Jt!=null&&Jt.target&&($!=null&&$.contains(Jt.target))),Sl=Jt=>{$t&&ui(Jt)||ur(Jt)},hr=Jt=>{$t&&ui(Jt)&&la()},Ie=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],sh=["click","dblclick","mousedown","mouseup"];Object.entries(or).forEach(([Jt,ji])=>{ji&&(Ie.includes(Jt)?Zt.push({event:Jt,listener:Tn}):sh.includes(Jt)&&Zt.push({event:Jt,listener:Sl}))}),Object.entries(ki).forEach(([Jt,ji])=>{ji&&(Ie.includes(Jt)?Zt.push({event:Jt,listener:St}):sh.includes(Jt)&&Zt.push({event:Jt,listener:hr}))}),M&&Zt.push({event:"pointermove",listener:Ni});const ah=()=>{Kn.current=!0},Cs=()=>{Kn.current=!1,la()},oa=k&&(ki.mouseout||ki.mouseleave);return oa&&((at=Gt.current)===null||at===void 0||at.addEventListener("mouseover",ah),(mt=Gt.current)===null||mt===void 0||mt.addEventListener("mouseout",Cs)),Zt.forEach(({event:Jt,listener:ji})=>{Et.forEach(nc=>{var wl;(wl=nc.current)===null||wl===void 0||wl.addEventListener(Jt,ji)})}),()=>{var Jt,ji;xn.scroll&&(window.removeEventListener("scroll",ln),Pi==null||Pi.removeEventListener("scroll",ln),ci==null||ci.removeEventListener("scroll",ln)),xn.resize?window.removeEventListener("resize",ln):He==null||He(),xn.clickOutsideAnchor&&window.removeEventListener("click",bl),xn.escape&&window.removeEventListener("keydown",Rn),oa&&((Jt=Gt.current)===null||Jt===void 0||Jt.removeEventListener("mouseover",ah),(ji=Gt.current)===null||ji===void 0||ji.removeEventListener("mouseout",Cs)),Zt.forEach(({event:nc,listener:wl})=>{Et.forEach(ic=>{var dr;(dr=ic.current)===null||dr===void 0||dr.removeEventListener(nc,wl)})})}},[$,It,Hn,aa,ie,q,W,tt,Di,S,_]),D.useEffect(()=>{var at,mt;let Et=(mt=(at=ce==null?void 0:ce.anchorSelect)!==null&&at!==void 0?at:u)!==null&&mt!==void 0?mt:"";!Et&&t&&(Et=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const _e=new MutationObserver(ln=>{const Pi=[],ci=[];ln.forEach(He=>{if(He.type==="attributes"&&He.attributeName==="data-tooltip-id"&&(He.target.getAttribute("data-tooltip-id")===t?Pi.push(He.target):He.oldValue===t&&ci.push(He.target)),He.type==="childList"){if($){const Rn=[...He.removedNodes].filter(Zt=>Zt.nodeType===1);if(Et)try{ci.push(...Rn.filter(Zt=>Zt.matches(Et))),ci.push(...Rn.flatMap(Zt=>[...Zt.querySelectorAll(Et)]))}catch{}Rn.some(Zt=>{var ui;return!!(!((ui=Zt==null?void 0:Zt.contains)===null||ui===void 0)&&ui.call(Zt,$))&&(Oi(!1),ue(!1),nt(null),Xi(Oe),Xi(rn),!0)})}if(Et)try{const Rn=[...He.addedNodes].filter(Zt=>Zt.nodeType===1);Pi.push(...Rn.filter(Zt=>Zt.matches(Et))),Pi.push(...Rn.flatMap(Zt=>[...Zt.querySelectorAll(Et)]))}catch{}}}),(Pi.length||ci.length)&&Ke(He=>[...He.filter(Rn=>!ci.includes(Rn)),...Pi])});return _e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{_e.disconnect()}},[t,u,ce==null?void 0:ce.anchorSelect,$]),D.useEffect(()=>{It()},[It]),D.useEffect(()=>{if(!(V!=null&&V.current))return()=>null;const at=new ResizeObserver(()=>{setTimeout(()=>It())});return at.observe(V.current),()=>{at.disconnect()}},[H,V==null?void 0:V.current]),D.useEffect(()=>{var at;const mt=document.querySelector(`[id='${l}']`),Et=[...ie,mt];$&&Et.includes($)||nt((at=ie[0])!==null&&at!==void 0?at:mt)},[l,ie,$]),D.useEffect(()=>(yt&&ue(!0),()=>{Xi(Oe),Xi(rn)}),[]),D.useEffect(()=>{var at;let mt=(at=ce==null?void 0:ce.anchorSelect)!==null&&at!==void 0?at:u;if(!mt&&t&&(mt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),mt)try{const Et=Array.from(document.querySelectorAll(mt));Ke(Et)}catch{Ke([])}},[t,u,ce==null?void 0:ce.anchorSelect]),D.useEffect(()=>{Oe.current&&(Xi(Oe),is(S))},[S]);const Bn=(Dt=ce==null?void 0:ce.content)!==null&&Dt!==void 0?Dt:H,Cn=$t&&Object.keys(Kt.tooltipStyles).length>0;return D.useImperativeHandle(o,()=>({open:at=>{if(at!=null&&at.anchorSelect)try{document.querySelector(at.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${at.anchorSelect}" is not a valid CSS selector`)}In(at??null),at!=null&&at.delay?is(at.delay):ue(!0)},close:at=>{at!=null&&at.delay?cr(at.delay):ue(!1)},activeAnchor:$,place:Kt.place,isOpen:!!(Hn&&!T&&Bn&&Cn)})),Hn&&!T&&Bn?li.createElement(A,{id:t,role:Tt,className:yb("react-tooltip",zc.tooltip,sb.tooltip,sb[r],e,`react-tooltip__place-${Kt.place}`,zc[Cn?"show":"closing"],Cn?"react-tooltip__show":"react-tooltip__closing",v==="fixed"&&zc.fixed,k&&zc.clickable),onTransitionEnd:at=>{Xi(qt),$t||at.propertyName!=="opacity"||(Oi(!1),In(null),rt==null||rt())},style:{...st,...Kt.tooltipStyles,opacity:ht!==void 0&&Cn?ht:void 0},ref:Gt},Bn,li.createElement(A,{className:yb("react-tooltip-arrow",zc.arrow,sb.arrow,s,L&&zc.noArrow),style:{...Kt.tooltipArrowStyles,background:xt?`linear-gradient(to right bottom, transparent 50%, ${xt} 50%)`:void 0,"--rt-arrow-size":`${ut}px`},ref:Xt})):null},QL=({content:o})=>li.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),ug=li.forwardRef(({id:o,anchorId:t,anchorSelect:e,content:s,html:r,render:l,className:u,classNameArrow:d,variant:f="dark",place:p="top",offset:m=10,wrapper:v="div",children:b=null,events:A=["hover"],openOnClick:S=!1,positionStrategy:_="absolute",middlewares:M,delayShow:T=0,delayHide:L=0,float:k=!1,hidden:j=!1,noArrow:F=!1,clickable:B=!1,closeOnEsc:q=!1,closeOnScroll:W=!1,closeOnResize:tt=!1,openEvents:it,closeEvents:st,globalCloseEvents:ft,imperativeModeOnly:pt=!1,style:rt,position:ct,isOpen:H,defaultIsOpen:V=!1,disableStyleInjection:K=!1,border:yt,opacity:P,arrowColor:$,arrowSize:nt,setIsOpen:et,afterShow:ht,afterHide:xt,disableTooltip:ut,role:Tt="tooltip"},Dt)=>{const[Gt,Xt]=D.useState(s),[Oe,rn]=D.useState(r),[qt,Kt]=D.useState(p),[De,$t]=D.useState(f),[ke,Hn]=D.useState(m),[Oi,ce]=D.useState(T),[In,sa]=D.useState(L),[xs,aa]=D.useState(k),[lr,Kn]=D.useState(j),[ie,Ke]=D.useState(v),[ve,Di]=D.useState(A),[ih,or]=D.useState(_),[ki,xn]=D.useState(null),[ue,ra]=D.useState(null),is=D.useRef(K),{anchorRefs:cr,activeAnchor:ur}=Px(o),la=ze=>ze==null?void 0:ze.getAttributeNames().reduce((Tn,St)=>{var It;return St.startsWith("data-tooltip-")&&(Tn[St.replace(/^data-tooltip-/,"")]=(It=ze==null?void 0:ze.getAttribute(St))!==null&&It!==void 0?It:null),Tn},{}),Ts=ze=>{const Tn={place:St=>{var It;Kt((It=St)!==null&&It!==void 0?It:p)},content:St=>{Xt(St??s)},html:St=>{rn(St??r)},variant:St=>{var It;$t((It=St)!==null&&It!==void 0?It:f)},offset:St=>{Hn(St===null?m:Number(St))},wrapper:St=>{var It;Ke((It=St)!==null&&It!==void 0?It:v)},events:St=>{const It=St==null?void 0:St.split(" ");Di(It??A)},"position-strategy":St=>{var It;or((It=St)!==null&&It!==void 0?It:_)},"delay-show":St=>{ce(St===null?T:Number(St))},"delay-hide":St=>{sa(St===null?L:Number(St))},float:St=>{aa(St===null?k:St==="true")},hidden:St=>{Kn(St===null?j:St==="true")},"class-name":St=>{xn(St)}};Object.values(Tn).forEach(St=>St(null)),Object.entries(ze).forEach(([St,It])=>{var Bn;(Bn=Tn[St])===null||Bn===void 0||Bn.call(Tn,It)})};D.useEffect(()=>{Xt(s)},[s]),D.useEffect(()=>{rn(r)},[r]),D.useEffect(()=>{Kt(p)},[p]),D.useEffect(()=>{$t(f)},[f]),D.useEffect(()=>{Hn(m)},[m]),D.useEffect(()=>{ce(T)},[T]),D.useEffect(()=>{sa(L)},[L]),D.useEffect(()=>{aa(k)},[k]),D.useEffect(()=>{Kn(j)},[j]),D.useEffect(()=>{or(_)},[_]),D.useEffect(()=>{is.current!==K&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[K]),D.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:K==="core",disableBase:K}}))},[]),D.useEffect(()=>{var ze;const Tn=new Set(cr);let St=e;if(!St&&o&&(St=`[data-tooltip-id='${o.replace(/'/g,"\\'")}']`),St)try{document.querySelectorAll(St).forEach(mt=>{Tn.add({current:mt})})}catch{console.warn(`[react-tooltip] "${St}" is not a valid CSS selector`)}const It=document.querySelector(`[id='${t}']`);if(It&&Tn.add({current:It}),!Tn.size)return()=>null;const Bn=(ze=ue??It)!==null&&ze!==void 0?ze:ur.current,Cn=new MutationObserver(mt=>{mt.forEach(Et=>{var _e;if(!Bn||Et.type!=="attributes"||!(!((_e=Et.attributeName)===null||_e===void 0)&&_e.startsWith("data-tooltip-")))return;const ln=la(Bn);Ts(ln)})}),at={attributes:!0,childList:!1,subtree:!1};if(Bn){const mt=la(Bn);Ts(mt),Cn.observe(Bn,at)}return()=>{Cn.disconnect()}},[cr,ur,ue,t,e]),D.useEffect(()=>{rt!=null&&rt.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),yt&&!E_("border",`${yt}`)&&console.warn(`[react-tooltip] "${yt}" is not a valid \`border\`.`),rt!=null&&rt.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),P&&!E_("opacity",`${P}`)&&console.warn(`[react-tooltip] "${P}" is not a valid \`opacity\`.`)},[]);let Ni=b;const bl=D.useRef(null);if(l){const ze=l({content:(ue==null?void 0:ue.getAttribute("data-tooltip-content"))||Gt||null,activeAnchor:ue});Ni=ze?li.createElement("div",{ref:bl,className:"react-tooltip-content-wrapper"},ze):null}else Gt&&(Ni=Gt);Oe&&(Ni=li.createElement(QL,{content:Oe}));const Al={forwardRef:Dt,id:o,anchorId:t,anchorSelect:e,className:yb(u,ki),classNameArrow:d,content:Ni,contentWrapperRef:bl,place:qt,variant:De,offset:ke,wrapper:ie,events:ve,openOnClick:S,positionStrategy:ih,middlewares:M,delayShow:Oi,delayHide:In,float:xs,hidden:lr,noArrow:F,clickable:B,closeOnEsc:q,closeOnScroll:W,closeOnResize:tt,openEvents:it,closeEvents:st,globalCloseEvents:ft,imperativeModeOnly:pt,style:rt,position:ct,isOpen:H,defaultIsOpen:V,border:yt,opacity:P,arrowColor:$,arrowSize:nt,setIsOpen:et,afterShow:ht,afterHide:xt,disableTooltip:ut,activeAnchor:ue,setActiveAnchor:ze=>ra(ze),role:Tt};return li.createElement(KL,{...Al})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",o=>{o.detail.disableCore||S_({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),o.detail.disableBase||S_({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function ZL(){const o=Vf(),t=yl(),[e,s]=D.useState(!1);var r=e?250:60;const l=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);r=l?r*.8:r;const u=()=>s(!e),d={marginBottom:"10px",display:"flex",background:"none",border:"none",color:"#ccc",cursor:"pointer",fontSize:"18px",justifyContent:"center",transition:"width 0.3s",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center",paddingBottom:"5px",paddingTop:"5px",boxSizing:"border-box",width:"90%",textOverflow:"ellipsis"},f={zIndex:2e3,backgroundColor:"#333",color:"#fff",borderRadius:"6px",padding:"6px 10px",fontSize:"14px",fontWeight:"bold"},p={display:"flex",justifyContent:"center"};return O.jsxs("div",{style:{display:"flex"},children:[O.jsx("div",{style:{width:r,height:"100%",background:"#382240",color:"#fff",transition:"width 0.3s ease",overflow:"hidden",padding:"10px",position:"fixed",boxSizing:"border-box",zIndex:1e3,display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:O.jsxs("ul",{style:{listStyleType:"none",margin:0,paddingLeft:0,paddingRight:0,boxSizing:"border-box",width:"100%",transition:"width 0.3s ease"},children:[O.jsx("li",{style:{...p},children:O.jsx("button",{onClick:u,style:{...d,marginBottom:"40px"},children:O.jsx("span",{children:e?"":""})})}),O.jsxs("li",{style:{...p},children:[O.jsx("button",{"data-tooltip-id":"home-tooltip","data-tooltip-content":"Home",onClick:()=>{o("/"),e&&u()},style:{...d,fontWeight:t.pathname==="/"?"bold":"normal"},children:O.jsx("span",{children:e?"Home":O.jsx(sL,{})})}),!e&&!l&&O.jsx(ug,{id:"home-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]}),O.jsxs("li",{style:{...p},children:[O.jsx("button",{"data-tooltip-id":"resume-tooltip","data-tooltip-content":"Resume/CV",onClick:()=>{o("/resume"),e&&u()},style:{...d,fontWeight:t.pathname==="/resume"?"bold":"normal"},children:O.jsx("span",{children:e?"Resume/CV":O.jsx(aL,{})})}),!e&&!l&&O.jsx(ug,{id:"resume-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]}),O.jsx("li",{style:{...p},children:O.jsx("hr",{style:{borderTop:"1px solid white",opacity:"70%",width:"90%",transition:"width 0.3s ease",marginTop:"10px",marginBottom:"20px"}})}),O.jsxs("li",{style:{...p},children:[O.jsx("button",{"data-tooltip-id":"2048-tooltip","data-tooltip-content":"2048 Agent",onClick:()=>{o("/2048_agent"),e&&u()},style:{...d,fontWeight:t.pathname==="/2048_agent"?"bold":"normal"},children:O.jsx("span",{children:e?"2048 Agent":O.jsx(nL,{})})}),!e&&!l&&O.jsx(ug,{id:"2048-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]}),O.jsxs("li",{style:{...p},children:[O.jsx("button",{"data-tooltip-id":"pacman-tooltip","data-tooltip-content":"PacMan",onClick:()=>{o("/pacman"),e&&u()},style:{...d,fontWeight:t.pathname==="/pacman"?"bold":"normal"},children:O.jsx("span",{children:e?"Pac-Man Project":O.jsx(iL,{})})}),!e&&!l&&O.jsx(ug,{id:"pacman-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]})]})}),O.jsx("div",{style:{padding:"20px",marginLeft:e?r/1.2:0,transition:"margin-left 0.3s",display:"flex",flexGrow:1,justifyContent:"center",height:"100vh",boxSizing:"border-box",scrollPaddingBottom:"20px"}})]})}function JL(){return O.jsxs("div",{style:{display:"flex"},children:[O.jsx(ZL,{}),O.jsx("div",{style:{flexGrow:1,paddingTop:"20px",marginLeft:"5px"},children:O.jsx(f2,{})})]})}function tO({targetDateString:o}){const[t,e]=D.useState(null);return D.useEffect(()=>{const s=new Date,l=new Date(o).getTime()-s.getTime(),u=Math.ceil(l/(1e3*60*60*24));e(u)},[o]),O.jsx("div",{style:{display:"flex",justifyContent:"center",margin:0},children:t>0?O.jsxs("p",{style:{fontWeight:"bold",margin:2},children:[t," day",t!==1?"s":""," until graduation!"]}):O.jsx("p",{style:{fontWeight:"bold"},children:"I have officially graduated!"})})}function eO(){return O.jsxs("div",{style:{marginTop:"20px",padding:"20px"},children:[O.jsx("div",{style:{display:"flex",justifyContent:"center"},children:O.jsx("a",{href:"https://www.linkedin.com/in/justin-everett-6b629a253/",target:"_blank",children:O.jsx("img",{src:"/PersonalWebpage/WebsitePlaceHolder.jpg",alt:"LinkedIn",style:{width:"200px",maxWidth:"100%",borderRadius:"10%"}})})}),O.jsx("h1",{style:{textAlign:"center"},children:"Justin Everett"}),O.jsxs("div",{className:"aboutMe",children:[O.jsx("h2",{children:"Versatile Programmer, Dedicated Learner"}),O.jsxs("div",{style:{width:"80%",display:"flex",flexWrap:"wrap",justifyContent:"center",textAlign:"center"},children:[O.jsx("span",{children:"American living in London with right to work in the UK. I love learning new things, especially around technology and personal development. Recently completed my BSc in Computer Science at Royal Holloway, graduating this July with a First Class Honours classification."}),O.jsx("hr",{}),O.jsx("span",{children:"I consider myself an adept and versatile programmer, eager to learn from others and share my knowledge. Growing up in an international school, I developed a deep respect for people from various cultural backgrounds. As a non-native resident, I appreciate the richness that diverse perspectives bring to both personal and professional settings."}),O.jsx("hr",{}),O.jsx("span",{children:"Outside of work, I am passionate about music and will often ask for opinions on the best album of all time. I am active in team and individual sports, participating in the Royal Holloway Ultimate Frisbee community as well as frequently rock climbing for leisure. I also value the time spent with loved ones, as moving across the world has underscored the importance of family and close relationships."})]})]}),O.jsxs("div",{className:"card",style:{flexWrap:"wrap"},children:[O.jsx("div",{style:{width:"100%"},children:O.jsx(tO,{targetDateString:"2025-07-31"})}),O.jsx("p",{style:{textAlign:"center",margin:2,width:"100%"},children:O.jsx("code",{children:"Use the sidebar to the left to navigate"})}),O.jsxs("p",{className:"read-the-docs",style:{textAlign:"center",margin:5,width:"100%"},children:["Click on the image of me to visit my"," ",O.jsx("span",{children:O.jsx("a",{href:"https://www.linkedin.com/in/justin-everett-6b629a253/",children:"LinkedIn"})})," ","profile!"]})]})]})}const nO="modulepreload",iO=function(o){return"/PersonalWebpage/"+o},C_={},hg=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let u=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=u(e.map(p=>{if(p=iO(p),p in C_)return;C_[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":nO,m||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((A,S)=>{b.addEventListener("load",A),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var Sd={};Sd.d=(o,t)=>{for(var e in t)Sd.o(t,e)&&!Sd.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})};Sd.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t);var Lt=globalThis.pdfjsLib={};Sd.d(Lt,{AbortException:()=>tc,AnnotationEditorLayer:()=>L0,AnnotationEditorParamsType:()=>Mt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>$o,AnnotationLayer:()=>ek,AnnotationMode:()=>Fr,ColorPicker:()=>sm,DOMSVGFactory:()=>cA,DrawLayer:()=>N0,FeatureTest:()=>Yn,GlobalWorkerOptions:()=>Ja,ImageKind:()=>bg,InvalidPDFException:()=>Fx,MissingPDFException:()=>Jo,OPS:()=>os,OutputScale:()=>Eb,PDFDataRangeTransport:()=>k1,PDFDateString:()=>nA,PDFWorker:()=>Kc,PasswordResponses:()=>lO,PermissionFlag:()=>rO,PixelsPerInch:()=>fl,RenderingCancelledException:()=>tA,TextLayer:()=>Qb,UnexpectedResponseException:()=>Dm,Util:()=>vt,VerbosityLevel:()=>Mm,XfaLayer:()=>P1,build:()=>PD,createValidAbsoluteUrl:()=>hO,fetchData:()=>Nm,getDocument:()=>TD,getFilenameFromUrl:()=>AO,getPdfFilenameFromUrl:()=>SO,getXfaPageViewport:()=>wO,isDataScheme:()=>Pm,isPdfFile:()=>eA,noContextMenu:()=>ns,normalizeUnicode:()=>yO,setLayerDimensions:()=>Yo,shadow:()=>Yt,version:()=>ND});const zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),jx=[1,0,0,1,0,0],bb=[.001,0,0,.001,0,0],sO=1e7,ab=1.35,Ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Fr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},aO="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},rO={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},On={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},bg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},nd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mm={ERRORS:0,WARNINGS:1,INFOS:5},os={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},lO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Lm=Mm.WARNINGS;function oO(o){Number.isInteger(o)&&(Lm=o)}function cO(){return Lm}function Om(o){Lm>=Mm.INFOS&&console.log(`Info: ${o}`)}function Ft(o){Lm>=Mm.WARNINGS&&console.log(`Warning: ${o}`)}function Se(o){throw new Error(o)}function sn(o,t){o||Se(t)}function uO(o){switch(o==null?void 0:o.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hO(o,t=null,e=null){if(!o)return null;try{if(e&&typeof o=="string"){if(e.addDefaultProtocol&&o.startsWith("www.")){const r=o.match(/\./g);(r==null?void 0:r.length)>=2&&(o=`http://${o}`)}if(e.tryConvertEncoding)try{o=mO(o)}catch{}}const s=t?new URL(o,t):new URL(o);if(uO(s))return s}catch{}return null}function Yt(o,t,e,s=!1){return Object.defineProperty(o,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const vl=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Ab extends vl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Sb extends vl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Fx extends vl{constructor(t){super(t,"InvalidPDFException")}}class Jo extends vl{constructor(t){super(t,"MissingPDFException")}}class Dm extends vl{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class dO extends vl{constructor(t){super(t,"FormatError")}}class tc extends vl{constructor(t){super(t,"AbortException")}}function zx(o){(typeof o!="object"||(o==null?void 0:o.length)===void 0)&&Se("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const s=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),u=o.subarray(r,l);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function km(o){typeof o!="string"&&Se("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=o.charCodeAt(s)&255;return e}function fO(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function Z0(o){const t=Object.create(null);for(const[e,s]of o)t[e]=s;return t}function pO(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function gO(){try{return new Function(""),!0}catch{return!1}}class Yn{static get isLittleEndian(){return Yt(this,"isLittleEndian",pO())}static get isEvalSupported(){return Yt(this,"isEvalSupported",gO())}static get isOffscreenCanvasSupported(){return Yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Yt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const rb=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));var nr,Ag,wb;class vt{static makeHexColor(t,e,s){return`#${rb[t]}${rb[e]}${rb[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],l[0],u[0]),Math.min(s[1],r[1],l[1],u[1]),Math.max(s[0],r[0],l[0],u[0]),Math.max(s[1],r[1],l[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-l*r))/2,p=d+f||1,m=d-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[s,l,r,u]}static bezierBoundingBox(t,e,s,r,l,u,d,f,p){return p?(p[0]=Math.min(p[0],t,d),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,d),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],x(this,nr,wb).call(this,t,s,l,d,e,r,u,f,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),p),x(this,nr,wb).call(this,t,s,l,d,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),p),p}}nr=new WeakSet,Ag=function(t,e,s,r,l,u,d,f,p,m){if(p<=0||p>=1)return;const v=1-p,b=p*p,A=b*p,S=v*(v*(v*t+3*p*e)+3*b*s)+A*r,_=v*(v*(v*l+3*p*u)+3*b*d)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],_),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],_)},wb=function(t,e,s,r,l,u,d,f,p,m,v,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&x(this,nr,Ag).call(this,t,e,s,r,l,u,d,f,-v/m,b);return}const A=m**2-4*v*p;if(A<0)return;const S=Math.sqrt(A),_=2*p;x(this,nr,Ag).call(this,t,e,s,r,l,u,d,f,(-m+S)/_,b),x(this,nr,Ag).call(this,t,e,s,r,l,u,d,f,(-m-S)/_,b)},R(vt,nr);function mO(o){return decodeURIComponent(escape(o))}let lb=null,R_=null;function yO(o){return lb||(lb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,R_=new Map([["","t"]])),o.replaceAll(lb,(t,e,s)=>e?e.normalize("NFKC"):R_.get(s))}function vO(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const o=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(o);else for(let t=0;t<32;t++)o[t]=Math.floor(Math.random()*255);return zx(o)}const J0="pdfjs_internal_id_",_a={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function bO(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(zx(o))}const Ta="http://www.w3.org/2000/svg",Vl=class Vl{};Rt(Vl,"CSS",96),Rt(Vl,"PDF",72),Rt(Vl,"PDF_TO_CSS_UNITS",Vl.CSS/Vl.PDF);let fl=Vl;async function Nm(o,t="text"){if(ad(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Kf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=l;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let A,S,_,M;p===0?(A=Math.abs(f-t[1])*e+r,S=Math.abs(d-t[0])*e+l,_=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,S=Math.abs(f-t[1])*e+l,_=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[p*e,m*e,v*e,b*e,A-p*e*d-v*e*f,S-m*e*d-b*e*f],this.width=_,this.height=M}get rawDims(){const{viewBox:t}=this;return Yt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Kf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return vt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=vt.applyTransform([t[0],t[1]],this.transform),s=vt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return vt.applyInverseTransform([t,e],this.transform)}}class tA extends vl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Pm(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function eA(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function AO(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function SO(o,t="document.pdf"){if(typeof o!="string")return t;if(Pm(o))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(o);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class M_{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(t){t in this.started&&Ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-r}ms
`);return t.join("")}}function ad(o,t){try{const{protocol:e}=t?new URL(o,t):new URL(o);return e==="http:"||e==="https:"}catch{return!1}}function ns(o){o.preventDefault()}function L_(o){console.log("Deprecated API usage: "+o)}var Cd;class nA{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Cd)||E(this,Cd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Cd).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(u+=m,d+=v):p==="+"&&(u-=m,d-=v),new Date(Date.UTC(s,r,l,u,d,f))}}Cd=new WeakMap,R(nA,Cd);function wO(o,{scale:t=1,rotation:e=0}){const{width:s,height:r}=o.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new Kf({viewBox:l,scale:t,rotation:e})}function iA(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ft(`Not a valid color format: "${o}"`),[0,0,0])}function EO(o){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of o.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;o.set(e,iA(s))}t.remove()}function Me(o){const{a:t,b:e,c:s,d:r,e:l,f:u}=o.getTransform();return[t,e,s,r,l,u]}function xa(o){const{a:t,b:e,c:s,d:r,e:l,f:u}=o.getTransform().invertSelf();return[t,e,s,r,l,u]}function Yo(o,t,e=!1,s=!0){if(t instanceof Kf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:u}=o,d=Yn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=d?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=m,u.height=v):(u.width=v,u.height=m)}s&&o.setAttribute("data-main-rotation",t.rotation)}class Eb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var zr,Yl,cs,$l,Rd,Md,rm,Hx,$n,Ix,Bx,Sg,Ux,xb;const Ca=class Ca{constructor(t){R(this,$n);R(this,zr,null);R(this,Yl,null);R(this,cs);R(this,$l,null);R(this,Rd,null);E(this,cs,t),h(Ca,Md)||E(Ca,Md,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,zr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,cs)._uiManager._signal;t.addEventListener("contextmenu",ns,{signal:e}),t.addEventListener("pointerdown",x(Ca,rm,Hx),{signal:e});const s=E(this,$l,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,cs).toolbarPosition;if(r){const{style:l}=t,u=h(this,cs)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,$n,Ux).call(this),t}get div(){return h(this,zr)}hide(){var t;h(this,zr).classList.add("hidden"),(t=h(this,Yl))==null||t.hideDropdown()}show(){var t;h(this,zr).classList.remove("hidden"),(t=h(this,Rd))==null||t.shown()}async addAltText(t){const e=await t.render();x(this,$n,Sg).call(this,e),h(this,$l).prepend(e,h(this,$n,xb)),E(this,Rd,t)}addColorPicker(t){E(this,Yl,t);const e=t.renderButton();x(this,$n,Sg).call(this,e),h(this,$l).prepend(e,h(this,$n,xb))}remove(){var t;h(this,zr).remove(),(t=h(this,Yl))==null||t.destroy(),E(this,Yl,null)}};zr=new WeakMap,Yl=new WeakMap,cs=new WeakMap,$l=new WeakMap,Rd=new WeakMap,Md=new WeakMap,rm=new WeakSet,Hx=function(t){t.stopPropagation()},$n=new WeakSet,Ix=function(t){h(this,cs)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Bx=function(t){h(this,cs)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Sg=function(t){const e=h(this,cs)._uiManager._signal;t.addEventListener("focusin",x(this,$n,Ix).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",x(this,$n,Bx).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ns,{signal:e})},Ux=function(){const{editorType:t,_uiManager:e}=h(this,cs),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ca,Md)[t]),x(this,$n,Sg).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,$l).append(s)},xb=function(){const t=document.createElement("div");return t.className="divider",t},R(Ca,rm),R(Ca,Md,null);let _b=Ca;var Ld,Wl,Kl,gl,Gx,qx,Vx;class _O{constructor(t){R(this,gl);R(this,Ld,null);R(this,Wl,null);R(this,Kl);E(this,Kl,t)}show(t,e,s){const[r,l]=x(this,gl,qx).call(this,e,s),{style:u}=h(this,Wl)||E(this,Wl,x(this,gl,Gx).call(this));t.append(h(this,Wl)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Wl).remove()}}Ld=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,gl=new WeakSet,Gx=function(){const t=E(this,Wl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ns,{signal:h(this,Kl)._signal});const e=E(this,Ld,document.createElement("div"));return e.className="buttons",t.append(e),x(this,gl,Vx).call(this),t},qx=function(t,e){let s=0,r=0;for(const l of t){const u=l.y+l.height;if(u<s)continue;const d=l.x+(e?l.width:0);if(u>s){r=d,s=u;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Vx=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,Kl)._signal;t.addEventListener("contextmenu",ns,{signal:s}),t.addEventListener("click",()=>{h(this,Kl).highlightSelection("floating_button")},{signal:s}),h(this,Ld).append(t)};function em(o,t,e){for(const s of e)t.addEventListener(s,o[s].bind(o))}function xO(o){return Math.round(Math.min(255,Math.max(1,255*o))).toString(16).padStart(2,"0")}var lm;class TO{constructor(){R(this,lm,0)}get id(){return`${aO}${Gn(this,lm)._++}`}}lm=new WeakMap;var Jc,Od,kn,tu,wg;const dA=class dA{constructor(){R(this,tu);R(this,Jc,vO());R(this,Od,0);R(this,kn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Yt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:l}=t;return x(this,tu,wg).call(this,`${e}_${s}_${r}_${l}`,t)}async getFromUrl(t){return x(this,tu,wg).call(this,t,t)}async getFromBlob(t,e){const s=await e;return x(this,tu,wg).call(this,t,s)}async getFromId(t){h(this,kn)||E(this,kn,new Map);const e=h(this,kn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,kn)||E(this,kn,new Map);let s=h(this,kn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,Jc)}_${Gn(this,Od)._++}`,refCounter:1,isSvg:!1},h(this,kn).set(t,s),h(this,kn).set(s.id,s),s}getSvgUrl(t){const e=h(this,kn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,kn)||E(this,kn,new Map);const e=h(this,kn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,Jc)}_`)}};Jc=new WeakMap,Od=new WeakMap,kn=new WeakMap,tu=new WeakSet,wg=async function(t,e){h(this,kn)||E(this,kn,new Map);let s=h(this,kn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,Jc)}_${Gn(this,Od)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Nm(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=dA._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((p,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,p()},u.onload=async()=>{const v=s.svgUrl=u.result;d.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=u.onerror=m});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,kn).set(t,s),s&&h(this,kn).set(s.id,s),s};let Tb=dA;var dn,Hr,Dd,fn;class CO{constructor(t=128){R(this,dn,[]);R(this,Hr,!1);R(this,Dd);R(this,fn,-1);E(this,Dd,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&t(),h(this,Hr))return;const f={cmd:t,undo:e,post:s,type:l};if(h(this,fn)===-1){h(this,dn).length>0&&(h(this,dn).length=0),E(this,fn,0),h(this,dn).push(f);return}if(u&&h(this,dn)[h(this,fn)].type===l){d&&(f.undo=h(this,dn)[h(this,fn)].undo),h(this,dn)[h(this,fn)]=f;return}const p=h(this,fn)+1;p===h(this,Dd)?h(this,dn).splice(0,1):(E(this,fn,p),p<h(this,dn).length&&h(this,dn).splice(p)),h(this,dn).push(f)}undo(){if(h(this,fn)===-1)return;E(this,Hr,!0);const{undo:t,post:e}=h(this,dn)[h(this,fn)];t(),e==null||e(),E(this,Hr,!1),E(this,fn,h(this,fn)-1)}redo(){if(h(this,fn)<h(this,dn).length-1){E(this,fn,h(this,fn)+1),E(this,Hr,!0);const{cmd:t,post:e}=h(this,dn)[h(this,fn)];t(),e==null||e(),E(this,Hr,!1)}}hasSomethingToUndo(){return h(this,fn)!==-1}hasSomethingToRedo(){return h(this,fn)<h(this,dn).length-1}destroy(){E(this,dn,null)}}dn=new WeakMap,Hr=new WeakMap,Dd=new WeakMap,fn=new WeakMap;var om,Xx;class Qf{constructor(t){R(this,om);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Yn.platform;for(const[s,r,l={}]of t)for(const u of s){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(x(this,om,Xx).call(this,e));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:u=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...u,e)(),l||(e.stopPropagation(),e.preventDefault()))}}om=new WeakSet,Xx=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const cm=class cm{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return EO(t),Yt(this,"_colors",t)}convert(t){const e=iA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((l,u)=>l===e[u]))return cm._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?vt.makeHexColor(...e):t}};Rt(cm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Cb=cm;var eu,bi,tn,Sn,nu,Ma,iu,us,Ir,su,Ql,Ns,hs,Zl,kd,Nd,au,Pd,Ps,Br,ru,Ur,js,um,Gr,jd,qr,Jl,Fd,zd,pn,re,La,to,Hd,Id,Vr,Fs,Oa,Bd,$i,ot,Eg,Rb,Yx,$x,_g,Wx,Kx,Qx,Mb,Zx,Lb,Ob,Jx,qn,Pr,t1,e1,Db,n1,rd,kb;const Yc=class Yc{constructor(t,e,s,r,l,u,d,f,p,m,v){R(this,ot);R(this,eu,new AbortController);R(this,bi,null);R(this,tn,new Map);R(this,Sn,new Map);R(this,nu,null);R(this,Ma,null);R(this,iu,null);R(this,us,new CO);R(this,Ir,null);R(this,su,0);R(this,Ql,new Set);R(this,Ns,null);R(this,hs,null);R(this,Zl,new Set);R(this,kd,!1);R(this,Nd,!1);R(this,au,!1);R(this,Pd,null);R(this,Ps,null);R(this,Br,null);R(this,ru,null);R(this,Ur,!1);R(this,js,null);R(this,um,new TO);R(this,Gr,!1);R(this,jd,!1);R(this,qr,null);R(this,Jl,null);R(this,Fd,null);R(this,zd,null);R(this,pn,Nt.NONE);R(this,re,new Set);R(this,La,null);R(this,to,null);R(this,Hd,null);R(this,Id,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,Vr,[0,0]);R(this,Fs,null);R(this,Oa,null);R(this,Bd,null);R(this,$i,null);const b=this._signal=h(this,eu).signal;E(this,Oa,t),E(this,Bd,e),E(this,nu,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),x(this,ot,Wx).call(this),x(this,ot,Jx).call(this),x(this,ot,Mb).call(this),E(this,Ma,l.annotationStorage),E(this,Pd,l.filterFactory),E(this,to,u),E(this,ru,d||null),E(this,kd,f),E(this,Nd,p),E(this,au,m),E(this,zd,v||null),this.viewParameters={realScale:fl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Yc.prototype,e=u=>h(u,Oa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Qf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Oa).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Oa).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,$i))==null||t.resolve(),E(this,$i,null),(e=h(this,eu))==null||e.abort(),E(this,eu,null),this._signal=null;for(const l of h(this,Sn).values())l.destroy();h(this,Sn).clear(),h(this,tn).clear(),h(this,Zl).clear(),E(this,bi,null),h(this,re).clear(),h(this,us).destroy(),(s=h(this,nu))==null||s.destroy(),(r=h(this,js))==null||r.hide(),E(this,js,null),h(this,Ps)&&(clearTimeout(h(this,Ps)),E(this,Ps,null)),h(this,Fs)&&(clearTimeout(h(this,Fs)),E(this,Fs,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,zd)}get useNewAltTextFlow(){return h(this,Nd)}get useNewAltTextWhenAddingImage(){return h(this,au)}get hcmFilter(){return Yt(this,"hcmFilter",h(this,to)?h(this,Pd).addHCMFilter(h(this,to).foreground,h(this,to).background):"none")}get direction(){return Yt(this,"direction",getComputedStyle(h(this,Oa)).direction)}get highlightColors(){return Yt(this,"highlightColors",h(this,ru)?new Map(h(this,ru).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Yt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Fd,t)}editAltText(t,e=!1){var s;(s=h(this,nu))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,au,e);break}}onPageChanging({pageNumber:t}){E(this,su,t-1)}focusMainContainer(){h(this,Oa).focus()}findParent(t,e){for(const s of h(this,Sn).values()){const{x:r,y:l,width:u,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=l&&e<=l+d)return s}return null}disableUserSelect(t=!1){h(this,Bd).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Zl).add(t)}removeShouldRescale(t){h(this,Zl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*fl.PDF_TO_CSS_UNITS;for(const e of h(this,Zl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u}=e,d=e.toString(),p=x(this,ot,Eg).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const v=x(this,ot,Rb).call(this,p),b=h(this,pn)===Nt.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u,text:d}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Nt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ma)&&!h(this,Ma).has(t.id)&&h(this,Ma).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Ur)&&(E(this,Ur,!1),x(this,ot,_g).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,re))if(e.div.contains(t)){E(this,Jl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,Jl))return;const[t,e]=h(this,Jl);E(this,Jl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){x(this,ot,Mb).call(this),x(this,ot,Lb).call(this)}removeEditListeners(){x(this,ot,Zx).call(this),x(this,ot,Ob).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,hs))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,hs))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,bi))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,re)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of h(this,hs))if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ft(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const p=await r.deserialize(f);if(!p)return;l.push(p)}const u=()=>{for(const f of l)x(this,ot,Db).call(this,f);x(this,ot,kb).call(this,l)},d=()=>{for(const f of l)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(l){Ft(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,pn)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Yc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Ur)&&(E(this,Ur,!1),x(this,ot,_g).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(x(this,ot,Kx).call(this),x(this,ot,Lb).call(this),x(this,ot,qn).call(this,{isEditing:h(this,pn)!==Nt.NONE,isEmpty:x(this,ot,rd).call(this),hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:h(this,us).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,ot,Qx).call(this),x(this,ot,Ob).call(this),x(this,ot,qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,hs)){E(this,hs,t);for(const e of h(this,hs))x(this,ot,Pr).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,um).id}get currentLayer(){return h(this,Sn).get(h(this,su))}getLayer(t){return h(this,Sn).get(t)}get currentPageIndex(){return h(this,su)}addLayer(t){h(this,Sn).set(t.pageIndex,t),h(this,Gr)?t.enable():t.disable()}removeLayer(t){h(this,Sn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,pn)!==t&&!(h(this,$i)&&(await h(this,$i).promise,!h(this,$i)))){if(E(this,$i,Promise.withResolvers()),E(this,pn,t),t===Nt.NONE){this.setEditingState(!1),x(this,ot,e1).call(this),h(this,$i).resolve();return}this.setEditingState(!0),await x(this,ot,t1).call(this),this.unselectAll();for(const r of h(this,Sn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,$i).resolve();return}for(const r of h(this,tn).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,$i).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,hs)){switch(t){case Mt.CREATE:this.currentLayer.addNewEditor();return;case Mt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Fd))==null||s.updateColor(e);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Hd)||E(this,Hd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,re))r.updateParams(t,e);for(const r of h(this,hs))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const u of h(this,tn).values())u.editorType===t&&u.show(e);(((l=h(this,Hd))==null?void 0:l.get(Mt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&x(this,ot,Pr).call(this,[[Mt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,jd)!==t){E(this,jd,t);for(const e of h(this,Sn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,tn).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,tn).get(t)}addEditor(t){h(this,tn).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,Ps)&&clearTimeout(h(this,Ps)),E(this,Ps,setTimeout(()=>{this.focusMainContainer(),E(this,Ps,null)},0))),h(this,tn).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Ql).has(t.annotationElementId))&&((e=h(this,Ma))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Ql).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Ql).has(t)}removeDeletedAnnotationElement(t){h(this,Ql).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,bi)!==t&&(E(this,bi,t),t&&x(this,ot,Pr).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ot,n1)===t&&x(this,ot,Pr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,re).has(t)){h(this,re).delete(t),t.unselect(),x(this,ot,qn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,re).add(t),t.select(),x(this,ot,Pr).call(this,t.propertiesToUpdate),x(this,ot,qn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,re))e!==t&&e.unselect();h(this,re).clear(),h(this,re).add(t),t.select(),x(this,ot,Pr).call(this,t.propertiesToUpdate),x(this,ot,qn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,re).has(t)}get firstSelectedEditor(){return h(this,re).values().next().value}unselect(t){t.unselect(),h(this,re).delete(t),x(this,ot,qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,re).size!==0}get isEnterHandled(){return h(this,re).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,us).undo(),x(this,ot,qn).call(this,{hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,ot,rd).call(this)})}redo(){h(this,us).redo(),x(this,ot,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,us).hasSomethingToRedo(),isEmpty:x(this,ot,rd).call(this)})}addCommands(t){h(this,us).add(t),x(this,ot,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,ot,rd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,re)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)x(this,ot,Db).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,bi))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,bi)||this.hasSelection}selectAll(){for(const t of h(this,re))t.commit();x(this,ot,kb).call(this,h(this,tn).values())}unselectAll(){if(!(h(this,bi)&&(h(this,bi).commitOrRemove(),h(this,pn)!==Nt.NONE))&&this.hasSelection){for(const t of h(this,re))t.unselect();h(this,re).clear(),x(this,ot,qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,Vr)[0]+=t,h(this,Vr)[1]+=e;const[r,l]=h(this,Vr),u=[...h(this,re)],d=1e3;h(this,Fs)&&clearTimeout(h(this,Fs)),E(this,Fs,setTimeout(()=>{E(this,Fs,null),h(this,Vr)[0]=h(this,Vr)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,tn).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of u)h(this,tn).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,Ns,new Map);for(const t of h(this,re))h(this,Ns).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Ns))return!1;this.disableUserSelect(!1);const t=h(this,Ns);E(this,Ns,null);let e=!1;for(const[{x:r,y:l,pageIndex:u},d]of t)d.newX=r,d.newY=l,d.newPageIndex=u,e||(e=r!==d.savedX||l!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const s=(r,l,u,d)=>{if(h(this,tn).has(r.id)){const f=h(this,Sn).get(d);f?r._setParentAndPosition(f,l,u):(r.pageIndex=d,r.x=l,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:u,newPageIndex:d}]of t)s(r,l,u,d)},undo:()=>{for(const[r,{savedX:l,savedY:u,savedPageIndex:d}]of t)s(r,l,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,Ns))for(const s of h(this,Ns).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,re).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,bi)===t}getActive(){return h(this,bi)}getMode(){return h(this,pn)}get imageManager(){return Yt(this,"imageManager",new Tb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(p,m,v,b)=>({x:(m-r)/u,y:1-(p+v-s)/l,width:b/u,height:v/l});break;case"180":d=(p,m,v,b)=>({x:1-(p+v-s)/l,y:1-(m+b-r)/u,width:v/l,height:b/u});break;case"270":d=(p,m,v,b)=>({x:1-(m+b-r)/u,y:(p-s)/l,width:b/u,height:v/l});break;default:d=(p,m,v,b)=>({x:(p-s)/l,y:(m-r)/u,width:v/l,height:b/u});break}const f=[];for(let p=0,m=e.rangeCount;p<m;p++){const v=e.getRangeAt(p);if(!v.collapsed)for(const{x:b,y:A,width:S,height:_}of v.getClientRects())S===0||_===0||f.push(d(b,A,S,_))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,iu)||E(this,iu,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,iu))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,iu))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,Ma).getRawValue(e);s&&(h(this,pn)===Nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};eu=new WeakMap,bi=new WeakMap,tn=new WeakMap,Sn=new WeakMap,nu=new WeakMap,Ma=new WeakMap,iu=new WeakMap,us=new WeakMap,Ir=new WeakMap,su=new WeakMap,Ql=new WeakMap,Ns=new WeakMap,hs=new WeakMap,Zl=new WeakMap,kd=new WeakMap,Nd=new WeakMap,au=new WeakMap,Pd=new WeakMap,Ps=new WeakMap,Br=new WeakMap,ru=new WeakMap,Ur=new WeakMap,js=new WeakMap,um=new WeakMap,Gr=new WeakMap,jd=new WeakMap,qr=new WeakMap,Jl=new WeakMap,Fd=new WeakMap,zd=new WeakMap,pn=new WeakMap,re=new WeakMap,La=new WeakMap,to=new WeakMap,Hd=new WeakMap,Id=new WeakMap,Vr=new WeakMap,Fs=new WeakMap,Oa=new WeakMap,Bd=new WeakMap,$i=new WeakMap,ot=new WeakSet,Eg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Rb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,Sn).values())if(s.hasTextLayer(t))return s;return null},Yx=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=x(this,ot,Eg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,js)||E(this,js,new _O(this)),h(this,js).show(s,r,this.direction==="ltr"))},$x=function(){var l,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,La)&&((l=h(this,js))==null||l.hide(),E(this,La,null),x(this,ot,qn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,La))return;const r=x(this,ot,Eg).call(this,t).closest(".textLayer");if(!r){h(this,La)&&((u=h(this,js))==null||u.hide(),E(this,La,null),x(this,ot,qn).call(this,{hasSelectedText:!1}));return}if((d=h(this,js))==null||d.hide(),E(this,La,e),x(this,ot,qn).call(this,{hasSelectedText:!0}),!(h(this,pn)!==Nt.HIGHLIGHT&&h(this,pn)!==Nt.NONE)&&(h(this,pn)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Ur,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,pn)===Nt.HIGHLIGHT?x(this,ot,Rb).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),v=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&x(this,ot,_g).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},_g=function(t=""){h(this,pn)===Nt.HIGHLIGHT?this.highlightSelection(t):h(this,kd)&&x(this,ot,Yx).call(this)},Wx=function(){document.addEventListener("selectionchange",x(this,ot,$x).bind(this),{signal:this._signal})},Kx=function(){if(h(this,Br))return;E(this,Br,new AbortController);const t=this.combinedSignal(h(this,Br));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Qx=function(){var t;(t=h(this,Br))==null||t.abort(),E(this,Br,null)},Mb=function(){if(h(this,qr))return;E(this,qr,new AbortController);const t=this.combinedSignal(h(this,qr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Zx=function(){var t;(t=h(this,qr))==null||t.abort(),E(this,qr,null)},Lb=function(){if(h(this,Ir))return;E(this,Ir,new AbortController);const t=this.combinedSignal(h(this,Ir));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Ob=function(){var t;(t=h(this,Ir))==null||t.abort(),E(this,Ir,null)},Jx=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},qn=function(t){Object.entries(t).some(([s,r])=>h(this,Id)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Id),t)}),h(this,pn)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&x(this,ot,Pr).call(this,[[Mt.HIGHLIGHT_FREE,!0]]))},Pr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},t1=async function(){if(!h(this,Gr)){E(this,Gr,!0);const t=[];for(const e of h(this,Sn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,tn).values())e.enable()}},e1=function(){if(this.unselectAll(),h(this,Gr)){E(this,Gr,!1);for(const t of h(this,Sn).values())t.disable();for(const t of h(this,tn).values())t.disable()}},Db=function(t){const e=h(this,Sn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},n1=function(){let t=null;for(t of h(this,re));return t},rd=function(){if(h(this,tn).size===0)return!0;if(h(this,tn).size===1)for(const t of h(this,tn).values())return t.isEmpty();return!1},kb=function(t){for(const e of h(this,re))e.unselect();h(this,re).clear();for(const e of t)e.isEmpty()||(h(this,re).add(e),e.select());x(this,ot,qn).call(this,{hasSelectedEditor:this.hasSelection})},Rt(Yc,"TRANSLATE_SMALL",1),Rt(Yc,"TRANSLATE_BIG",10);let $o=Yc;var gn,zs,ds,lu,Hs,Ai,ou,Is,ii,Da,eo,Bs,Xr,ws,ld,xg;const Vn=class Vn{constructor(t){R(this,ws);R(this,gn,null);R(this,zs,!1);R(this,ds,null);R(this,lu,null);R(this,Hs,null);R(this,Ai,null);R(this,ou,!1);R(this,Is,null);R(this,ii,null);R(this,Da,null);R(this,eo,null);R(this,Bs,!1);E(this,ii,t),E(this,Bs,t._uiManager.useNewAltTextFlow),h(Vn,Xr)||E(Vn,Xr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Vn._l10n??(Vn._l10n=t)}async render(){const t=E(this,ds,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,lu,document.createElement("span"));t.append(e),h(this,Bs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Vn,Xr).missing),e.setAttribute("data-l10n-id",h(Vn,Xr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,ii)._uiManager._signal;t.addEventListener("contextmenu",ns,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),h(this,ii)._uiManager.editAltText(h(this,ii)),h(this,Bs)&&h(this,ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,ws,ld)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(E(this,ou,!0),r(l))},{signal:s}),await x(this,ws,xg).call(this),t}finish(){h(this,ds)&&(h(this,ds).focus({focusVisible:h(this,ou)}),E(this,ou,!1))}isEmpty(){return h(this,Bs)?h(this,gn)===null:!h(this,gn)&&!h(this,zs)}hasData(){return h(this,Bs)?h(this,gn)!==null||!!h(this,Da):this.isEmpty()}get guessedText(){return h(this,Da)}async setGuessedText(t){h(this,gn)===null&&(E(this,Da,t),E(this,eo,await Vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),x(this,ws,xg).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,Bs)||h(this,gn)){(e=h(this,Is))==null||e.remove(),E(this,Is,null);return}if(!h(this,Is)){const s=E(this,Is,document.createElement("div"));s.className="noAltTextBadge",h(this,ii).div.append(s)}h(this,Is).classList.toggle("hidden",!t)}serialize(t){let e=h(this,gn);return!t&&h(this,Da)===e&&(e=h(this,eo)),{altText:e,decorative:h(this,zs),guessedText:h(this,Da),textWithDisclaimer:h(this,eo)}}get data(){return{altText:h(this,gn),decorative:h(this,zs)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(E(this,Da,s),E(this,eo,r)),!(h(this,gn)===t&&h(this,zs)===e)&&(l||(E(this,gn,t),E(this,zs,e)),x(this,ws,xg).call(this))}toggle(t=!1){h(this,ds)&&(!t&&h(this,Ai)&&(clearTimeout(h(this,Ai)),E(this,Ai,null)),h(this,ds).disabled=!t)}shown(){h(this,ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,ws,ld)}})}destroy(){var t,e;(t=h(this,ds))==null||t.remove(),E(this,ds,null),E(this,lu,null),E(this,Hs,null),(e=h(this,Is))==null||e.remove(),E(this,Is,null)}};gn=new WeakMap,zs=new WeakMap,ds=new WeakMap,lu=new WeakMap,Hs=new WeakMap,Ai=new WeakMap,ou=new WeakMap,Is=new WeakMap,ii=new WeakMap,Da=new WeakMap,eo=new WeakMap,Bs=new WeakMap,Xr=new WeakMap,ws=new WeakSet,ld=function(){return h(this,gn)&&"added"||h(this,gn)===null&&this.guessedText&&"review"||"missing"},xg=async function(){var r,l,u;const t=h(this,ds);if(!t)return;if(h(this,Bs)){if(t.classList.toggle("done",!!h(this,gn)),t.setAttribute("data-l10n-id",h(Vn,Xr)[h(this,ws,ld)]),(r=h(this,lu))==null||r.setAttribute("data-l10n-id",h(Vn,Xr)[`${h(this,ws,ld)}-label`]),!h(this,gn)){(l=h(this,Hs))==null||l.remove();return}}else{if(!h(this,gn)&&!h(this,zs)){t.classList.remove("done"),(u=h(this,Hs))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,Hs);if(!e){E(this,Hs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,ii).id}`;const d=100,f=h(this,ii)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,Ai)),E(this,Ai,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Ai,setTimeout(()=>{E(this,Ai,null),h(this,Hs).classList.add("show"),h(this,ii)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;h(this,Ai)&&(clearTimeout(h(this,Ai)),E(this,Ai,null)),(p=h(this,Hs))==null||p.classList.remove("show")},{signal:f})}h(this,zs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,gn)),e.parentNode||t.append(e);const s=h(this,ii).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},R(Vn,Xr,null),Rt(Vn,"_l10n",null);let nm=Vn;var no,fs,Ce,cu,io,wn,so,Yr,Ud,ao,$r,Gd,ro,ka,Us,uu,hu,Wi,qd,hm,Pt,Nb,Vd,Pb,jb,i1,s1,Fb,zb,Hb,a1,Ib,r1,l1,o1,Bb,od;const ne=class ne{constructor(t){R(this,Pt);R(this,no,null);R(this,fs,null);R(this,Ce,null);R(this,cu,!1);R(this,io,!1);R(this,wn,null);R(this,so,null);R(this,Yr,null);R(this,Ud,"");R(this,ao,!1);R(this,$r,null);R(this,Gd,!1);R(this,ro,!1);R(this,ka,!1);R(this,Us,null);R(this,uu,0);R(this,hu,0);R(this,Wi,null);Rt(this,"_editToolbar",null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_initialData",null);Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);R(this,qd,!1);R(this,hm,ne._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ne.prototype._resizeWithKeyboard,e=$o.TRANSLATE_SMALL,s=$o.TRANSLATE_BIG;return Yt(this,"_resizerKeyboardManager",new Qf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Yt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new RO({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ne._l10n??(ne._l10n=t),ne._l10nResizer||(ne._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ne._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ne._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Se("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,qd)}set _isDraggable(t){var e;E(this,qd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,hm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):x(this,Pt,od).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,ao)?E(this,ao,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[l,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){x(this,Pt,Nb).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,$r)||E(this,$r,[this.x,this.y]),x(this,Pt,Nb).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,$r)||E(this,$r,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,$r)&&(h(this,$r)[0]!==this.x||h(this,$r)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=ne,r=s/t,l=s/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:l,width:u,height:d}=this;if(u*=e,d*=s,r*=e,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),l=Math.max(0,Math.min(s-d,l));break;case 90:r=Math.max(0,Math.min(e-d,r)),l=Math.min(s,Math.max(u,l));break;case 180:r=Math.min(e,Math.max(u,r)),l=Math.min(s,Math.max(d,l));break;case 270:r=Math.min(e,Math.max(d,r)),l=Math.max(0,Math.min(s-u,l));break}this.x=r/=e,this.y=l/=s;const[f,p]=this.getBaseTranslation();r+=f,l+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return x(s=ne,Vd,Pb).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return x(s=ne,Vd,Pb).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,io)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),l=!h(this,io)&&e.endsWith("%");if(r&&l)return;const[u,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!h(this,io)&&!l&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,Ce))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,ro)?this._editToolbar:(this._editToolbar=new _b(this),this.div.append(this._editToolbar.render()),h(this,Ce)&&await this._editToolbar.addAltText(h(this,Ce)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,Ce))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,Ce)||(nm.initialize(ne._l10n),E(this,Ce,new nm(this)),h(this,no)&&(h(this,Ce).data=h(this,no),E(this,no,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,Ce))==null?void 0:t.data}set altTextData(t){h(this,Ce)&&(h(this,Ce).data=t)}get guessedAltText(){var t;return(t=h(this,Ce))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,Ce))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,Ce))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,Ce)&&!h(this,Ce).isEmpty()}hasAltTextData(){var t;return((t=h(this,Ce))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,cu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,Pt,Ib).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),em(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,ao,!0),this._isDraggable){x(this,Pt,a1).call(this,t);return}x(this,Pt,Hb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,Us)&&clearTimeout(h(this,Us)),E(this,Us,setTimeout(()=>{var t;E(this,Us,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[l,u]=this.pageDimensions,[d,f]=this.pageTranslation,p=t/r,m=e/r,v=this.x*l,b=this.y*u,A=this.width*l,S=this.height*u;switch(s){case 0:return[v+p+d,u-b-m-S+f,v+p+A+d,u-b-m+f];case 90:return[v+m+d,u-b+p+f,v+m+S+d,u-b+p+A+f];case 180:return[v-p-A+d,u-b+m+f,v-p+d,u-b+m+S+f];case 270:return[v-m-S+d,u-b-p-A+f,v-m+d,u-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,l,u]=t,d=l-s,f=u-r;switch(this.rotation){case 0:return[s,e-u,d,f];case 90:return[s,e-r,f,d];case 180:return[l,e-r,d,f];case 270:return[l,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,ro,!0)}disableEditMode(){E(this,ro,!1)}isInEditMode(){return h(this,ro)}shouldGetKeyboardEvents(){return h(this,ka)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,Pt,Ib).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Se("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,E(r,no,t.accessibilityData);const[l,u]=r.pageDimensions,[d,f,p,m]=r.getRectInCurrentCoords(t.rect,u);return r.x=d/l,r.y=f/u,r.width=p/l,r.height=m/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,Yr))==null||t.abort(),E(this,Yr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,Us)&&(clearTimeout(h(this,Us)),E(this,Us,null)),x(this,Pt,od).call(this),this.removeEditToolbar(),h(this,Wi)){for(const e of h(this,Wi).values())clearTimeout(e);E(this,Wi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Pt,i1).call(this),h(this,wn).classList.remove("hidden"),em(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,so,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,wn).children;if(!h(this,fs)){E(this,fs,Array.from(e));const u=x(this,Pt,r1).bind(this),d=x(this,Pt,l1).bind(this),f=this._uiManager._signal;for(const p of h(this,fs)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",d,{signal:f}),p.addEventListener("focus",x(this,Pt,o1).bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",ne._l10nResizer[m])}}const s=h(this,fs)[0];let r=0;for(const u of e){if(u===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(h(this,fs).length/4);if(l!==r){if(l<r)for(let d=0;d<r-l;d++)h(this,wn).append(h(this,wn).firstChild);else if(l>r)for(let d=0;d<l-r;d++)h(this,wn).firstChild.before(h(this,wn).lastChild);let u=0;for(const d of e){const p=h(this,fs)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",ne._l10nResizer[p])}}x(this,Pt,Bb).call(this,0),E(this,ka,!0),h(this,wn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,ka)&&x(this,Pt,zb).call(this,h(this,Ud),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){x(this,Pt,od).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,Ce))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,l;(t=h(this,wn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=h(this,Ce))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Gd)}set isEditing(t){E(this,Gd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,io,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,Wi)||E(this,Wi,new Map);const{action:s}=t;let r=h(this,Wi).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,Wi).delete(s),h(this,Wi).size===0&&E(this,Wi,null)},ne._telemetryTimeout),h(this,Wi).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,cu,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,cu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};no=new WeakMap,fs=new WeakMap,Ce=new WeakMap,cu=new WeakMap,io=new WeakMap,wn=new WeakMap,so=new WeakMap,Yr=new WeakMap,Ud=new WeakMap,ao=new WeakMap,$r=new WeakMap,Gd=new WeakMap,ro=new WeakMap,ka=new WeakMap,Us=new WeakMap,uu=new WeakMap,hu=new WeakMap,Wi=new WeakMap,qd=new WeakMap,hm=new WeakMap,Pt=new WeakSet,Nb=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},Vd=new WeakSet,Pb=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},jb=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},i1=function(){if(h(this,wn))return;E(this,wn,document.createElement("div")),h(this,wn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,wn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",x(this,Pt,s1).bind(this,s),{signal:e}),r.addEventListener("contextmenu",ns,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,wn))},s1=function(t,e){var S;e.preventDefault();const{isMac:s}=Yn.platform;if(e.button!==0||e.ctrlKey&&s)return;(S=h(this,Ce))==null||S.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,Pt,zb).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",ns,{signal:u});const d=this.x,f=this.y,p=this.width,m=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var _;l.abort(),this.parent.togglePointerEvents(!0),(_=h(this,Ce))==null||_.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=b,x(this,Pt,Fb).call(this,d,f,p,m)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},Fb=function(t,e,s,r){const l=this.x,u=this.y,d=this.width,f=this.height;l===t&&u===e&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=l,this.y=u;const[p,m]=this.parentDimensions;this.setDims(p*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[p,m]=this.parentDimensions;this.setDims(p*s,m*r),this.fixAndSetPosition()},mustExec:!0})},zb=function(t,e){const[s,r]=this.parentDimensions,l=this.x,u=this.y,d=this.width,f=this.height,p=ne.MIN_SIZE/s,m=ne.MIN_SIZE/r,v=V=>Math.round(V*1e4)/1e4,b=x(this,Pt,jb).call(this,this.rotation),A=(V,K)=>[b[0]*V+b[2]*K,b[1]*V+b[3]*K],S=x(this,Pt,jb).call(this,360-this.rotation),_=(V,K)=>[S[0]*V+S[2]*K,S[1]*V+S[3]*K];let M,T,L=!1,k=!1;switch(t){case"topLeft":L=!0,M=(V,K)=>[0,0],T=(V,K)=>[V,K];break;case"topMiddle":M=(V,K)=>[V/2,0],T=(V,K)=>[V/2,K];break;case"topRight":L=!0,M=(V,K)=>[V,0],T=(V,K)=>[0,K];break;case"middleRight":k=!0,M=(V,K)=>[V,K/2],T=(V,K)=>[0,K/2];break;case"bottomRight":L=!0,M=(V,K)=>[V,K],T=(V,K)=>[0,0];break;case"bottomMiddle":M=(V,K)=>[V/2,K],T=(V,K)=>[V/2,0];break;case"bottomLeft":L=!0,M=(V,K)=>[0,K],T=(V,K)=>[V,0];break;case"middleLeft":k=!0,M=(V,K)=>[0,K/2],T=(V,K)=>[V,K/2];break}const j=M(d,f),F=T(d,f);let B=A(...F);const q=v(l+B[0]),W=v(u+B[1]);let tt=1,it=1,[st,ft]=this.screenToPageTranslation(e.movementX,e.movementY);if([st,ft]=_(st/s,ft/r),L){const V=Math.hypot(d,f);tt=it=Math.max(Math.min(Math.hypot(F[0]-j[0]-st,F[1]-j[1]-ft)/V,1/d,1/f),p/d,m/f)}else k?tt=Math.max(p,Math.min(1,Math.abs(F[0]-j[0]-st)))/d:it=Math.max(m,Math.min(1,Math.abs(F[1]-j[1]-ft)))/f;const pt=v(d*tt),rt=v(f*it);B=A(...T(pt,rt));const ct=q-B[0],H=W-B[1];this.width=pt,this.height=rt,this.x=ct,this.y=H,this.setDims(s*pt,r*rt),this.fixAndSetPosition()},Hb=function(t){const{isMac:e}=Yn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},a1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),E(this,uu,t.clientX),E(this,hu,t.clientY);const u=d=>{const{clientX:f,clientY:p}=d,[m,v]=this.screenToPageTranslation(f-h(this,uu),p-h(this,hu));E(this,uu,f),E(this,hu,p),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),e&&this.div.classList.remove("moving"),E(this,ao,!1),this._uiManager.endDragSession()||x(this,Pt,Hb).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},Ib=function(){if(h(this,Yr)||!this.div)return;E(this,Yr,new AbortController);const t=this._uiManager.combinedSignal(h(this,Yr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},r1=function(t){ne._resizerKeyboardManager.exec(this,t)},l1=function(t){var e;h(this,ka)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,wn)&&x(this,Pt,od).call(this)},o1=function(t){E(this,Ud,h(this,ka)?t:"")},Bb=function(t){if(h(this,fs))for(const e of h(this,fs))e.tabIndex=t},od=function(){if(E(this,ka,!1),x(this,Pt,Bb).call(this,-1),h(this,so)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,so);x(this,Pt,Fb).call(this,t,e,s,r),E(this,so,null)}},R(ne,Vd),Rt(ne,"_l10n",null),Rt(ne,"_l10nResizer",null),Rt(ne,"_borderLineWidth",-1),Rt(ne,"_colorManager",new Cb),Rt(ne,"_zIndex",1),Rt(ne,"_telemetryTimeout",1e3);let oe=ne;class RO extends oe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const O_=3285377520,Yi=4294901760,ks=65535;class c1{constructor(t){this.h1=t?t&4294967295:O_,this.h2=t?t&4294967295:O_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let _=0,M=t.length;_<M;_++){const T=t.charCodeAt(_);T<=255?e[s++]=T:(e[s++]=T>>>8,e[s++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,u=new Uint32Array(e.buffer,0,r);let d=0,f=0,p=this.h1,m=this.h2;const v=3432918353,b=461845907,A=v&ks,S=b&ks;for(let _=0;_<r;_++)_&1?(d=u[_],d=d*v&Yi|d*A&ks,d=d<<15|d>>>17,d=d*b&Yi|d*S&ks,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[_],f=f*v&Yi|f*A&ks,f=f<<15|f>>>17,f=f*b&Yi|f*S&ks,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*v&Yi|d*A&ks,d=d<<15|d>>>17,d=d*b&Yi|d*S&ks,r&1?p^=d:m^=d}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Yi|t*36045&ks,e=e*4283543511&Yi|((e<<16|t>>>16)*2950163797&Yi)>>>16,t^=e>>>1,t=t*444984403&Yi|t*60499&ks,e=e*3301882366&Yi|((e<<16|t>>>16)*3120437893&Yi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ub=Object.freeze({map:null,hash:"",transfer:void 0});var lo,oo,mn,dm,u1;class sA{constructor(){R(this,dm);R(this,lo,!1);R(this,oo,null);R(this,mn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,mn).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,mn).get(t)}remove(t){if(h(this,mn).delete(t),h(this,mn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,mn).values())if(e instanceof oe)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,mn).get(t);let r=!1;if(s!==void 0)for(const[l,u]of Object.entries(e))s[l]!==u&&(r=!0,s[l]=u);else r=!0,h(this,mn).set(t,e);r&&x(this,dm,u1).call(this),e instanceof oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,mn).has(t)}getAll(){return h(this,mn).size>0?Z0(h(this,mn)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,mn).size}resetModified(){h(this,lo)&&(E(this,lo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h1(this)}get serializable(){if(h(this,mn).size===0)return Ub;const t=new Map,e=new c1,s=[],r=Object.create(null);let l=!1;for(const[u,d]of h(this,mn)){const f=d instanceof oe?d.serialize(!1,r):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Ub}get editorStats(){let t=null;const e=new Map;for(const s of h(this,mn).values()){if(!(s instanceof oe))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[l]||(t[l]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){E(this,oo,null)}get modifiedIds(){if(h(this,oo))return h(this,oo);const t=[];for(const e of h(this,mn).values())!(e instanceof oe)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,oo,{ids:new Set(t),hash:t.join(",")})}}lo=new WeakMap,oo=new WeakMap,mn=new WeakMap,dm=new WeakSet,u1=function(){h(this,lo)||(E(this,lo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xd;class h1 extends sA{constructor(e){super();R(this,Xd);const{map:s,hash:r,transfer:l}=e.serializable,u=structuredClone(s,l?{transfer:l}:null);E(this,Xd,{map:u,hash:r,transfer:l})}get print(){Se("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Xd)}get modifiedIds(){return Yt(this,"modifiedIds",{ids:new Set,hash:""})}}Xd=new WeakMap;var du;class MO{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){R(this,du,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,du).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,du).has(t.loadedName))){if(sn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,u=new FontFace(s,r,l);this.addNativeFontFace(u);try{await u.load(),h(this,du).add(s),e==null||e(t)}catch{Ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Se("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ft(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Yt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(zn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Yt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(sn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(j,F){return j.charCodeAt(F)<<24|j.charCodeAt(F+1)<<16|j.charCodeAt(F+2)<<8|j.charCodeAt(F+3)&255}function r(j,F,B,q){const W=j.substring(0,F),tt=j.substring(F+B);return W+q+tt}let l,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let p=0;function m(j,F){if(++p>30){Ft("Load test font never loaded."),F();return}if(f.font="30px "+j,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,j,F))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,v.length,v);const S=16,_=1482184792;let M=s(b,S);for(l=0,u=v.length-3;l<u;l+=4)M=M-_+s(v,l)|0;l<v.length&&(M=M-_+s(v+"XXX",l)|0),b=r(b,S,4,fO(M));const T=`url(data:font/opentype;base64,${btoa(b)});`,L=`@font-face {font-family:"${v}";src:${T}}`;this.insertRule(L);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const j of[t.loadedName,v]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=j,k.append(F)}this._document.body.append(k),m(v,()=>{k.remove(),e.complete()})}}du=new WeakMap;class LO{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${bO(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(l){Ft(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(l,u){};const r=[];for(let l=0,u=s.length;l<u;)switch(s[l++]){case _a.BEZIER_CURVE_TO:{const[d,f,p,m,v,b]=s.slice(l,l+6);r.push(A=>A.bezierCurveTo(d,f,p,m,v,b)),l+=6}break;case _a.MOVE_TO:{const[d,f]=s.slice(l,l+2);r.push(p=>p.moveTo(d,f)),l+=2}break;case _a.LINE_TO:{const[d,f]=s.slice(l,l+2);r.push(p=>p.lineTo(d,f)),l+=2}break;case _a.QUADRATIC_CURVE_TO:{const[d,f,p,m]=s.slice(l,l+4);r.push(v=>v.quadraticCurveTo(d,f,p,m)),l+=4}break;case _a.RESTORE:r.push(d=>d.restore());break;case _a.SAVE:r.push(d=>d.save());break;case _a.SCALE:sn(r.length===2,"Scale command is only valid at the third position.");break;case _a.TRANSFORM:{const[d,f,p,m,v,b]=s.slice(l,l+6);r.push(A=>A.transform(d,f,p,m,v,b)),l+=6}break;case _a.TRANSLATE:{const[d,f]=s.slice(l,l+2);r.push(p=>p.translate(d,f)),l+=2}break}return this.compiledGlyphs[e]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,p=r.length;f<p;f++)r[f](u)}}}var Yd;class d1{constructor({enableHWA:t=!1}){R(this,Yd,!1);E(this,Yd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,Yd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Se("Abstract method `_createCanvas` called.")}}Yd=new WeakMap;class OO extends d1{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class f1{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Se("Abstract method `_fetch` called.")}}class p1 extends f1{async _fetch(t){const e=await Nm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):km(e)}}class g1{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,l){return"none"}destroy(t=!1){}}var co,uo,Gs,Na,Nn,fm,ho,dt,Dn,Hc,Ic,Tg,Bc,m1,Gb,Uc,cd,ud,qb,hd;class DO extends g1{constructor({docId:e,ownerDocument:s=globalThis.document}){super();R(this,dt);R(this,co);R(this,uo);R(this,Gs);R(this,Na);R(this,Nn);R(this,fm);R(this,ho,0);E(this,Na,e),E(this,Nn,s)}addFilter(e){if(!e)return"none";let s=h(this,dt,Dn).get(e);if(s)return s;const[r,l,u]=x(this,dt,Tg).call(this,e),d=e.length===1?r:`${r}${l}${u}`;if(s=h(this,dt,Dn).get(d),s)return h(this,dt,Dn).set(e,s),s;const f=`g_${h(this,Na)}_transfer_map_${Gn(this,ho)._++}`,p=x(this,dt,Bc).call(this,f);h(this,dt,Dn).set(e,p),h(this,dt,Dn).set(d,p);const m=x(this,dt,Uc).call(this,f);return x(this,dt,ud).call(this,r,l,u,m),p}addHCMFilter(e,s){var S;const r=`${e}-${s}`,l="base";let u=h(this,dt,Hc).get(l);if((u==null?void 0:u.key)===r||(u?((S=u.filter)==null||S.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},h(this,dt,Hc).set(l,u)),!e||!s))return u.url;const d=x(this,dt,hd).call(this,e);e=vt.makeHexColor(...d);const f=x(this,dt,hd).call(this,s);if(s=vt.makeHexColor(...f),h(this,dt,Ic).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const p=new Array(256);for(let _=0;_<=255;_++){const M=_/255;p[_]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),v=`g_${h(this,Na)}_hcm_filter`,b=u.filter=x(this,dt,Uc).call(this,v);x(this,dt,ud).call(this,m,m,m,b),x(this,dt,Gb).call(this,b);const A=(_,M)=>{const T=d[_]/255,L=f[_]/255,k=new Array(M+1);for(let j=0;j<=M;j++)k[j]=T+j/M*(L-T);return k.join(",")};return x(this,dt,ud).call(this,A(0,5),A(1,5),A(2,5),b),u.url=x(this,dt,Bc).call(this,v),u.url}addAlphaFilter(e){let s=h(this,dt,Dn).get(e);if(s)return s;const[r]=x(this,dt,Tg).call(this,[e]),l=`alpha_${r}`;if(s=h(this,dt,Dn).get(l),s)return h(this,dt,Dn).set(e,s),s;const u=`g_${h(this,Na)}_alpha_map_${Gn(this,ho)._++}`,d=x(this,dt,Bc).call(this,u);h(this,dt,Dn).set(e,d),h(this,dt,Dn).set(l,d);const f=x(this,dt,Uc).call(this,u);return x(this,dt,qb).call(this,r,f),d}addLuminosityFilter(e){let s=h(this,dt,Dn).get(e||"luminosity");if(s)return s;let r,l;if(e?([r]=x(this,dt,Tg).call(this,[e]),l=`luminosity_${r}`):l="luminosity",s=h(this,dt,Dn).get(l),s)return h(this,dt,Dn).set(e,s),s;const u=`g_${h(this,Na)}_luminosity_map_${Gn(this,ho)._++}`,d=x(this,dt,Bc).call(this,u);h(this,dt,Dn).set(e,d),h(this,dt,Dn).set(l,d);const f=x(this,dt,Uc).call(this,u);return x(this,dt,m1).call(this,f),e&&x(this,dt,qb).call(this,r,f),d}addHighlightHCMFilter(e,s,r,l,u){var L;const d=`${s}-${r}-${l}-${u}`;let f=h(this,dt,Hc).get(e);if((f==null?void 0:f.key)===d||(f?((L=f.filter)==null||L.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,dt,Hc).set(e,f)),!s||!r))return f.url;const[p,m]=[s,r].map(x(this,dt,hd).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[l,u].map(x(this,dt,hd).bind(this));b<v&&([v,b,A,S]=[b,v,S,A]),h(this,dt,Ic).style.color="";const _=(k,j,F)=>{const B=new Array(256),q=(b-v)/F,W=k/255,tt=(j-k)/(255*F);let it=0;for(let st=0;st<=F;st++){const ft=Math.round(v+st*q),pt=W+st*tt;for(let rt=it;rt<=ft;rt++)B[rt]=pt;it=ft+1}for(let st=it;st<256;st++)B[st]=B[it-1];return B.join(",")},M=`g_${h(this,Na)}_hcm_${e}_filter`,T=f.filter=x(this,dt,Uc).call(this,M);return x(this,dt,Gb).call(this,T),x(this,dt,ud).call(this,_(A[0],S[0],5),_(A[1],S[1],5),_(A[2],S[2],5),T),f.url=x(this,dt,Bc).call(this,M),f.url}destroy(e=!1){e&&h(this,dt,Hc).size!==0||(h(this,Gs)&&(h(this,Gs).parentNode.parentNode.remove(),E(this,Gs,null)),h(this,uo)&&(h(this,uo).clear(),E(this,uo,null)),E(this,ho,0))}}co=new WeakMap,uo=new WeakMap,Gs=new WeakMap,Na=new WeakMap,Nn=new WeakMap,fm=new WeakMap,ho=new WeakMap,dt=new WeakSet,Dn=function(){return h(this,uo)||E(this,uo,new Map)},Hc=function(){return h(this,fm)||E(this,fm,new Map)},Ic=function(){if(!h(this,Gs)){const e=h(this,Nn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,Nn).createElementNS(Ta,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,Gs,h(this,Nn).createElementNS(Ta,"defs")),e.append(r),r.append(h(this,Gs)),h(this,Nn).body.append(e)}return h(this,Gs)},Tg=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=p[b]/255;const v=m.join(",");return[v,v,v]}const[s,r,l]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=s[p]/255,d[p]=r[p]/255,f[p]=l[p]/255;return[u.join(","),d.join(","),f.join(",")]},Bc=function(e){if(h(this,co)===void 0){E(this,co,"");const s=h(this,Nn).URL;s!==h(this,Nn).baseURI&&(Pm(s)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,co,s.split("#",1)[0]))}return`url(${h(this,co)}#${e})`},m1=function(e){const s=h(this,Nn).createElementNS(Ta,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Gb=function(e){const s=h(this,Nn).createElementNS(Ta,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},Uc=function(e){const s=h(this,Nn).createElementNS(Ta,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,dt,Ic).append(s),s},cd=function(e,s,r){const l=h(this,Nn).createElementNS(Ta,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},ud=function(e,s,r,l){const u=h(this,Nn).createElementNS(Ta,"feComponentTransfer");l.append(u),x(this,dt,cd).call(this,u,"feFuncR",e),x(this,dt,cd).call(this,u,"feFuncG",s),x(this,dt,cd).call(this,u,"feFuncB",r)},qb=function(e,s){const r=h(this,Nn).createElementNS(Ta,"feComponentTransfer");s.append(r),x(this,dt,cd).call(this,r,"feFuncA",e)},hd=function(e){return h(this,dt,Ic).style.color=e,iA(getComputedStyle(h(this,dt,Ic)).getPropertyValue("color"))};class y1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Se("Abstract method `_fetch` called.")}}class v1 extends y1{async _fetch(t){const e=await Nm(t,"arraybuffer");return new Uint8Array(e)}}if(zn){var Vb=Promise.withResolvers(),wd=null;(async()=>{const t=await hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:l,path2d:u}))})().then(t=>{wd=t,Vb.resolve()},t=>{Ft(`loadPackages: ${t}`),wd=new Map,Vb.resolve()})}class pl{static get promise(){return Vb.promise}static get(t){return wd==null?void 0:wd.get(t)}}async function b1(o){const e=await pl.get("fs").promises.readFile(o);return new Uint8Array(e)}class kO extends g1{}class NO extends d1{_createCanvas(t,e){return pl.get("canvas").createCanvas(t,e)}}class PO extends f1{async _fetch(t){return b1(t)}}class jO extends y1{async _fetch(t){return b1(t)}}const Xn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Xb(o,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),o.clip(r)}class aA{getPattern(){Se("Abstract method `getPattern` called.")}}class FO extends aA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let l;if(r===Xn.STROKE||r===Xn.FILL){const u=e.current.getClippedPathBoundingBox(r,Me(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",d,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),s=vt.transform(s,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Xb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(s);l.setTransform(v)}else Xb(t,this._bbox),l=this._createGradient(t);return l}}function ob(o,t,e,s,r,l,u,d){const f=t.coords,p=t.colors,m=o.data,v=o.width*4;let b;f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=u,u=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=u,u=d,d=b),f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=u,u=b);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,_=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,T=(f[r]+t.offsetX)*t.scaleX,L=(f[r+1]+t.offsetY)*t.scaleY;if(S>=L)return;const k=p[l],j=p[l+1],F=p[l+2],B=p[u],q=p[u+1],W=p[u+2],tt=p[d],it=p[d+1],st=p[d+2],ft=Math.round(S),pt=Math.round(L);let rt,ct,H,V,K,yt,P,$;for(let nt=ft;nt<=pt;nt++){if(nt<M){const Tt=nt<S?0:(S-nt)/(S-M);rt=A-(A-_)*Tt,ct=k-(k-B)*Tt,H=j-(j-q)*Tt,V=F-(F-W)*Tt}else{let Tt;nt>L?Tt=1:M===L?Tt=0:Tt=(M-nt)/(M-L),rt=_-(_-T)*Tt,ct=B-(B-tt)*Tt,H=q-(q-it)*Tt,V=W-(W-st)*Tt}let et;nt<S?et=0:nt>L?et=1:et=(S-nt)/(S-L),K=A-(A-T)*et,yt=k-(k-tt)*et,P=j-(j-it)*et,$=F-(F-st)*et;const ht=Math.round(Math.min(rt,K)),xt=Math.round(Math.max(rt,K));let ut=v*nt+ht*4;for(let Tt=ht;Tt<=xt;Tt++)et=(rt-Tt)/(rt-K),et<0?et=0:et>1&&(et=1),m[ut++]=ct-(ct-yt)*et|0,m[ut++]=H-(H-P)*et|0,m[ut++]=V-(V-$)*et|0,m[ut++]=255}}function zO(o,t,e){const s=t.coords,r=t.colors;let l,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,p=d-1;for(l=0;l<f;l++){let m=l*d;for(let v=0;v<p;v++,m++)ob(o,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),ob(o,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(l=0,u=s.length;l<u;l+=3)ob(o,e,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class HO extends aA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=p/v,S=m/b,_={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/A,scaleY:1/S},M=v+2*2,T=b+2*2,L=s.getCanvas("mesh",M,T),k=L.context,j=k.createImageData(v,b);if(e){const B=j.data;for(let q=0,W=B.length;q<W;q+=4)B[q]=e[0],B[q+1]=e[1],B[q+2]=e[2],B[q+3]=255}for(const B of this._figures)zO(j,B,_);return k.putImageData(j,2,2),{canvas:L.canvas,offsetX:d-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,r){Xb(t,this._bbox);let l;if(r===Xn.SHADING)l=vt.singularValueDecompose2dScale(Me(t));else if(l=vt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=vt.singularValueDecompose2dScale(this.matrix);l=[l[0]*d[0],l[1]*d[1]]}const u=this._createMeshCanvas(l,r===Xn.SHADING?null:this._background,e.cachedCanvases);return r!==Xn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class IO extends aA{getPattern(){return"hotpink"}}function BO(o){switch(o[0]){case"RadialAxial":return new FO(o);case"Mesh":return new HO(o);case"Dummy":return new IO}throw new Error(`Unknown IR type: ${o[0]}`)}const D_={COLORED:1,UNCOLORED:2},pm=class pm{constructor(t,e,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Om("TilingType: "+l);const m=e[0],v=e[1],b=e[2],A=e[3],S=b-m,_=A-v,M=vt.singularValueDecompose2dScale(this.matrix),T=vt.singularValueDecompose2dScale(this.baseTransform),L=M[0]*T[0],k=M[1]*T[1];let j=S,F=_,B=!1,q=!1;const W=Math.ceil(f*L),tt=Math.ceil(p*k),it=Math.ceil(S*L),st=Math.ceil(_*k);W>=it?j=f:B=!0,tt>=st?F=p:q=!0;const ft=this.getSizeAndScale(j,this.ctx.canvas.width,L),pt=this.getSizeAndScale(F,this.ctx.canvas.height,k),rt=t.cachedCanvases.getCanvas("pattern",ft.size,pt.size),ct=rt.context,H=d.createCanvasGraphics(ct);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,r,u),ct.translate(-ft.scale*m,-pt.scale*v),H.transform(ft.scale,0,0,pt.scale,0,0),ct.save(),this.clipBbox(H,m,v,b,A),H.baseTransform=Me(H.ctx),H.executeOperatorList(s),H.endDrawing(),ct.restore(),B||q){const V=rt.canvas;B&&(j=f),q&&(F=p);const K=this.getSizeAndScale(j,this.ctx.canvas.width,L),yt=this.getSizeAndScale(F,this.ctx.canvas.height,k),P=K.size,$=yt.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",P,$),et=nt.context,ht=B?Math.floor(S/f):0,xt=q?Math.floor(_/p):0;for(let ut=0;ut<=ht;ut++)for(let Tt=0;Tt<=xt;Tt++)et.drawImage(V,P*ut,$*Tt,P,$,0,0,P,$);return{canvas:nt.canvas,scaleX:K.scale,scaleY:yt.scale,offsetX:m,offsetY:v}}return{canvas:rt.canvas,scaleX:ft.scale,scaleY:pt.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,s){const r=Math.max(pm.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,r,l){const u=r-e,d=l-s;t.ctx.rect(e,s,u,d),t.current.updateRectMinMax(Me(t.ctx),[e,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,l=t.current;switch(e){case D_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case D_.UNCOLORED:const d=vt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,l.fillColor=d,l.strokeColor=d;break;default:throw new dO(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let l=s;r!==Xn.SHADING&&(l=vt.transform(l,e.baseTransform),this.matrix&&(l=vt.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};Rt(pm,"MAX_PATTERN_SIZE",3e3);let Yb=pm;function UO({src:o,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const d=Yn.isLittleEndian?4278190080:255,[f,p]=u?[l,d]:[d,l],m=s>>3,v=s&7,b=o.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<r;S++){for(const M=t+m;t<M;t++){const T=t<b?o[t]:255;e[A++]=T&128?p:f,e[A++]=T&64?p:f,e[A++]=T&32?p:f,e[A++]=T&16?p:f,e[A++]=T&8?p:f,e[A++]=T&4?p:f,e[A++]=T&2?p:f,e[A++]=T&1?p:f}if(v===0)continue;const _=t<b?o[t++]:255;for(let M=0;M<v;M++)e[A++]=_&1<<7-M?p:f}return{srcPos:t,destPos:A}}const k_=16,N_=100,GO=15,P_=10,j_=1e3,ri=16;function qO(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},o.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},o.transform=function(s,r,l,u,d,f){t.transform(s,r,l,u,d,f),this.__originalTransform(s,r,l,u,d,f)},o.setTransform=function(s,r,l,u,d,f){t.setTransform(s,r,l,u,d,f),this.__originalSetTransform(s,r,l,u,d,f)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(s){t.rotate(s),this.__originalRotate(s)},o.clip=function(s){t.clip(s),this.__originalClip(s)},o.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},o.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},o.bezierCurveTo=function(e,s,r,l,u,d){t.bezierCurveTo(e,s,r,l,u,d),this.__originalBezierCurveTo(e,s,r,l,u,d)},o.rect=function(e,s,r,l){t.rect(e,s,r,l),this.__originalRect(e,s,r,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class VO{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function dg(o,t,e,s,r,l,u,d,f,p){const[m,v,b,A,S,_]=Me(o);if(v===0&&b===0){const L=u*m+S,k=Math.round(L),j=d*A+_,F=Math.round(j),B=(u+f)*m+S,q=Math.abs(Math.round(B)-k)||1,W=(d+p)*A+_,tt=Math.abs(Math.round(W)-F)||1;return o.setTransform(Math.sign(m),0,0,Math.sign(A),k,F),o.drawImage(t,e,s,r,l,0,0,q,tt),o.setTransform(m,v,b,A,S,_),[q,tt]}if(m===0&&A===0){const L=d*b+S,k=Math.round(L),j=u*v+_,F=Math.round(j),B=(d+p)*b+S,q=Math.abs(Math.round(B)-k)||1,W=(u+f)*v+_,tt=Math.abs(Math.round(W)-F)||1;return o.setTransform(0,Math.sign(v),Math.sign(b),0,k,F),o.drawImage(t,e,s,r,l,0,0,tt,q),o.setTransform(m,v,b,A,S,_),[tt,q]}o.drawImage(t,e,s,r,l,u,d,f,p);const M=Math.hypot(m,v),T=Math.hypot(b,A);return[M*f,T*p]}function XO(o){const{width:t,height:e}=o;if(t>j_||e>j_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let u=new Uint8Array(l*(e+1)),d,f,p;const m=t+7&-8;let v=new Uint8Array(m*e),b=0;for(const T of o.data){let L=128;for(;L>0;)v[b++]=T&L?0:255,L>>=1}let A=0;for(b=0,v[b]!==0&&(u[0]=1,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[f]=v[b]?2:1,++A),b++;for(v[b]!==0&&(u[f]=2,++A),d=1;d<e;d++){b=d*m,p=d*l,v[b-m]!==v[b]&&(u[p]=v[b]?1:8,++A);let T=(v[b]?4:0)+(v[b-m]?8:0);for(f=1;f<t;f++)T=(T>>2)+(v[b+1]?4:0)+(v[b-m+1]?8:0),r[T]&&(u[p+f]=r[T],++A),b++;if(v[b-m]!==v[b]&&(u[p+f]=v[b]?2:4,++A),A>s)return null}for(b=m*(e-1),p=d*l,v[b]!==0&&(u[p]=8,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[p+f]=v[b]?4:8,++A),b++;if(v[b]!==0&&(u[p+f]=4,++A),A>s)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=new Path2D;for(d=0;A&&d<=e;d++){let T=d*l;const L=T+t;for(;T<L&&!u[T];)T++;if(T===L)continue;_.moveTo(T%l,d);const k=T;let j=u[T];do{const F=S[j];do T+=F;while(!u[T]);const B=u[T];B!==5&&B!==10?(j=B,u[T]=0):(j=B&51*j>>4,u[T]&=j>>2|j<<2),_.lineTo(T%l,T/l|0),u[T]||--A}while(k!==T);--d}return v=null,u=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(_),T.beginPath(),T.restore()}}class F_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=jx,this.textMatrixScale=1,this.fontMatrix=bb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=On.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=vt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=vt.applyTransform(e,t),r=vt.applyTransform(e.slice(2),t),l=vt.applyTransform([e[0],e[3]],t),u=vt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],u[1])}updateScalingPathMinMax(t,e){vt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,l,u,d,f,p,m){const v=vt.bezierBoundingBox(e,s,r,l,u,d,f,p,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Xn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Xn.STROKE){e||Se("Stroke bounding box must include transform.");const r=vt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=u,s[2]+=l,s[3]+=u}return s}updateClipFromPath(){const t=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Xn.FILL,e=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function z_(o,t){if(typeof ImageData<"u"&&t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%ri,l=(e-r)/ri,u=r===0?l:l+1,d=o.createImageData(s,ri);let f=0,p;const m=t.data,v=d.data;let b,A,S,_;if(t.kind===bg.GRAYSCALE_1BPP){const M=m.byteLength,T=new Uint32Array(v.buffer,0,v.byteLength>>2),L=T.length,k=s+7>>3,j=4294967295,F=Yn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(S=b<l?ri:r,p=0,A=0;A<S;A++){const B=M-f;let q=0;const W=B>k?s:B*8-7,tt=W&-8;let it=0,st=0;for(;q<tt;q+=8)st=m[f++],T[p++]=st&128?j:F,T[p++]=st&64?j:F,T[p++]=st&32?j:F,T[p++]=st&16?j:F,T[p++]=st&8?j:F,T[p++]=st&4?j:F,T[p++]=st&2?j:F,T[p++]=st&1?j:F;for(;q<W;q++)it===0&&(st=m[f++],it=128),T[p++]=st&it?j:F,it>>=1}for(;p<L;)T[p++]=0;o.putImageData(d,0,b*ri)}}else if(t.kind===bg.RGBA_32BPP){for(A=0,_=s*ri*4,b=0;b<l;b++)v.set(m.subarray(f,f+_)),f+=_,o.putImageData(d,0,A),A+=ri;b<u&&(_=s*r*4,v.set(m.subarray(f,f+_)),o.putImageData(d,0,A))}else if(t.kind===bg.RGB_24BPP)for(S=ri,_=s*S,b=0;b<u;b++){for(b>=l&&(S=r,_=s*S),p=0,A=_;A--;)v[p++]=m[f++],v[p++]=m[f++],v[p++]=m[f++],v[p++]=255;o.putImageData(d,0,b*ri)}else throw new Error(`bad image kind: ${t.kind}`)}function H_(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%ri,l=(e-r)/ri,u=r===0?l:l+1,d=o.createImageData(s,ri);let f=0;const p=t.data,m=d.data;for(let v=0;v<u;v++){const b=v<l?ri:r;({srcPos:f}=UO({src:p,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),o.putImageData(d,0,v*ri)}}function id(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)o[s]!==void 0&&(t[s]=o[s]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function fg(o){if(o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0),!zn){const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}}function I_(o,t){if(t)return!0;const e=vt.singularValueDecompose2dScale(o);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*fl.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const YO=["butt","round","square"],$O=["miter","round","bevel"],WO={},B_={};var ml,$b,Wb;const fA=class fA{constructor(t,e,s,r,l,{optionalContentConfig:u,markedContentStack:d=null},f,p){R(this,ml);this.ctx=t,this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new VO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Me(this.compositeCtx))}this.ctx.save(),fg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Me(this.ctx)}executeOperatorList(t,e,s,r){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>P_&&typeof s=="function",m=p?Date.now()+GO:0;let v=0;const b=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(S=u[d],S!==os.dependency)this[S].apply(this,l[d]);else for(const _ of l[d]){const M=_.startsWith("g_")?b:A;if(!M.has(_))return M.get(_,s),d}if(d++,d===f)return d;if(p&&++v>P_){if(Date.now()>m)return s(),d;v=0}}}endDrawing(){x(this,ml,$b).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),x(this,ml,Wb).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=s,f=r,p="prescale1",m,v;for(;l>2&&d>1||u>2&&f>1;){let b=d,A=f;l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/b),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),m=this.cachedCanvases.getCanvas(p,b,A),v=m.context,v.clearRect(0,0,b,A),v.drawImage(t,0,0,d,f,0,0,b,A),t=m.canvas,d=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,u=this.current.patternFill,d=Me(e);let f,p,m,v;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const tt=f.get(p);if(tt&&!u){const it=Math.round(Math.min(d[0],d[2])+d[4]),st=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:tt,offsetX:it,offsetY:st}}m=tt}m||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),H_(v.context,t));let b=vt.transform(d,[1/s,0,0,-1/r,0,0]);b=vt.transform(b,[1,0,0,1,0,-r]);const[A,S,_,M]=vt.getAxialAlignedBoundingBox([0,0,s,r],b),T=Math.round(_-A)||1,L=Math.round(M-S)||1,k=this.cachedCanvases.getCanvas("fillCanvas",T,L),j=k.context,F=A,B=S;j.translate(-F,-B),j.transform(...b),m||(m=this._scaleImage(v.canvas,xa(j)),m=m.img,f&&u&&f.set(p,m)),j.imageSmoothingEnabled=I_(Me(j),t.interpolate),dg(j,m,0,0,m.width,m.height,0,0,s,r),j.globalCompositeOperation="source-in";const q=vt.transform(xa(j),[1,0,0,1,-F,-B]);return j.fillStyle=u?l.getPattern(e,this,q,Xn.FILL):l,j.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,k.canvas)),{canvas:k.canvas,offsetX:Math.round(F),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=YO[t]}setLineJoin(t){this.ctx.lineJoin=$O[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...Me(this.suspendedCtx)),id(this.suspendedCtx,l),qO(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const l=r[0],u=r[1],d=r[2]-l,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,s,d,f,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,l,u,d,f,p,m,v){let b=t.canvas,A=f-m,S=p-v;if(u){const M=vt.makeHexColor(...u);if(A<0||S<0||A+s>b.width||S+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),L=T.context;L.drawImage(b,-A,-S),L.globalCompositeOperation="destination-atop",L.fillStyle=M,L.fillRect(0,0,s,r),L.globalCompositeOperation="source-over",b=T.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,S,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,S,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const _=new Path2D;_.rect(f,p,s,r),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(b,A,S,s,r,f,p,s,r),e.restore()}save(){this.inSMaskMode?(id(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),id(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,l,u){this.ctx.transform(t,e,s,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,l=this.current;let u=l.x,d=l.y,f,p;const m=Me(r),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=v?s.slice(0):null;for(let A=0,S=0,_=t.length;A<_;A++)switch(t[A]|0){case os.rectangle:u=e[S++],d=e[S++];const M=e[S++],T=e[S++],L=u+M,k=d+T;r.moveTo(u,d),M===0||T===0?r.lineTo(L,k):(r.lineTo(L,d),r.lineTo(L,k),r.lineTo(u,k)),v||l.updateRectMinMax(m,[u,d,L,k]),r.closePath();break;case os.moveTo:u=e[S++],d=e[S++],r.moveTo(u,d),v||l.updatePathMinMax(m,u,d);break;case os.lineTo:u=e[S++],d=e[S++],r.lineTo(u,d),v||l.updatePathMinMax(m,u,d);break;case os.curveTo:f=u,p=d,u=e[S+4],d=e[S+5],r.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],u,d),l.updateCurvePathMinMax(m,f,p,e[S],e[S+1],e[S+2],e[S+3],u,d,b),S+=6;break;case os.curveTo2:f=u,p=d,r.bezierCurveTo(u,d,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(m,f,p,u,d,e[S],e[S+1],e[S+2],e[S+3],b),u=e[S+2],d=e[S+3],S+=4;break;case os.curveTo3:f=u,p=d,u=e[S+2],d=e[S+3],r.bezierCurveTo(e[S],e[S+1],u,d,u,d),l.updateCurvePathMinMax(m,f,p,e[S],e[S+1],u,d,u,d,b),S+=4;break;case os.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(m,b),l.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,xa(e),Xn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,xa(e),Xn.FILL),l=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=WO}eoClip(){this.pendingClip=B_}beginText(){this.current.textMatrix=jx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||bb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",u=((m=s.systemFontInfo)==null?void 0:m.css)||`"${l}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let p=e;e<k_?p=k_:e>N_&&(p=N_),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,l,u){this.current.textMatrix=[t,e,s,r,l,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&On.FILL_STROKE_MASK,v=!!(f&On.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile;let A;(d.disableFontFace||v||b)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b?(l.save(),l.translate(e,s),l.beginPath(),A(l,p),r&&l.setTransform(...r),(m===On.FILL||m===On.FILL_STROKE)&&l.fill(),(m===On.STROKE||m===On.FILL_STROKE)&&l.stroke(),l.restore()):((m===On.FILL||m===On.FILL_STROKE)&&l.fillText(t,e,s),(m===On.STROKE||m===On.FILL_STROKE)&&l.strokeText(t,e,s)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Me(l),x:e,y:s,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Yt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,v=t.length,b=s.vertical,A=b?1:-1,S=s.defaultVMetrics,_=r*e.fontMatrix[0],M=e.textRenderingMode===On.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(m,-1):l.scale(m,1);let T;if(e.patternFill){l.save();const B=e.fillColor.getPattern(l,this,xa(l),Xn.FILL);T=Me(l),l.restore(),l.fillStyle=B}let L=e.lineWidth;const k=e.textMatrixScale;if(k===0||L===0){const B=e.textRenderingMode&On.FILL_STROKE_MASK;(B===On.STROKE||B===On.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=k;if(u!==1&&(l.scale(u,u),L/=u),l.lineWidth=L,s.isInvalidPDFjsFont){const B=[];let q=0;for(const W of t)B.push(W.unicode),q+=W.width;l.fillText(B.join(""),0,0),e.x+=q*_*m,l.restore(),this.compose();return}let j=0,F;for(F=0;F<v;++F){const B=t[F];if(typeof B=="number"){j+=A*B*r/1e3;continue}let q=!1;const W=(B.isSpace?f:0)+d,tt=B.fontChar,it=B.accent;let st,ft,pt=B.width;if(b){const ct=B.vmetric||S,H=-(B.vmetric?ct[1]:pt*.5)*_,V=ct[2]*_;pt=ct?-ct[0]:pt,st=H/u,ft=(j+V)/u}else st=j/u,ft=0;if(s.remeasure&&pt>0){const ct=l.measureText(tt).width*1e3/r*u;if(pt<ct&&this.isFontSubpixelAAEnabled){const H=pt/ct;q=!0,l.save(),l.scale(H,1),st/=H}else pt!==ct&&(st+=(pt-ct)/2e3*r/u)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(M&&!it)l.fillText(tt,st,ft);else if(this.paintChar(tt,st,ft,T),it){const ct=st+r*it.offset.x/u,H=ft-r*it.offset.y/u;this.paintChar(it.fontChar,ct,H,T)}}const rt=b?pt*_-W*p:pt*_+W*p;j+=rt,q&&l.restore()}b?e.y-=j:e.x+=j*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,l=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,m=s.textHScale*u,v=s.fontMatrix||bb,b=t.length,A=s.textRenderingMode===On.INVISIBLE;let S,_,M,T;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,u),S=0;S<b;++S){if(_=t[S],typeof _=="number"){T=d*_*l/1e3,this.ctx.translate(T,0),s.x+=T*m;continue}const L=(_.isSpace?p:0)+f,k=r.charProcOperatorList[_.operatorListId];if(!k){Ft(`Type3 character "${_.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_,this.save(),e.scale(l,l),e.transform(...v),this.executeOperatorList(k),this.restore()),M=vt.applyTransform([_.width,0],v)[0]*l+L,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,l,u){this.ctx.rect(s,r,l-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||Me(this.ctx),l={createCanvasGraphics:u=>new fA(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Yb(t,s,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=vt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=vt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=BO(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,xa(e),Xn.SHADING);const r=xa(e);if(r){const{width:l,height:u}=e.canvas,[d,f,p,m]=vt.getAxialAlignedBoundingBox([0,0,l,u],r);this.ctx.fillRect(d,f,p-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Se("Should not call beginInlineImage")}beginImageData(){Se("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Me(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(Me(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Om("TODO: Support non-isolated groups."),t.knockout&&Ft("Knockout groups not supported.");const s=Me(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=vt.getAxialAlignedBoundingBox(t.bbox,Me(e));const l=[0,0,e.canvas.width,e.canvas.height];r=vt.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,p),b=v.context;b.translate(-u,-d),b.transform(...s),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),id(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Me(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=vt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,r,l){if(x(this,ml,$b).call(this),fg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,p]=vt.singularValueDecompose2dScale(Me(this.ctx)),{viewportScale:m}=this,v=Math.ceil(u*this.outputScaleX*m),b=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,d*p),fg(this.ctx)}else fg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,ml,Wb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=XO(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),u=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=Me(d);d.transform(e,s,r,l,0,0);const p=this._createMaskCanvas(t);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,v=u.length;m<v;m+=2){const b=vt.transform(f,[e,s,r,l,u[m],u[m+1]]),[A,S]=vt.applyTransform([0,0],b);d.drawImage(p.canvas,A,S)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:u,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const b=this.getObject(u,l);H_(v,b),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,xa(e),Xn.FILL):s,v.fillRect(0,0,d,f),v.restore(),e.save(),e.transform(...p),e.scale(1,-1),dg(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ft("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[e,0,0,s,r[p],r[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!zn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;z_(f,t),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,xa(r));r.imageSmoothingEnabled=I_(Me(r),t.interpolate),dg(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;z_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),dg(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===B_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Me(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:l}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/p;else{const m=f*t,v=p*t;u=m<1?1/m:1,d=v<1?1/v:1}}else{const f=Math.abs(e*l-s*r),p=Math.hypot(e,s),m=Math.hypot(r,l);if(t===0)u=m/f,d=p/f;else{const v=t*f;u=m>v?m/v:1,d=p>v?p/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&l===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,l),u.length>0){const d=Math.max(r,l);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};ml=new WeakSet,$b=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Wb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Wc=fA;for(const o in os)Wc.prototype[o]!==void 0&&(Wc.prototype[os[o]]=Wc.prototype[o]);var $d,Wd;class Ja{static get workerPort(){return h(this,$d)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,$d,t)}static get workerSrc(){return h(this,Wd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,Wd,t)}}$d=new WeakMap,Wd=new WeakMap,R(Ja,$d,null),R(Ja,Wd,"");const pg={DATA:1,ERROR:2},Ye={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vi(o){switch(o instanceof Error||typeof o=="object"&&o!==null||Se('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new tc(o.message);case"MissingPDFException":return new Jo(o.message);case"PasswordException":return new Ab(o.message,o.code);case"UnexpectedResponseException":return new Dm(o.message,o.status);case"UnknownErrorException":return new Sb(o.message,o.details);default:return new Sb(o.message,o.toString())}}var fu,es,A1,S1,w1,Cg;class dd{constructor(t,e,s){R(this,es);R(this,fu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",x(this,es,A1).bind(this),{signal:h(this,fu).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,s,r){const l=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:l,data:e,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Ye.PULL,streamId:l,desiredSize:p.desiredSize}),m.promise},cancel:p=>{sn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Ye.CANCEL,streamId:l,reason:vi(p)}),m.promise}},s)}destroy(){var t;(t=h(this,fu))==null||t.abort(),E(this,fu,null)}}fu=new WeakMap,es=new WeakSet,A1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){x(this,es,w1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===pg.DATA)r.resolve(t.data);else if(t.callback===pg.ERROR)r.reject(vi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){l.postMessage({sourceName:s,targetName:r,callback:pg.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:s,targetName:r,callback:pg.ERROR,callbackId:t.callbackId,reason:vi(u)})});return}if(t.streamId){x(this,es,S1).call(this,t);return}e(t.data)},S1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(p,m=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:Ye.ENQUEUE,streamId:e,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Ye.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){sn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Ye.ERROR,streamId:e,reason:vi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(d(t.data,f))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ye.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:Ye.START_COMPLETE,streamId:e,reason:vi(p)})})},w1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Ye.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(vi(t.reason));break;case Ye.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(vi(t.reason));break;case Ye.PULL:if(!d){l.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=d.onPull)==null?void 0:p.call(d))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,reason:vi(f)})});break;case Ye.ENQUEUE:if(sn(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ye.CLOSE:if(sn(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),x(this,es,Cg).call(this,u,e);break;case Ye.ERROR:sn(u,"error should have stream controller"),u.controller.error(vi(t.reason)),x(this,es,Cg).call(this,u,e);break;case Ye.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(vi(t.reason)),x(this,es,Cg).call(this,u,e);break;case Ye.CANCEL:if(!d)break;new Promise(function(f){var p;f((p=d.onCancel)==null?void 0:p.call(d,vi(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:e,reason:vi(f)})}),d.sinkCapability.reject(vi(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Cg=async function(t,e){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var fo,Kd;class KO{constructor({parsedData:t,rawData:e}){R(this,fo);R(this,Kd);E(this,fo,t),E(this,Kd,e)}getRaw(){return h(this,Kd)}get(t){return h(this,fo).get(t)??null}getAll(){return Z0(h(this,fo))}has(t){return h(this,fo).has(t)}}fo=new WeakMap,Kd=new WeakMap;const Gc=Symbol("INTERNAL");var Qd,Zd,Jd,pu;class QO{constructor(t,{name:e,intent:s,usage:r,rbGroups:l}){R(this,Qd,!1);R(this,Zd,!1);R(this,Jd,!1);R(this,pu,!0);E(this,Qd,!!(t&Ci.DISPLAY)),E(this,Zd,!!(t&Ci.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(h(this,Jd))return h(this,pu);if(!h(this,pu))return!1;const{print:t,view:e}=this.usage;return h(this,Qd)?(e==null?void 0:e.viewState)!=="OFF":h(this,Zd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Gc&&Se("Internal method `_setVisible` called."),E(this,Jd,s),E(this,pu,e)}}Qd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,pu=new WeakMap;var Wr,le,gu,mu,tf,Kb;class ZO{constructor(t,e=Ci.DISPLAY){R(this,tf);R(this,Wr,null);R(this,le,new Map);R(this,gu,null);R(this,mu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,mu,t.order);for(const s of t.groups)h(this,le).set(s.id,new QO(e,s));if(t.baseState==="OFF")for(const s of h(this,le).values())s._setVisible(Gc,!1);for(const s of t.on)h(this,le).get(s)._setVisible(Gc,!0);for(const s of t.off)h(this,le).get(s)._setVisible(Gc,!1);E(this,gu,this.getHash())}}isVisible(t){if(h(this,le).size===0)return!0;if(!t)return Om("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,le).has(t.id)?h(this,le).get(t.id).visible:(Ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return x(this,tf,Kb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,le).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(h(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,le).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!h(this,le).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,le).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!h(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,le).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(h(this,le).get(e).visible)return!1}return!0}return Ft(`Unknown optional content policy ${t.policy}.`),!0}return Ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const r=h(this,le).get(t);if(!r){Ft(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const d of u)d!==t&&((l=h(this,le).get(d))==null||l._setVisible(Gc,!1,!0));r._setVisible(Gc,!!e,!0),E(this,Wr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=h(this,le).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}E(this,Wr,null)}get hasInitialVisibility(){return h(this,gu)===null||this.getHash()===h(this,gu)}getOrder(){return h(this,le).size?h(this,mu)?h(this,mu).slice():[...h(this,le).keys()]:null}getGroups(){return h(this,le).size>0?Z0(h(this,le)):null}getGroup(t){return h(this,le).get(t)||null}getHash(){if(h(this,Wr)!==null)return h(this,Wr);const t=new c1;for(const[e,s]of h(this,le))t.update(`${e}:${s.visible}`);return E(this,Wr,t.hexdigest())}}Wr=new WeakMap,le=new WeakMap,gu=new WeakMap,mu=new WeakMap,tf=new WeakSet,Kb=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const l=t[r];let u;if(Array.isArray(l))u=x(this,tf,Kb).call(this,l);else if(h(this,le).has(l))u=h(this,le).get(l).visible;else return Ft(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class JO{constructor(t,{disableRange:e=!1,disableStream:s=!1}){sn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});sn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){sn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new tD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new eD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class tD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=eA(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eD{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nD(o){let t=!0,e=s("filename\\*","i").exec(o);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=p(m),l(m)}if(e=u(o),e){const m=p(e);return l(m)}if(e=s("filename","i").exec(o),e){e=e[1];let m=d(e);return m=p(m),l(m)}function s(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(m,{fatal:!0}),A=km(v);v=b.decode(A),t=!1}catch{}}return v}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function u(m){const v=[];let b;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,_,M,T]=b;if(_=parseInt(_,10),_ in v){if(_===0)break;continue}v[_]=[M,T]}const S=[];for(let _=0;_<v.length&&_ in v;++_){let[M,T]=v[_];T=d(T),M&&(T=unescape(T),_===0&&(T=f(T))),S.push(T)}return S.join("")}function d(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let b=0;b<v.length;++b){const A=v[b].indexOf('"');A!==-1&&(v[b]=v[b].slice(0,A),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function f(m){const v=m.indexOf("'");if(v===-1)return m;const b=m.slice(0,v),S=m.slice(v+1).replace(/^[^']*'/,"");return r(b,S)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,M){return String.fromCharCode(parseInt(M,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function rA(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function lA({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||s||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function oA(o){const t=o.get("Content-Disposition");if(t){let e=nD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(eA(e))return e}return null}function jm(o,t){return o===404||o===0&&t.startsWith("file:")?new Jo('Missing PDF "'+t+'".'):new Dm(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o)}function E1(o){return o===200||o===206}function _1(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function x1(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(Ft(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class U_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new iD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new sD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class iD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,_1(s,this._withCredentials,this._abortController)).then(l=>{if(!E1(l.status))throw jm(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:d,suggestedLength:f}=lA({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=oA(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:x1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class sD{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,_1(l,this._withCredentials,this._abortController)).then(d=>{if(!E1(d.status))throw jm(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:x1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const cb=200,ub=206;function aD(o){const t=o.response;return typeof t!="string"?t:km(t).buffer}class rD{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rA(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=ub):r.expectedStatus=cb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,p,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const l=r.status||cb;if(!(l===cb&&s.expectedStatus===ub)&&l!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const d=aD(r);if(l===ub){const v=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);s.onDone({begin:parseInt(b[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class lD{constructor(t){this._source=t,this._manager=new rD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return sn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new cD(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class oD{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=lA({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=oA(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=jm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cD{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=jm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const uD=/^[a-z][a-z0-9\-+.]+:/i;function hD(o){if(uD.test(o))return new URL(o);const t=pl.get("url");return new URL(t.pathToFileURL(o))}function T1(o,t,e){return o.protocol==="http:"?pl.get("http").request(o,{headers:t},e):pl.get("https").request(o,{headers:t},e)}class dD{constructor(t){this.source=t,this.url=hD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=rA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new gD(this):new fD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new mD(this,t,e):new pD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class C1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class fD extends C1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new Jo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=lA({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=oA(l)};this._request=T1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class pD extends R1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const l=u=>{if(u.statusCode===404){const d=new Jo(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=T1(this._url,r,l),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class gD extends C1{constructor(t){super(t);const e=pl.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Jo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class mD extends R1{constructor(t,e,s){super(t);const r=pl.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const yD=1e5,ei=30,vD=.8;var ix,Kr,si,ef,nf,po,Pa,sf,af,go,yu,vu,Qr,bu,rf,Au,mo,lf,of,Fe,yo,vo,cf,Zr,Su,ar,M1,L1,Zb,Li,Rg,Jb,O1,D1;let Qb=(Fe=class{constructor({textContentSource:t,container:e,viewport:s}){R(this,ar);R(this,Kr,Promise.withResolvers());R(this,si,null);R(this,ef,!1);R(this,nf,!!((ix=globalThis.FontInspector)!=null&&ix.enabled));R(this,po,null);R(this,Pa,null);R(this,sf,0);R(this,af,0);R(this,go,null);R(this,yu,null);R(this,vu,0);R(this,Qr,0);R(this,bu,Object.create(null));R(this,rf,[]);R(this,Au,null);R(this,mo,[]);R(this,lf,new WeakMap);R(this,of,null);var f;if(t instanceof ReadableStream)E(this,Au,t);else if(typeof t=="object")E(this,Au,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,si,E(this,yu,e)),E(this,Qr,s.scale*(globalThis.devicePixelRatio||1)),E(this,vu,s.rotation),E(this,Pa,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:u,pageY:d}=s.rawDims;E(this,of,[1,0,0,-1,-u,d+l]),E(this,af,r),E(this,sf,l),x(f=Fe,Li,O1).call(f),Yo(e,s),h(this,Kr).promise.finally(()=>{h(Fe,Su).delete(this),E(this,Pa,null),E(this,bu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Yn.platform;return Yt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,go).read().then(({value:e,done:s})=>{if(s){h(this,Kr).resolve();return}h(this,po)??E(this,po,e.lang),Object.assign(h(this,bu),e.styles),x(this,ar,M1).call(this,e.items),t()},h(this,Kr).reject)};return E(this,go,h(this,Au).getReader()),h(Fe,Su).add(this),t(),h(this,Kr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,vu)&&(e==null||e(),E(this,vu,r),Yo(h(this,yu),{rotation:r})),s!==h(this,Qr)){e==null||e(),E(this,Qr,s);const u={div:null,properties:null,ctx:x(l=Fe,Li,Rg).call(l,h(this,po))};for(const d of h(this,mo))u.properties=h(this,lf).get(d),u.div=d,x(this,ar,Zb).call(this,u)}}cancel(){var e;const t=new tc("TextLayer task cancelled.");(e=h(this,go))==null||e.cancel(t).catch(()=>{}),E(this,go,null),h(this,Kr).reject(t)}get textDivs(){return h(this,mo)}get textContentItemsStr(){return h(this,rf)}static cleanup(){if(!(h(this,Su).size>0)){h(this,yo).clear();for(const{canvas:t}of h(this,vo).values())t.remove();h(this,vo).clear()}}},Kr=new WeakMap,si=new WeakMap,ef=new WeakMap,nf=new WeakMap,po=new WeakMap,Pa=new WeakMap,sf=new WeakMap,af=new WeakMap,go=new WeakMap,yu=new WeakMap,vu=new WeakMap,Qr=new WeakMap,bu=new WeakMap,rf=new WeakMap,Au=new WeakMap,mo=new WeakMap,lf=new WeakMap,of=new WeakMap,yo=new WeakMap,vo=new WeakMap,cf=new WeakMap,Zr=new WeakMap,Su=new WeakMap,ar=new WeakSet,M1=function(t){var r,l;if(h(this,ef))return;(l=h(this,Pa)).ctx??(l.ctx=x(r=Fe,Li,Rg).call(r,h(this,po)));const e=h(this,mo),s=h(this,rf);for(const u of t){if(e.length>yD){Ft("Ignoring additional textDivs for performance reasons."),E(this,ef,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,si);E(this,si,document.createElement("span")),h(this,si).classList.add("markedContent"),u.id!==null&&h(this,si).setAttribute("id",`${u.id}`),d.append(h(this,si))}else u.type==="endMarkedContent"&&E(this,si,h(this,si).parentNode);continue}s.push(u.str),x(this,ar,L1).call(this,u)}},L1=function(t){var _;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,mo).push(e);const r=vt.transform(h(this,of),t.transform);let l=Math.atan2(r[1],r[0]);const u=h(this,bu)[t.fontName];u.vertical&&(l+=Math.PI/2);let d=h(this,nf)&&u.fontSubstitution||u.fontFamily;d=Fe.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),p=f*x(_=Fe,Li,D1).call(_,d,h(this,po));let m,v;l===0?(m=r[4],v=r[5]-p):(m=r[4]+p*Math.sin(l),v=r[5]-p*Math.cos(l));const b="calc(var(--scale-factor)*",A=e.style;h(this,si)===h(this,yu)?(A.left=`${(100*m/h(this,af)).toFixed(2)}%`,A.top=`${(100*v/h(this,sf)).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${v.toFixed(2)}px)`),A.fontSize=`${b}${(h(Fe,Zr)*f).toFixed(2)}px)`,A.fontFamily=d,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,nf)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),h(this,lf).set(e,s),h(this,Pa).div=e,h(this,Pa).properties=s,x(this,ar,Zb).call(this,h(this,Pa)),s.hasText&&h(this,si).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,si).append(M)}},Zb=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:l}=e;let u="";if(h(Fe,Zr)>1&&(u=`scale(${1/h(Fe,Zr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:m}=s;x(d=Fe,Li,Jb).call(d,r,m*h(this,Qr),f);const{width:v}=r.measureText(e.textContent);v>0&&(u=`scaleX(${p*h(this,Qr)/v}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(l.transform=u)},Li=new WeakSet,Rg=function(t=null){let e=h(this,vo).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,vo).set(t,e),h(this,cf).set(e,{size:0,family:""})}return e},Jb=function(t,e,s){const r=h(this,cf).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},O1=function(){if(h(this,Zr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,Zr,t.getBoundingClientRect().height),t.remove()},D1=function(t,e){const s=h(this,yo).get(t);if(s)return s;const r=x(this,Li,Rg).call(this,e);r.canvas.width=r.canvas.height=ei,x(this,Li,Jb).call(this,r,ei,t);const l=r.measureText("");let u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,yo).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,ei,ei),r.strokeText("g",0,0);let f=r.getImageData(0,0,ei,ei).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/ei);break}r.clearRect(0,0,ei,ei),r.strokeText("A",0,ei),f=r.getImageData(0,0,ei,ei).data,u=0;for(let m=0,v=f.length;m<v;m+=4)if(f[m]>0){u=ei-Math.floor(m/4/ei);break}r.canvas.width=r.canvas.height=0;const p=u?u/(u+d):vD;return h(this,yo).set(t,p),p},R(Fe,Li),R(Fe,yo,new Map),R(Fe,vo,new Map),R(Fe,cf,new WeakMap),R(Fe,Zr,null),R(Fe,Su,new Set),Fe);class Td{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let u=null;const d=l.name;if(d==="#text")u=l.value;else if(Td.shouldBuildText(d))(f=l==null?void 0:l.attributes)!=null&&f.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const p of l.children)r(p)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const bD=65536,AD=100,SD=5e3,wD=zn?NO:OO,ED=zn?PO:p1,_D=zn?kO:DO,xD=zn?jO:v1;function TD(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new t0,{docId:e}=t,s=o.url?CD(o.url):null,r=o.data?RD(o.data):null,l=o.httpHeaders||null,u=o.withCredentials===!0,d=o.password??null,f=o.range instanceof k1?o.range:null,p=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:bD;let m=o.worker instanceof Kc?o.worker:null;const v=o.verbosity,b=typeof o.docBaseUrl=="string"&&!Pm(o.docBaseUrl)?o.docBaseUrl:null,A=typeof o.cMapUrl=="string"?o.cMapUrl:null,S=o.cMapPacked!==!1,_=o.CMapReaderFactory||ED,M=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,T=o.StandardFontDataFactory||xD,L=o.stopAtErrors!==!0,k=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,j=o.isEvalSupported!==!1,F=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!zn,B=typeof o.isChrome=="boolean"?o.isChrome:!Yn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),q=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,W=typeof o.disableFontFace=="boolean"?o.disableFontFace:zn,tt=o.fontExtraProperties===!0,it=o.enableXfa===!0,st=o.ownerDocument||globalThis.document,ft=o.disableRange===!0,pt=o.disableStream===!0,rt=o.disableAutoFetch===!0,ct=o.pdfBug===!0,H=o.CanvasFactory||wD,V=o.FilterFactory||_D,K=o.enableHWA===!0,yt=f?f.length:o.length??NaN,P=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!zn&&!W,$=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:_===p1&&T===v1&&A&&M&&ad(A,document.baseURI)&&ad(M,document.baseURI);o.canvasFactory&&L_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),o.filterFactory&&L_("`filterFactory`-instance option, please use `FilterFactory` instead.");const nt=null;oO(v);const et={canvasFactory:new H({ownerDocument:st,enableHWA:K}),filterFactory:new V({docId:e,ownerDocument:st}),cMapReaderFactory:$?null:new _({baseUrl:A,isCompressed:S}),standardFontDataFactory:$?null:new T({baseUrl:M})};if(!m){const ut={verbosity:v,port:Ja.workerPort};m=ut.port?Kc.fromPort(ut):new Kc(ut),t._worker=m}const ht={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:rt,rangeChunkSize:p,length:yt,docBaseUrl:b,enableXfa:it,evaluatorOptions:{maxImageSize:k,disableFontFace:W,ignoreErrors:L,isEvalSupported:j,isOffscreenCanvasSupported:F,isChrome:B,canvasMaxAreaInBytes:q,fontExtraProperties:tt,useSystemFonts:P,cMapUrl:$?A:null,standardFontDataUrl:$?M:null}},xt={disableFontFace:W,fontExtraProperties:tt,ownerDocument:st,pdfBug:ct,styleElement:nt,loadingParams:{disableAutoFetch:rt,enableXfa:it}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ut=m.messageHandler.sendWithPromise("GetDocRequest",ht,r?[r.buffer]:null);let Tt;if(f)Tt=new JO(f,{disableRange:ft,disableStream:pt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Dt;zn?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&ad(s)?U_:dD:Dt=ad(s)?U_:lD,Tt=new Dt({url:s,length:yt,httpHeaders:l,withCredentials:u,rangeChunkSize:p,disableRange:ft,disableStream:pt})}return ut.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Gt=new dd(e,Dt,m.port),Xt=new DD(Gt,t,Tt,xt,et);t._transport=Xt,Gt.send("Ready",null)})}).catch(t._capability.reject),t}function CD(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(zn&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RD(o){if(zn&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return km(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o==null?void 0:o.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function G_(o){return typeof o=="object"&&Number.isInteger(o==null?void 0:o.num)&&o.num>=0&&Number.isInteger(o==null?void 0:o.gen)&&o.gen>=0}var gm;const mm=class mm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Gn(mm,gm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gm=new WeakMap,R(mm,gm,0);let t0=mm,k1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Se("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class MD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Jr,ja,Ji,qc,Mg;class LD{constructor(t,e,s,r=!1){R(this,Ji);R(this,Jr,null);R(this,ja,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new M_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new N1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new Kf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Fr.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1}){var j,F;(j=this._stats)==null||j.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,v),{renderingIntent:A,cacheKey:S}=b;E(this,ja,!1),x(this,Ji,Mg).call(this),d||(d=this._transport.getOptionalContentConfig(A));let _=this._intentStates.get(S);_||(_=Object.create(null),this._intentStates.set(S,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const M=!!(A&Ci.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(b));const T=B=>{var q;_.renderTasks.delete(L),(this._maybeCleanupAfterRender||M)&&E(this,ja,!0),x(this,Ji,qc).call(this,!M),B?(L.capability.reject(B),this._abortOperatorList({intentState:_,reason:B instanceof Error?B:new Error(B)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new n0({callback:T,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p});(_.renderTasks||(_.renderTasks=new Set)).add(L);const k=L.task;return Promise.all([_.displayReadyCapability.promise,d]).then(([B,q])=>{var W;if(this.destroyed){T();return}if((W=this._stats)==null||W.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:B,optionalContentConfig:q}),L.operatorListChanged()}).catch(T),k}getOperatorList({intent:t="display",annotationMode:e=Fr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Td.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function l(){u.read().then(function({value:f,done:p}){if(p){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),l()},r)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),E(this,ja,!1),x(this,Ji,Mg).call(this),Promise.all(t)}cleanup(t=!1){E(this,ja,!0);const e=x(this,Ji,qc).call(this,!1);return t&&e&&this._stats&&(this._stats=new M_),e}_startRenderPage(t,e){var r,l;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&x(this,Ji,qc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},u).getReader(),p=this._intentStates.get(e);p.streamReader=f;const m=()=>{f.read().then(({value:v,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),m())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();x(this,Ji,qc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof tA){let r=AD;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new tc(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Jr=new WeakMap,ja=new WeakMap,Ji=new WeakSet,qc=function(t=!1){if(x(this,Ji,Mg).call(this),!h(this,ja)||this.destroyed)return!1;if(t)return E(this,Jr,setTimeout(()=>{E(this,Jr,null),x(this,Ji,qc).call(this,!1)},SD)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,ja,!1),!0},Mg=function(){h(this,Jr)&&(clearTimeout(h(this,Jr)),E(this,Jr,null))};var Fa,ym;class OD{constructor(){R(this,Fa,new Map);R(this,ym,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,ym).then(()=>{for(const[r]of h(this,Fa))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}h(this,Fa).set(e,r)}removeEventListener(t,e){const s=h(this,Fa).get(e);s==null||s(),h(this,Fa).delete(e)}terminate(){for(const[,t]of h(this,Fa))t==null||t();h(this,Fa).clear()}}Fa=new WeakMap,ym=new WeakMap;var vm,bo,Ao,wu,Lg,Eu,Og;const Ee=class Ee{constructor({name:t=null,port:e=null,verbosity:s=cO()}={}){R(this,wu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(Ee,Ao))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(Ee,Ao)||E(Ee,Ao,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return zn?Promise.all([pl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new dd("main","worker",t),this._messageHandler.on("ready",function(){}),x(this,wu,Lg).call(this)}_initialize(){if(h(Ee,bo)||h(Ee,Eu,Og)){this._setupFakeWorker();return}let{workerSrc:t}=Ee;try{Ee._isSameOrigin(window.location.href,t)||(t=Ee._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new dd("main","worker",e),r=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",d=>{if(l.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,x(this,wu,Lg).call(this)}),s.on("ready",d=>{if(l.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{Om("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(Ee,bo)||(Ft("Setting up fake worker."),E(Ee,bo,!0)),Ee._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new OD;this._port=e;const s=`fake${Gn(Ee,vm)._++}`,r=new dd(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new dd(s,s+"_worker",e),x(this,wu,Lg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(Ee,Ao))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,Ao))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ee(t)}static get workerSrc(){if(Ja.workerSrc)return Ja.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yt(this,"_setupFakeWorkerGlobal",(async()=>h(this,Eu,Og)?h(this,Eu,Og):(await import(this.workerSrc)).WorkerMessageHandler)())}};vm=new WeakMap,bo=new WeakMap,Ao=new WeakMap,wu=new WeakSet,Lg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Eu=new WeakSet,Og=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},R(Ee,Eu),R(Ee,vm,0),R(Ee,bo,!1),R(Ee,Ao),zn&&(E(Ee,bo,!0),Ja.workerSrc||(Ja.workerSrc="./pdf.worker.mjs")),Ee._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},Ee._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Kc=Ee;var za,qs,_u,xu,Vs,So,fd;class DD{constructor(t,e,s,r,l){R(this,So);R(this,za,new Map);R(this,qs,new Map);R(this,_u,new Map);R(this,xu,new Map);R(this,Vs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new N1,this.fontLoader=new MO({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yt(this,"annotationStorage",new sA)}getRenderingIntent(t,e=Fr.ENABLE,s=null,r=!1,l=!1){let u=Ci.DISPLAY,d=Ub;switch(t){case"any":u=Ci.ANY;break;case"display":break;case"print":u=Ci.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${t}`)}const f=u&Ci.PRINT&&s instanceof h1?s:this.annotationStorage;switch(e){case Fr.DISABLE:u+=Ci.ANNOTATIONS_DISABLE;break;case Fr.ENABLE:break;case Fr.ENABLE_FORMS:u+=Ci.ANNOTATIONS_FORMS;break;case Fr.ENABLE_STORAGE:u+=Ci.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=Ci.IS_EDITING),l&&(u+=Ci.OPLIST);const{ids:p,hash:m}=f.modifiedIds,v=[u,d.hash,m];return{renderingIntent:u,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,Vs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,qs).values())t.push(r._destroy());h(this,qs).clear(),h(this,_u).clear(),h(this,xu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,za).clear(),this.filterFactory.destroy(),Qb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new tc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{sn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){r.close();return}sn(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:u}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{sn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:u,done:d}){if(d){r.close();return}sn(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{l.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new MD(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Ab(s.message,s.code);break;case"InvalidPDFException":r=new Fx(s.message);break;case"MissingPDFException":r=new Jo(s.message);break;case"UnexpectedResponseException":r=new Dm(s.message,s.status);break;case"UnknownErrorException":r=new Sb(s.message,s.details);break;default:Se("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(E(this,Vs,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?h(this,Vs).reject(l):h(this,Vs).resolve({password:l})};try{e.onPassword(r,s.code)}catch(l){h(this,Vs).reject(l)}}else h(this,Vs).reject(new Ab(s.message,s.code));return h(this,Vs).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,qs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const A=l.error;Ft(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,v=new LO(l,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(s,v)});break;case"CopyLocalImage":const{imageRef:b}=l;sn(b,"The imageRef must be defined.");for(const A of h(this,qs).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,u])=>{var f;if(this.destroyed)return;const d=h(this,qs).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(l){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>sO&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,_u).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&h(this,xu).set(l.refStr,t);const u=new LD(e,l,this,this._params.pdfBug);return h(this,qs).set(e,u),u});return h(this,_u).set(e,r),r}getPageIndex(t){return G_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return x(this,So,fd).call(this,"GetFieldObjects")}hasJSActions(){return x(this,So,fd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,So,fd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return x(this,So,fd).call(this,"GetOptionalContentConfig").then(e=>new ZO(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,za).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,u;return{info:r[0],metadata:r[1]?new KO(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,za).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,qs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,za).clear(),this.filterFactory.destroy(!0),Qb.cleanup()}}cachedPageNumber(t){if(!G_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,xu).get(e)??null}}za=new WeakMap,qs=new WeakMap,_u=new WeakMap,xu=new WeakMap,Vs=new WeakMap,So=new WeakSet,fd=function(t,e=null){const s=h(this,za).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,za).set(t,r),r};const gg=Symbol("INITIAL_DATA");var ps,uf,e0;class N1{constructor(){R(this,uf);R(this,ps,Object.create(null))}get(t,e=null){if(e){const r=x(this,uf,e0).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,ps)[t];if(!s||s.data===gg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,ps)[t];return!!e&&e.data!==gg}resolve(t,e=null){const s=x(this,uf,e0).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,ps)){const{data:s}=h(this,ps)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}E(this,ps,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,ps)){const{data:e}=h(this,ps)[t];e!==gg&&(yield[t,e])}}}ps=new WeakMap,uf=new WeakSet,e0=function(t){var e;return(e=h(this,ps))[t]||(e[t]={...Promise.withResolvers(),data:gg})};var tl;class kD{constructor(t){R(this,tl,null);E(this,tl,t),this.onContinue=null}get promise(){return h(this,tl).capability.promise}cancel(t=0){h(this,tl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,tl).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,tl);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}tl=new WeakMap;var el,wo;const Xl=class Xl{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:b=null}){R(this,el,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(Xl,wo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Xl,wo).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:u}=this.params;this.gfx=new Wc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,el)&&(window.cancelAnimationFrame(h(this,el)),E(this,el,null)),h(Xl,wo).delete(this._canvas),this.callback(t||new tA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,el,window.requestAnimationFrame(()=>{E(this,el,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Xl,wo).delete(this._canvas),this.callback())))}};el=new WeakMap,wo=new WeakMap,R(Xl,wo,new WeakSet);let n0=Xl;const ND="4.8.69",PD="3634dab10";function q_(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function sd(o){return Math.max(0,Math.min(255,255*o))}class V_{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=sd(t),[t,t,t]}static G_HTML([t]){const e=q_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(sd)}static RGB_HTML(t){return`#${t.map(q_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[sd(1-Math.min(1,t+r)),sd(1-Math.min(1,s+r)),sd(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,l=1-e,u=1-s,d=Math.min(r,l,u);return["CMYK",r,l,u,d]}}class jD{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Se("Abstract method `_createSVG` called.")}}class cA extends jD{_createSVG(t){return document.createElementNS(Ta,t)}}class P1{static setupStorage(t,e,s,r,l){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:l}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}d&&l.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var v,b;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:l,linkService:s});const d=l!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}d&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),d&&Td.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const m=[[r,-1,u]];for(;m.length>0;){const[A,S,_]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const k=document.createTextNode(M.value);p.push(k),_.append(k);continue}const L=(v=M==null?void 0:M.attributes)!=null&&v.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(_.append(L),M.attributes&&this.setAttributes({html:L,element:M,storage:e,intent:l,linkService:s}),((b=M.children)==null?void 0:b.length)>0)m.push([M,-1,L]);else if(M.value){const k=document.createTextNode(M.value);d&&Td.shouldBuildText(T)&&p.push(k),L.append(k)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Zf=1e3,FD=9,Wo=new WeakSet;function er(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class zD{static create(t){switch(t.data.annotationType){case Je.LINK:return new j1(t);case Je.TEXT:return new HD(t);case Je.WIDGET:switch(t.data.fieldType){case"Tx":return new ID(t);case"Btn":return t.data.radioButton?new H1(t):t.data.checkBox?new UD(t):new GD(t);case"Ch":return new qD(t);case"Sig":return new BD(t)}return new ec(t);case Je.POPUP:return new s0(t);case Je.FREETEXT:return new q1(t);case Je.LINE:return new XD(t);case Je.SQUARE:return new YD(t);case Je.CIRCLE:return new $D(t);case Je.POLYLINE:return new V1(t);case Je.CARET:return new KD(t);case Je.INK:return new uA(t);case Je.POLYGON:return new WD(t);case Je.HIGHLIGHT:return new X1(t);case Je.UNDERLINE:return new QD(t);case Je.SQUIGGLY:return new ZD(t);case Je.STRIKEOUT:return new JD(t);case Je.STAMP:return new Y1(t);case Je.FILEATTACHMENT:return new tk(t);default:return new qe(t)}}}var Eo,Tu,Cu,hf,i0;const pA=class pA{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){R(this,hf);R(this,Eo,null);R(this,Tu,!1);R(this,Cu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pA._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Eo)||E(this,Eo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&x(this,hf,i0).call(this,e),(s=h(this,Cu))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Eo)&&(x(this,hf,i0).call(this,h(this,Eo).rect),(t=h(this,Cu))==null||t.popup.resetEdited(),E(this,Eo,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof ec||(l.tabIndex=Zf);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof s0){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,l),l}const{width:d,height:f}=er(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(_>0||M>0){const L=`calc(${_}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=L}else if(this instanceof H1){const L=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=L}switch(e.borderStyle.style){case nd.SOLID:u.borderStyle="solid";break;case nd.DASHED:u.borderStyle="dashed";break;case nd.BEVELED:Ft("Unimplemented border style: beveled");break;case nd.INSET:Ft("Unimplemented border style: inset");break;case nd.UNDERLINE:u.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(E(this,Tu,!0),u.borderColor=vt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const p=vt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:v,pageX:b,pageY:A}=r.rawDims;u.left=`${100*(p[0]-b)/m}%`,u.top=`${100*(p[1]-A)/v}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*d/m}%`,u.height=`${100*f/v}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:u}=er(this.data.rect);let d,f;t%180===0?(d=100*l/s,f=100*u/r):(d=100*u/s,f=100*l/r),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const l=r.detail[e],u=l[0],d=l.slice(1);r.target.style[s]=V_[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:V_[`${u}_rgb`](d)})};return Yt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||s[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,l]of Object.entries(e)){const u=s[r];if(u){const d={detail:{[r]:l},target:t};u(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,l]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,M,T,L]=t.subarray(2,6);if(r===_&&l===M&&e===T&&s===L)return}const{style:u}=this.container;let d;if(h(this,Tu)){const{borderColor:_,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,p=l-s,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=m.createElement("defs");v.append(b);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let _=2,M=t.length;_<M;_+=8){const T=t[_],L=t[_+1],k=t[_+2],j=t[_+3],F=m.createElement("rect"),B=(k-e)/f,q=(l-L)/p,W=(T-k)/f,tt=(L-j)/p;F.setAttribute("x",B),F.setAttribute("y",q),F.setAttribute("width",W),F.setAttribute("height",tt),A.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${q}" width="${W}" height="${tt}"/>`)}h(this,Tu)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=E(this,Cu,new s0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Se("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:u,exportValues:d}of r){if(l===-1||u===e)continue;const f=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Wo.has(p)){Ft(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,u=r.getAttribute("data-element-id");u!==e&&Wo.has(r)&&s.push({id:u,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Eo=new WeakMap,Tu=new WeakMap,Cu=new WeakMap,hf=new WeakSet,i0=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:m}=er(t);e.left=`${100*(t[0]-d)/l}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*p/l}%`,e.height=`${100*m/u}%`):this.setRotation(r)};let qe=pA;var Ri,Bl,F1,z1;class j1 extends qe{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});R(this,Ri);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(x(this,Ri,F1).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(x(this,Ri,z1).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&x(this,Ri,Bl).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),x(this,Ri,Bl).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const u=r.get(l);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),x(this,Ri,Bl).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),x(this,Ri,Bl).call(this),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var v;r==null||r();const{fields:l,refs:u,include:d}=s,f=[];if(l.length!==0||u.length!==0){const b=new Set(u);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:_}of S)b.add(_)}for(const A of Object.values(this._fieldObjects))for(const S of A)b.has(S.id)===d&&f.push(S)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,m=[];for(const b of f){const{id:A}=b;switch(m.push(A),b.type){case"text":{const _=b.defaultValue||"";p.setValue(A,{value:_});break}case"checkbox":case"radiobutton":{const _=b.defaultValue===b.exportValues;p.setValue(A,{value:_});break}case"combobox":case"listbox":{const _=b.defaultValue||"";p.setValue(A,{value:_});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!Wo.has(S)){Ft(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Ri=new WeakSet,Bl=function(){this.container.setAttribute("data-internal-link","")},F1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},x(this,Ri,Bl).call(this)},z1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),x(this,Ri,Bl).call(this)};class HD extends qe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ec extends qe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Yn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,l){s.includes("mouse")?t.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var d;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u)}}))})}_setEventListeners(t,e,s,r){var l,u,d;for(const[f,p]of s)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":vt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||FD,l=t.style;let u;const d=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(p/(ab*r))||1,v=p/m;u=Math.min(r,f(v/ab))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(p/ab))}l.fontSize=`calc(${u}px * var(--scale-factor))`,l.color=vt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class ID extends ec{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),l.setValue(u.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Wo.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Zf,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let v=b=>{const{formattedValue:A}=m;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var _;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(_){m.userValue=_.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),_.target.value=m.userValue},formattedValue(_){const{formattedValue:M}=_.detail;m.formattedValue=M,M!=null&&_.target!==document.activeElement&&(_.target.value=M),t.setValue(e,{formattedValue:M})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var k;const{charLimit:M}=_.detail,{target:T}=_;if(M===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",M);let L=m.userValue;!L||L.length<=M||(L=L.slice(0,M),T.value=m.userValue=L,t.setValue(e,{value:L}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:_}=A.target;m.lastCommittedValue!==_&&(m.lastCommittedValue=_,m.userValue=_,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=v;v=null,s.addEventListener("blur",A=>{var _,M;if(!m.focused||!A.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",A=>{var F;m.lastCommittedValue=null;const{data:S,target:_}=A,{value:M,selectionStart:T,selectionEnd:L}=_;let k=T,j=L;switch(A.inputType){case"deleteWordBackward":{const B=M.substring(0,T).match(/\w*[^\w]*$/);B&&(k-=B[0].length);break}case"deleteWordForward":{const B=M.substring(T).match(/^[^\w]*\w*/);B&&(j+=B[0].length);break}case"deleteContentBackward":T===L&&(k-=1);break;case"deleteContentForward":T===L&&(j+=1);break}A.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:k,selEnd:j}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&s.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class BD extends ec{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class UD extends ec{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Wo.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=Zf,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s)){const m=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class H1 extends ec{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(Wo.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Zf,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",d=>{const f={value:p=>{const m=u===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const b=m&&v.id===s;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class GD extends j1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class qD extends ec{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Wo.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Zf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,s.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let u=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),u=()=>{m.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=m=>{const v=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let f=d(!1);const p=m=>{const v=m.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const v={value(b){u==null||u();const A=b.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const _ of r.options)_.selected=S.has(_.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,S=b.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(b){const{index:A,displayValue:S,exportValue:_}=b.detail.insert,M=r.children[A],T=document.createElement("option");T.textContent=S,T.value=_,M?M.before(T):r.append(T),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:_,exportValue:M}=S,T=document.createElement("option");T.textContent=_,T.value=M,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},indices(b){const A=new Set(b.detail.indices);for(const S of b.target.options)S.selected=A.has(S.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,m)}),r.addEventListener("input",m=>{var A;const v=d(!0),b=d(!1);t.setValue(e,{value:v}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class s0 extends qe{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:qe._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new VD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${J0}${s}`).join(",")),this.container}}var Ru,bm,Am,Mu,_o,je,Ha,Lu,df,ff,Ou,Ia,gs,Ba,pf,Ua,gf,xo,To,ge,Dg,a0,I1,B1,U1,G1,kg,Ng,r0;class VD{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:l,contentsObj:u,richText:d,parent:f,rect:p,parentRect:m,open:v}){R(this,ge);R(this,Ru,x(this,ge,U1).bind(this));R(this,bm,x(this,ge,r0).bind(this));R(this,Am,x(this,ge,Ng).bind(this));R(this,Mu,x(this,ge,kg).bind(this));R(this,_o,null);R(this,je,null);R(this,Ha,null);R(this,Lu,null);R(this,df,null);R(this,ff,null);R(this,Ou,null);R(this,Ia,!1);R(this,gs,null);R(this,Ba,null);R(this,pf,null);R(this,Ua,null);R(this,gf,null);R(this,xo,null);R(this,To,!1);var b;E(this,je,t),E(this,gf,r),E(this,Ha,u),E(this,Ua,d),E(this,ff,f),E(this,_o,e),E(this,pf,p),E(this,Ou,m),E(this,df,s),E(this,Lu,nA.toDateObject(l)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,Mu)),A.addEventListener("mouseenter",h(this,Am)),A.addEventListener("mouseleave",h(this,bm)),A.classList.add("popupTriggerArea");for(const A of s)(b=A.container)==null||b.addEventListener("keydown",h(this,Ru));h(this,je).hidden=!0,v&&x(this,ge,kg).call(this)}render(){if(h(this,gs))return;const t=E(this,gs,document.createElement("div"));if(t.className="popup",h(this,_o)){const l=t.style.outlineColor=vt.makeHexColor(...h(this,_o));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=vt.makeHexColor(...h(this,_o).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,gf),t.append(e),h(this,Lu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Lu).valueOf()})),e.append(l)}const r=h(this,ge,Dg);if(r)P1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(h(this,Ha));t.append(l)}h(this,je).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,u=r.length;l<u;++l){const d=r[l];s.append(document.createTextNode(d)),l<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,xo)||E(this,xo,{contentsObj:h(this,Ha),richText:h(this,Ua)}),t&&E(this,Ba,null),e&&(E(this,Ua,x(this,ge,B1).call(this,e)),E(this,Ha,null)),(s=h(this,gs))==null||s.remove(),E(this,gs,null)}resetEdited(){var t;h(this,xo)&&({contentsObj:Gn(this,Ha)._,richText:Gn(this,Ua)._}=h(this,xo),E(this,xo,null),(t=h(this,gs))==null||t.remove(),E(this,gs,null),E(this,Ba,null))}forceHide(){E(this,To,this.isVisible),h(this,To)&&(h(this,je).hidden=!0)}maybeShow(){h(this,To)&&(h(this,gs)||x(this,ge,Ng).call(this),E(this,To,!1),h(this,je).hidden=!1)}get isVisible(){return h(this,je).hidden===!1}}Ru=new WeakMap,bm=new WeakMap,Am=new WeakMap,Mu=new WeakMap,_o=new WeakMap,je=new WeakMap,Ha=new WeakMap,Lu=new WeakMap,df=new WeakMap,ff=new WeakMap,Ou=new WeakMap,Ia=new WeakMap,gs=new WeakMap,Ba=new WeakMap,pf=new WeakMap,Ua=new WeakMap,gf=new WeakMap,xo=new WeakMap,To=new WeakMap,ge=new WeakSet,Dg=function(){const t=h(this,Ua),e=h(this,Ha);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,Ua).html||null},a0=function(){var t,e,s;return((s=(e=(t=h(this,ge,Dg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},I1=function(){var t,e,s;return((s=(e=(t=h(this,ge,Dg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},B1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ge,I1),fontSize:h(this,ge,a0)?`calc(${h(this,ge,a0)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return s},U1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,Ia))&&x(this,ge,kg).call(this)},G1=function(){if(h(this,Ba)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:l}}}=h(this,ff);let u=!!h(this,Ou),d=u?h(this,Ou):h(this,pf);for(const S of h(this,df))if(!d||vt.intersect(S.data.rect,d)!==null){d=S.data.rect,u=!0;break}const f=vt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,v=f[0]+m,b=f[1];E(this,Ba,[100*(v-r)/e,100*(b-l)/s]);const{style:A}=h(this,je);A.left=`${h(this,Ba)[0]}%`,A.top=`${h(this,Ba)[1]}%`},kg=function(){E(this,Ia,!h(this,Ia)),h(this,Ia)?(x(this,ge,Ng).call(this),h(this,je).addEventListener("click",h(this,Mu)),h(this,je).addEventListener("keydown",h(this,Ru))):(x(this,ge,r0).call(this),h(this,je).removeEventListener("click",h(this,Mu)),h(this,je).removeEventListener("keydown",h(this,Ru)))},Ng=function(){h(this,gs)||this.render(),this.isVisible?h(this,Ia)&&h(this,je).classList.add("focused"):(x(this,ge,G1).call(this),h(this,je).hidden=!1,h(this,je).style.zIndex=parseInt(h(this,je).style.zIndex)+1e3)},r0=function(){h(this,je).classList.remove("focused"),!(h(this,Ia)||!this.isVisible)&&(h(this,je).hidden=!0,h(this,je).style.zIndex=parseInt(h(this,je).style.zIndex)-1e3)};class q1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mf;class XD extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,mf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),l=this.svgFactory.create(s,r,!0),u=E(this,mf,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap;var yf;class YD extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,yf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=E(this,yf,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap;var vf;class $D extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,vf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=E(this,vf,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap;var bf;class V1 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,bf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:u,height:d}=er(e),f=this.svgFactory.create(u,d,!0);let p=[];for(let v=0,b=s.length;v<b;v+=2){const A=s[v]-e[0],S=e[3]-s[v+1];p.push(`${A},${S}`)}p=p.join(" ");const m=E(this,bf,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}bf=new WeakMap;class WD extends V1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class KD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Af;class uA extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Af,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:l}}=this,{width:u,height:d}=er(e),f=this.svgFactory.create(u,d,!0);for(const p of s){let m=[];for(let b=0,A=p.length;b<A;b+=2){const S=p[b]-e[0],_=e[3]-p[b+1];m.push(`${S},${_}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);h(this,Af).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Af)}addHighlightArea(){this.container.classList.add("highlightArea")}}Af=new WeakMap;class X1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class QD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ZD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class JD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Y1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Sf,wf,l0;class tk extends qe{constructor(e){var r;super(e,{isRenderable:!0});R(this,wf);R(this,Sf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",x(this,wf,l0).bind(this)),E(this,Sf,r);const{isMac:l}=Yn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(l?u.metaKey:u.ctrlKey)&&x(this,wf,l0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Sf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sf=new WeakMap,wf=new WeakSet,l0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Ef,Co,Ro,_f,Qo,$1,o0,sx;let ek=(sx=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:u,structTreeLayer:d}){R(this,Qo);R(this,Ef,null);R(this,Co,null);R(this,Ro,new Map);R(this,_f,null);this.div=t,E(this,Ef,e),E(this,Co,s),E(this,_f,d||null),this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Ro).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;Yo(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new cA,annotationStorage:t.annotationStorage||new sA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===Je.POPUP;if(f){const v=r.get(d.id);if(!v)continue;l.elements=v}else{const{width:v,height:b}=er(d.rect);if(v<=0||b<=0)continue}l.data=d;const p=zD.create(l);if(!p.isRenderable)continue;if(!f&&d.popupRef){const v=r.get(d.popupRef);v?v.push(p):r.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await x(this,Qo,$1).call(this,m,d.id),p._isEditable&&(h(this,Ro).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}x(this,Qo,o0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Yo(e,{rotation:t.rotation}),x(this,Qo,o0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Ro).values())}getEditableAnnotation(t){return h(this,Ro).get(t)}},Ef=new WeakMap,Co=new WeakMap,Ro=new WeakMap,_f=new WeakMap,Qo=new WeakSet,$1=async function(t,e){var u,d;const s=t.firstChild||t,r=s.id=`${J0}${e}`,l=await((u=h(this,_f))==null?void 0:u.getAriaAttributes(r));if(l)for(const[f,p]of l)s.setAttribute(f,p);this.div.append(t),(d=h(this,Ef))==null||d.moveElementInDOM(this.div,t,s,!1)},o0=function(){if(!h(this,Co))return;const t=this.div;for(const[e,s]of h(this,Co)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}h(this,Co).clear()},sx);const mg=/\r\n?|\n/g;var ms,Si,xf,Mo,wi,We,W1,K1,Q1,Pg,ir,jg,Fg,Z1,u0,J1;const Ae=class Ae extends oe{constructor(e){super({...e,name:"freeTextEditor"});R(this,We);R(this,ms);R(this,Si,"");R(this,xf,`${this.id}-editor`);R(this,Mo,null);R(this,wi);E(this,ms,e.color||Ae._defaultColor||oe._defaultLineColor),E(this,wi,e.fontSize||Ae._defaultFontSize)}static get _keyboardManager(){const e=Ae.prototype,s=u=>u.isEmpty(),r=$o.TRANSLATE_SMALL,l=$o.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Qf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){oe.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Mt.FREETEXT_SIZE:Ae._defaultFontSize=s;break;case Mt.FREETEXT_COLOR:Ae._defaultColor=s;break}}updateParams(e,s){switch(e){case Mt.FREETEXT_SIZE:x(this,We,W1).call(this,s);break;case Mt.FREETEXT_COLOR:x(this,We,K1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,Ae._defaultFontSize],[Mt.FREETEXT_COLOR,Ae._defaultColor||oe._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,h(this,wi)],[Mt.FREETEXT_COLOR,h(this,ms)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ae._internalPadding*e,-(Ae._internalPadding+h(this,wi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Mo,new AbortController);const e=this._uiManager.combinedSignal(h(this,Mo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,xf)),this._isDraggable=!0,(e=h(this,Mo))==null||e.abort(),E(this,Mo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Si),s=E(this,Si,x(this,We,Q1).call(this).trimEnd());if(e===s)return;const r=l=>{if(E(this,Si,l),!l){this.remove();return}x(this,We,Fg).call(this),this._uiManager.rebuild(this),x(this,We,Pg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),x(this,We,Pg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ae._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,xf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,wi)}px * var(--scale-factor))`,r.color=h(this,ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),em(this,this.div,["dblclick","keydown"]),this.width){const[l,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[m,v]=this.pageDimensions,[b,A]=this.pageTranslation;let S,_;switch(this.rotation){case 0:S=e+(d[0]-b)/m,_=s+this.height-(d[1]-A)/v;break;case 90:S=e+(d[0]-b)/m,_=s-(d[1]-A)/v,[f,p]=[p,-f];break;case 180:S=e-this.width+(d[0]-b)/m,_=s-(d[1]-A)/v,[f,p]=[-f,-p];break;case 270:S=e+(d[0]-b-this.height*v)/m,_=s+(d[1]-A-this.width*m)/v,[f,p]=[-p,f];break}this.setAt(S*l,_*u,f,p)}else this.setAt(e*l,s*u,this.width*l,this.height*u);x(this,We,Fg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,_,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=x(S=Ae,ir,u0).call(S,s.getData("text")||"").replaceAll(mg,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=d,m=[],v=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(mg,"")),T!==this.editorDiv){let L=m;for(const k of this.editorDiv.childNodes){if(k===T){L=v;continue}L.push(x(_=Ae,ir,jg).call(_,k))}}m.push(f.nodeValue.slice(0,p).replaceAll(mg,""))}else if(f===this.editorDiv){let T=m,L=0;for(const k of this.editorDiv.childNodes)L++===p&&(T=v),T.push(x(M=Ae,ir,jg).call(M,k))}E(this,Si,`${m.join(`
`)}${l}${v.join(`
`)}`),x(this,We,Fg).call(this);const b=new Range;let A=m.reduce((T,L)=>T+L.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const L=T.nodeValue.length;if(A<=L){b.setStart(T,A),b.setEnd(T,A);break}A-=L}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let l=null;if(e instanceof q1){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:m,rotation:v,id:b,popupRef:A},textContent:S,textPosition:_,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Nt.FREETEXT,color:Array.from(p),fontSize:f,value:S.join(`
`),position:_,pageIndex:M-1,rect:m.slice(0),rotation:v,id:b,deleted:!1,popupRef:A}}const u=await super.deserialize(e,s,r);return E(u,wi,e.fontSize),E(u,ms,vt.makeHexColor(...e.color)),E(u,Si,x(d=Ae,ir,u0).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=l,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ae._internalPadding*this.parentScale,r=this.getRect(s,s),l=oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,ms)),u={annotationType:Nt.FREETEXT,color:l,fontSize:h(this,wi),value:x(this,We,Z1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!x(this,We,J1).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,wi)}px * var(--scale-factor))`,r.color=h(this,ms),s.replaceChildren();for(const u of h(this,Si).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const l=Ae._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:h(this,Si)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ms=new WeakMap,Si=new WeakMap,xf=new WeakMap,Mo=new WeakMap,wi=new WeakMap,We=new WeakSet,W1=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-h(this,wi))*this.parentScale),E(this,wi,l),x(this,We,Pg).call(this)},r=h(this,wi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},K1=function(e){const s=l=>{E(this,ms,this.editorDiv.style.color=l)},r=h(this,ms);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(x(r=Ae,ir,jg).call(r,l)),s=l);return e.join(`
`)},Pg=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",l.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},ir=new WeakSet,jg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(mg,"")},Fg=function(){if(this.editorDiv.replaceChildren(),!!h(this,Si))for(const e of h(this,Si).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},Z1=function(){return h(this,Si).replaceAll(""," ")},u0=function(e){return e.replaceAll(" ","")},J1=function(e){const{value:s,fontSize:r,color:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,f)=>d!==l[f])||e.pageIndex!==u},R(Ae,ir),Rt(Ae,"_freeTextDefaultContent",""),Rt(Ae,"_internalPadding",0),Rt(Ae,"_defaultColor",null),Rt(Ae,"_defaultFontSize",10),Rt(Ae,"_type","freetext"),Rt(Ae,"_editorType",Nt.FREETEXT);let c0=Ae;class tT{toSVGPath(){Se("Abstract method `toSVGPath` must be implemented.")}get box(){Se("Abstract getter `box` must be implemented.")}serialize(t,e){Se("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Se("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Se("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ei,ys,Du,ku,Xs,Ht,Lo,Oo,Tf,Cf,Nu,Pu,nl,Rf,Sm,wm,an,pd,eT,nT,iT,sT,aT,rT;const Ra=class Ra{constructor({x:t,y:e},s,r,l,u,d=0){R(this,an);R(this,Ei);R(this,ys,[]);R(this,Du);R(this,ku);R(this,Xs,[]);R(this,Ht,new Float64Array(18));R(this,Lo);R(this,Oo);R(this,Tf);R(this,Cf);R(this,Nu);R(this,Pu);R(this,nl,[]);E(this,Ei,s),E(this,Pu,l*r),E(this,ku,u),h(this,Ht).set([NaN,NaN,NaN,NaN,t,e],6),E(this,Du,d),E(this,Cf,h(Ra,Rf)*r),E(this,Tf,h(Ra,wm)*r),E(this,Nu,r),h(this,nl).push(t,e)}isEmpty(){return isNaN(h(this,Ht)[8])}add({x:t,y:e}){var tt;E(this,Lo,t),E(this,Oo,e);const[s,r,l,u]=h(this,Ei);let[d,f,p,m]=h(this,Ht).subarray(8,12);const v=t-p,b=e-m,A=Math.hypot(v,b);if(A<h(this,Tf))return!1;const S=A-h(this,Cf),_=S/A,M=_*v,T=_*b;let L=d,k=f;d=p,f=m,p+=M,m+=T,(tt=h(this,nl))==null||tt.push(t,e);const j=-T/S,F=M/S,B=j*h(this,Pu),q=F*h(this,Pu);return h(this,Ht).set(h(this,Ht).subarray(2,8),0),h(this,Ht).set([p+B,m+q],4),h(this,Ht).set(h(this,Ht).subarray(14,18),12),h(this,Ht).set([p-B,m-q],16),isNaN(h(this,Ht)[6])?(h(this,Xs).length===0&&(h(this,Ht).set([d+B,f+q],2),h(this,Xs).push(NaN,NaN,NaN,NaN,(d+B-s)/l,(f+q-r)/u),h(this,Ht).set([d-B,f-q],14),h(this,ys).push(NaN,NaN,NaN,NaN,(d-B-s)/l,(f-q-r)/u)),h(this,Ht).set([L,k,d,f,p,m],6),!this.isEmpty()):(h(this,Ht).set([L,k,d,f,p,m],6),Math.abs(Math.atan2(k-f,L-d)-Math.atan2(T,M))<Math.PI/2?([d,f,p,m]=h(this,Ht).subarray(2,6),h(this,Xs).push(NaN,NaN,NaN,NaN,((d+p)/2-s)/l,((f+m)/2-r)/u),[d,f,L,k]=h(this,Ht).subarray(14,18),h(this,ys).push(NaN,NaN,NaN,NaN,((L+d)/2-s)/l,((k+f)/2-r)/u),!0):([L,k,d,f,p,m]=h(this,Ht).subarray(0,6),h(this,Xs).push(((L+5*d)/6-s)/l,((k+5*f)/6-r)/u,((5*d+p)/6-s)/l,((5*f+m)/6-r)/u,((d+p)/2-s)/l,((f+m)/2-r)/u),[p,m,d,f,L,k]=h(this,Ht).subarray(12,18),h(this,ys).push(((L+5*d)/6-s)/l,((k+5*f)/6-r)/u,((5*d+p)/6-s)/l,((5*f+m)/6-r)/u,((d+p)/2-s)/l,((f+m)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,Xs),e=h(this,ys);if(isNaN(h(this,Ht)[6])&&!this.isEmpty())return x(this,an,eT).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);x(this,an,iT).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return x(this,an,nT).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,l,u){return new lT(t,e,s,r,l,u)}getOutlines(){var v;const t=h(this,Xs),e=h(this,ys),s=h(this,Ht),[r,l,u,d]=h(this,Ei),f=new Float64Array((((v=h(this,nl))==null?void 0:v.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(h(this,nl)[b]-r)/u,f[b+1]=(h(this,nl)[b+1]-l)/d;if(f[f.length-2]=(h(this,Lo)-r)/u,f[f.length-1]=(h(this,Oo)-l)/d,isNaN(s[6])&&!this.isEmpty())return x(this,an,sT).call(this,f);const p=new Float64Array(h(this,Xs).length+24+h(this,ys).length);let m=t.length;for(let b=0;b<m;b+=2){if(isNaN(t[b])){p[b]=p[b+1]=NaN;continue}p[b]=t[b],p[b+1]=t[b+1]}m=x(this,an,rT).call(this,p,m);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[b+A],p[m+1]=e[b+A+1],m+=2}return x(this,an,aT).call(this,p,m),this.newFreeDrawOutline(p,f,h(this,Ei),h(this,Nu),h(this,Du),h(this,ku))}};Ei=new WeakMap,ys=new WeakMap,Du=new WeakMap,ku=new WeakMap,Xs=new WeakMap,Ht=new WeakMap,Lo=new WeakMap,Oo=new WeakMap,Tf=new WeakMap,Cf=new WeakMap,Nu=new WeakMap,Pu=new WeakMap,nl=new WeakMap,Rf=new WeakMap,Sm=new WeakMap,wm=new WeakMap,an=new WeakSet,pd=function(){const t=h(this,Ht).subarray(4,6),e=h(this,Ht).subarray(16,18),[s,r,l,u]=h(this,Ei);return[(h(this,Lo)+(t[0]-e[0])/2-s)/l,(h(this,Oo)+(t[1]-e[1])/2-r)/u,(h(this,Lo)+(e[0]-t[0])/2-s)/l,(h(this,Oo)+(e[1]-t[1])/2-r)/u]},eT=function(){const[t,e,s,r]=h(this,Ei),[l,u,d,f]=x(this,an,pd).call(this);return`M${(h(this,Ht)[2]-t)/s} ${(h(this,Ht)[3]-e)/r} L${(h(this,Ht)[4]-t)/s} ${(h(this,Ht)[5]-e)/r} L${l} ${u} L${d} ${f} L${(h(this,Ht)[16]-t)/s} ${(h(this,Ht)[17]-e)/r} L${(h(this,Ht)[14]-t)/s} ${(h(this,Ht)[15]-e)/r} Z`},nT=function(t){const e=h(this,ys);t.push(`L${e[4]} ${e[5]} Z`)},iT=function(t){const[e,s,r,l]=h(this,Ei),u=h(this,Ht).subarray(4,6),d=h(this,Ht).subarray(16,18),[f,p,m,v]=x(this,an,pd).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/l} L${f} ${p} L${m} ${v} L${(d[0]-e)/r} ${(d[1]-s)/l}`)},sT=function(t){const e=h(this,Ht),[s,r,l,u]=h(this,Ei),[d,f,p,m]=x(this,an,pd).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-r)/u],0),this.newFreeDrawOutline(v,t,h(this,Ei),h(this,Nu),h(this,Du),h(this,ku))},aT=function(t,e){const s=h(this,ys);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},rT=function(t,e){const s=h(this,Ht).subarray(4,6),r=h(this,Ht).subarray(16,18),[l,u,d,f]=h(this,Ei),[p,m,v,b]=x(this,an,pd).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-u)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-u)/f],e),e+=24},R(Ra,Rf,8),R(Ra,Sm,2),R(Ra,wm,h(Ra,Rf)+h(Ra,Sm));let im=Ra;var ju,Do,Ga,Mf,_i,Lf,Ge,oi,gd,md,oT;class lT extends tT{constructor(e,s,r,l,u,d){super();R(this,oi);R(this,ju);R(this,Do,null);R(this,Ga);R(this,Mf);R(this,_i);R(this,Lf);R(this,Ge);E(this,Ge,e),E(this,_i,s),E(this,ju,r),E(this,Lf,l),E(this,Ga,u),E(this,Mf,d),x(this,oi,oT).call(this,d);const{x:f,y:p,width:m,height:v}=h(this,Do);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/m,e[b+1]=(e[b+1]-p)/v;for(let b=0,A=s.length;b<A;b+=2)s[b]=(s[b]-f)/m,s[b+1]=(s[b+1]-p)/v}toSVGPath(){const e=[`M${h(this,Ge)[4]} ${h(this,Ge)[5]}`];for(let s=6,r=h(this,Ge).length;s<r;s+=6){if(isNaN(h(this,Ge)[s])){e.push(`L${h(this,Ge)[s+4]} ${h(this,Ge)[s+5]}`);continue}e.push(`C${h(this,Ge)[s]} ${h(this,Ge)[s+1]} ${h(this,Ge)[s+2]} ${h(this,Ge)[s+3]} ${h(this,Ge)[s+4]} ${h(this,Ge)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,l],u){const d=r-e,f=l-s;let p,m;switch(u){case 0:p=x(this,oi,gd).call(this,h(this,Ge),e,l,d,-f),m=x(this,oi,gd).call(this,h(this,_i),e,l,d,-f);break;case 90:p=x(this,oi,md).call(this,h(this,Ge),e,s,d,f),m=x(this,oi,md).call(this,h(this,_i),e,s,d,f);break;case 180:p=x(this,oi,gd).call(this,h(this,Ge),r,s,-d,f),m=x(this,oi,gd).call(this,h(this,_i),r,s,-d,f);break;case 270:p=x(this,oi,md).call(this,h(this,Ge),r,l,-d,-f),m=x(this,oi,md).call(this,h(this,_i),r,l,-d,-f);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return h(this,Do)}newOutliner(e,s,r,l,u,d=0){return new im(e,s,r,l,u,d)}getNewOutline(e,s){const{x:r,y:l,width:u,height:d}=h(this,Do),[f,p,m,v]=h(this,ju),b=u*m,A=d*v,S=r*m+f,_=l*v+p,M=this.newOutliner({x:h(this,_i)[0]*b+S,y:h(this,_i)[1]*A+_},h(this,ju),h(this,Lf),e,h(this,Mf),s??h(this,Ga));for(let T=2;T<h(this,_i).length;T+=2)M.add({x:h(this,_i)[T]*b+S,y:h(this,_i)[T+1]*A+_});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ju=new WeakMap,Do=new WeakMap,Ga=new WeakMap,Mf=new WeakMap,_i=new WeakMap,Lf=new WeakMap,Ge=new WeakMap,oi=new WeakSet,gd=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=s+e[f]*l,d[f+1]=r+e[f+1]*u;return d},md=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=s+e[f+1]*l,d[f+1]=r+e[f]*u;return d},oT=function(e){const s=h(this,Ge);let r=s[4],l=s[5],u=r,d=l,f=r,p=l,m=r,v=l;const b=e?Math.max:Math.min;for(let T=6,L=s.length;T<L;T+=6){if(isNaN(s[T]))u=Math.min(u,s[T+4]),d=Math.min(d,s[T+5]),f=Math.max(f,s[T+4]),p=Math.max(p,s[T+5]),v<s[T+5]?(m=s[T+4],v=s[T+5]):v===s[T+5]&&(m=b(m,s[T+4]));else{const k=vt.bezierBoundingBox(r,l,...s.slice(T,T+6));u=Math.min(u,k[0]),d=Math.min(d,k[1]),f=Math.max(f,k[2]),p=Math.max(p,k[3]),v<k[3]?(m=k[2],v=k[3]):v===k[3]&&(m=b(m,k[2]))}r=s[T+4],l=s[T+5]}const A=u-h(this,Ga),S=d-h(this,Ga),_=f-u+2*h(this,Ga),M=p-d+2*h(this,Ga);E(this,Do,{x:A,y:S,width:_,height:M,lastPoint:[m,v]})};var Of,il,vs,Wn,cT,zg,uT,hT,h0;class X_{constructor(t,e=0,s=0,r=!0){R(this,Wn);R(this,Of);R(this,il,[]);R(this,vs,[]);let l=1/0,u=-1/0,d=1/0,f=-1/0;const p=10**-4;for(const{x:M,y:T,width:L,height:k}of t){const j=Math.floor((M-e)/p)*p,F=Math.ceil((M+L+e)/p)*p,B=Math.floor((T-e)/p)*p,q=Math.ceil((T+k+e)/p)*p,W=[j,B,q,!0],tt=[F,B,q,!1];h(this,il).push(W,tt),l=Math.min(l,j),u=Math.max(u,F),d=Math.min(d,B),f=Math.max(f,q)}const m=u-l+2*s,v=f-d+2*s,b=l-s,A=d-s,S=h(this,il).at(r?-1:-2),_=[S[0],S[2]];for(const M of h(this,il)){const[T,L,k]=M;M[0]=(T-b)/m,M[1]=(L-A)/v,M[2]=(k-A)/v}E(this,Of,{x:b,y:A,width:m,height:v,lastPoint:_})}getOutlines(){h(this,il).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,il))e[3]?(t.push(...x(this,Wn,h0).call(this,e)),x(this,Wn,uT).call(this,e)):(x(this,Wn,hT).call(this,e),t.push(...x(this,Wn,h0).call(this,e)));return x(this,Wn,cT).call(this,t)}}Of=new WeakMap,il=new WeakMap,vs=new WeakMap,Wn=new WeakSet,cT=function(t){const e=[],s=new Set;for(const u of t){const[d,f,p]=u;e.push([d,f,u],[d,p,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],p=e[u+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let l;for(;s.size>0;){const u=s.values().next().value;let[d,f,p,m,v]=u;s.delete(u);let b=d,A=f;for(l=[d,p],r.push(l);;){let S;if(s.has(m))S=m;else if(s.has(v))S=v;else break;s.delete(S),[d,f,p,m,v]=S,b!==d&&(l.push(b,A,d,A===f?f:p),b=d),A=A===f?p:f}l.push(b,A)}return new nk(r,h(this,Of))},zg=function(t){const e=h(this,vs);let s=0,r=e.length-1;for(;s<=r;){const l=s+r>>1,u=e[l][0];if(u===t)return l;u<t?s=l+1:r=l-1}return r+1},uT=function([,t,e]){const s=x(this,Wn,zg).call(this,t);h(this,vs).splice(s,0,[t,e])},hT=function([,t,e]){const s=x(this,Wn,zg).call(this,t);for(let r=s;r<h(this,vs).length;r++){const[l,u]=h(this,vs)[r];if(l!==t)break;if(l===t&&u===e){h(this,vs).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,u]=h(this,vs)[r];if(l!==t)break;if(l===t&&u===e){h(this,vs).splice(r,1);return}}},h0=function(t){const[e,s,r]=t,l=[[e,s,r]],u=x(this,Wn,zg).call(this,r);for(let d=0;d<u;d++){const[f,p]=h(this,vs)[d];for(let m=0,v=l.length;m<v;m++){const[,b,A]=l[m];if(!(p<=b||A<=f)){if(b>=f){if(A>p)l[m][1]=p;else{if(v===1)return[];l.splice(m,1),m--,v--}continue}l[m][2]=f,A>p&&l.push([e,p,A])}}}return l};var Df,Fu;class nk extends tT{constructor(e,s){super();R(this,Df);R(this,Fu);E(this,Fu,e),E(this,Df,s)}toSVGPath(){const e=[];for(const s of h(this,Fu)){let[r,l]=s;e.push(`M${r} ${l}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,l],u){const d=[],f=r-e,p=l-s;for(const m of h(this,Fu)){const v=new Array(m.length);for(let b=0;b<m.length;b+=2)v[b]=e+m[b]*f,v[b+1]=l-m[b+1]*p;d.push(v)}return d}get box(){return h(this,Df)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Df=new WeakMap,Fu=new WeakMap;class d0 extends im{newFreeDrawOutline(t,e,s,r,l,u){return new ik(t,e,s,r,l,u)}get classNamesForDrawing(){return["highlight","free"]}}class ik extends lT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,l,u=0){return new d0(t,e,s,r,l,u)}}var bs,ko,zu,en,kf,Hu,Nf,Pf,sl,As,Iu,jf,pe,f0,p0,g0,Ul,dT,jr;const ni=class ni{constructor({editor:t=null,uiManager:e=null}){R(this,pe);R(this,bs,null);R(this,ko,null);R(this,zu);R(this,en,null);R(this,kf,!1);R(this,Hu,!1);R(this,Nf,null);R(this,Pf);R(this,sl,null);R(this,As,null);R(this,Iu);var s;t?(E(this,Hu,!1),E(this,Iu,Mt.HIGHLIGHT_COLOR),E(this,Nf,t)):(E(this,Hu,!0),E(this,Iu,Mt.HIGHLIGHT_DEFAULT_COLOR)),E(this,As,(t==null?void 0:t._uiManager)||e),E(this,Pf,h(this,As)._eventBus),E(this,zu,(t==null?void 0:t.color)||((s=h(this,As))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(ni,jf)||E(ni,jf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yt(this,"_keyboardManager",new Qf([[["Escape","mac+Escape"],ni.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ni.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ni.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ni.prototype._moveToPrevious],[["Home","mac+Home"],ni.prototype._moveToBeginning],[["End","mac+End"],ni.prototype._moveToEnd]]))}renderButton(){const t=E(this,bs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,As)._signal;t.addEventListener("click",x(this,pe,Ul).bind(this),{signal:e}),t.addEventListener("keydown",x(this,pe,g0).bind(this),{signal:e});const s=E(this,ko,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,zu),t.append(s),t}renderMainDropdown(){const t=E(this,en,x(this,pe,f0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,bs)){x(this,pe,Ul).call(this,t);return}const e=t.target.getAttribute("data-color");e&&x(this,pe,p0).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,pe,jr)){x(this,pe,Ul).call(this,t);return}if(t.target===h(this,bs)){(e=h(this,en).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,en))==null?void 0:e.firstChild)||t.target===h(this,bs)){h(this,pe,jr)&&this._hideDropdownFromKeyboard();return}h(this,pe,jr)||x(this,pe,Ul).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,pe,jr)){x(this,pe,Ul).call(this,t);return}(e=h(this,en).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,pe,jr)){x(this,pe,Ul).call(this,t);return}(e=h(this,en).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,en))==null||t.classList.add("hidden"),(e=h(this,sl))==null||e.abort(),E(this,sl,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Hu)){if(!h(this,pe,jr)){(t=h(this,Nf))==null||t.unselect();return}this.hideDropdown(),h(this,bs).focus({preventScroll:!0,focusVisible:h(this,kf)})}}updateColor(t){if(h(this,ko)&&(h(this,ko).style.backgroundColor=t),!h(this,en))return;const e=h(this,As).highlightColors.values();for(const s of h(this,en).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,bs))==null||t.remove(),E(this,bs,null),E(this,ko,null),(e=h(this,en))==null||e.remove(),E(this,en,null)}};bs=new WeakMap,ko=new WeakMap,zu=new WeakMap,en=new WeakMap,kf=new WeakMap,Hu=new WeakMap,Nf=new WeakMap,Pf=new WeakMap,sl=new WeakMap,As=new WeakMap,Iu=new WeakMap,jf=new WeakMap,pe=new WeakSet,f0=function(){const t=document.createElement("div"),e=h(this,As)._signal;t.addEventListener("contextmenu",ns,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,As).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",h(ni,jf)[s]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=r,l.setAttribute("aria-selected",r===h(this,zu)),l.addEventListener("click",x(this,pe,p0).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",x(this,pe,g0).bind(this),{signal:e}),t},p0=function(t,e){e.stopPropagation(),h(this,Pf).dispatch("switchannotationeditorparams",{source:this,type:h(this,Iu),value:t})},g0=function(t){ni._keyboardManager.exec(this,t)},Ul=function(t){if(h(this,pe,jr)){this.hideDropdown();return}if(E(this,kf,t.detail===0),h(this,sl)||(E(this,sl,new AbortController),window.addEventListener("pointerdown",x(this,pe,dT).bind(this),{signal:h(this,As).combinedSignal(h(this,sl))})),h(this,en)){h(this,en).classList.remove("hidden");return}const e=E(this,en,x(this,pe,f0).call(this));h(this,bs).append(e)},dT=function(t){var e;(e=h(this,en))!=null&&e.contains(t.target)||this.hideDropdown()},jr=function(){return h(this,en)&&!h(this,en).classList.contains("hidden")},R(ni,jf,null);let sm=ni;var Bu,Ff,qa,No,Uu,Ki,zf,Hf,Po,Ss,Pn,ai,Gu,Va,nn,qu,Qi,If,Ot,m0,Hg,fT,pT,gT,y0,Gl,ts,Vc,mT,Ig,yd,yT,vT,bT,AT,ST;const ee=class ee extends oe{constructor(e){super({...e,name:"highlightEditor"});R(this,Ot);R(this,Bu,null);R(this,Ff,0);R(this,qa);R(this,No,null);R(this,Uu,null);R(this,Ki,null);R(this,zf,null);R(this,Hf,0);R(this,Po,null);R(this,Ss,null);R(this,Pn,null);R(this,ai,!1);R(this,Gu,null);R(this,Va);R(this,nn,null);R(this,qu,"");R(this,Qi);R(this,If,"");this.color=e.color||ee._defaultColor,E(this,Qi,e.thickness||ee._defaultThickness),E(this,Va,e.opacity||ee._defaultOpacity),E(this,qa,e.boxes||null),E(this,If,e.methodOfCreation||""),E(this,qu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,ai,!0),x(this,Ot,Hg).call(this,e),x(this,Ot,Gl).call(this)):h(this,qa)&&(E(this,Bu,e.anchorNode),E(this,Ff,e.anchorOffset),E(this,zf,e.focusNode),E(this,Hf,e.focusOffset),x(this,Ot,m0).call(this),x(this,Ot,Gl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=ee.prototype;return Yt(this,"_keyboardManager",new Qf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,ai)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Qi),methodOfCreation:h(this,If)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;oe.initialize(e,s),ee._defaultColor||(ee._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Mt.HIGHLIGHT_DEFAULT_COLOR:ee._defaultColor=s;break;case Mt.HIGHLIGHT_THICKNESS:ee._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,Gu)}updateParams(e,s){switch(e){case Mt.HIGHLIGHT_COLOR:x(this,Ot,fT).call(this,s);break;case Mt.HIGHLIGHT_THICKNESS:x(this,Ot,pT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,ee._defaultColor],[Mt.HIGHLIGHT_THICKNESS,ee._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||ee._defaultColor],[Mt.HIGHLIGHT_THICKNESS,h(this,Qi)||ee._defaultThickness],[Mt.HIGHLIGHT_FREE,h(this,ai)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,Uu,new sm({editor:this})),e.addColorPicker(h(this,Uu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Ot,yd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,x(this,Ot,yd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Ot,y0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Ot,Gl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?x(this,Ot,y0).call(this):e&&(x(this,Ot,Gl).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,u,d;const{drawLayer:s}=this.parent;let r;h(this,ai)?(e=(e-this.rotation+360)%360,r=x(l=ee,ts,Vc).call(l,h(this,Ss).box,e)):r=x(u=ee,ts,Vc).call(u,this,e),s.rotate(h(this,Pn),e),s.rotate(h(this,nn),e),s.updateBox(h(this,Pn),r),s.updateBox(h(this,nn),x(d=ee,ts,Vc).call(d,h(this,Ki).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,qu)&&(e.setAttribute("aria-label",h(this,qu)),e.setAttribute("role","mark")),h(this,ai)?e.classList.add("free"):this.div.addEventListener("keydown",x(this,Ot,mT).bind(this),{signal:this._uiManager._signal});const s=E(this,Po,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,No);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),em(this,h(this,Po),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,nn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,nn),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:x(this,Ot,Ig).call(this,!0);break;case 1:case 3:x(this,Ot,Ig).call(this,!1);break}}select(){var e,s;super.select(),h(this,nn)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,nn),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,nn),"selected"))}unselect(){var e;super.unselect(),h(this,nn)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,nn),"selected"),h(this,ai)||x(this,Ot,Ig).call(this,!1))}get _mustFixPosition(){return!h(this,ai)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,Pn),e),this.parent.drawLayer.show(h(this,nn),e))}static startHighlighting(e,s,{target:r,x:l,y:u}){const{x:d,y:f,width:p,height:m}=r.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),A=_=>{_.preventDefault(),_.stopPropagation()},S=_=>{v.abort(),x(this,ts,AT).call(this,e,_)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ns,{signal:b}),r.addEventListener("pointermove",x(this,ts,bT).bind(this,e),{signal:b}),this._freeHighlight=new d0({x:l,y:u},[d,f,p,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var _,M,T,L;let l=null;if(e instanceof X1){const{data:{quadPoints:k,rect:j,rotation:F,id:B,color:q,opacity:W,popupRef:tt},parent:{page:{pageNumber:it}}}=e;l=e={annotationType:Nt.HIGHLIGHT,color:Array.from(q),opacity:W,quadPoints:k,boxes:null,pageIndex:it-1,rect:j.slice(0),rotation:F,id:B,deleted:!1,popupRef:tt}}else if(e instanceof uA){const{data:{inkLists:k,rect:j,rotation:F,id:B,color:q,borderStyle:{rawWidth:W},popupRef:tt},parent:{page:{pageNumber:it}}}=e;l=e={annotationType:Nt.HIGHLIGHT,color:Array.from(q),thickness:W,inkLists:k,boxes:null,pageIndex:it-1,rect:j.slice(0),rotation:F,id:B,deleted:!1,popupRef:tt}}const{color:u,quadPoints:d,inkLists:f,opacity:p}=e,m=await super.deserialize(e,s,r);m.color=vt.makeHexColor(...u),E(m,Va,p||1),f&&E(m,Qi,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[v,b]=m.pageDimensions,[A,S]=m.pageTranslation;if(d){const k=E(m,qa,[]);for(let j=0;j<d.length;j+=8)k.push({x:(d[j]-A)/v,y:1-(d[j+1]-S)/b,width:(d[j+2]-d[j])/v,height:(d[j+1]-d[j+5])/b});x(_=m,Ot,m0).call(_),x(M=m,Ot,Gl).call(M),m.rotate(m.rotation)}else if(f){E(m,ai,!0);const k=f[0],j={x:k[0]-A,y:b-(k[1]-S)},F=new d0(j,[0,0,v,b],1,h(m,Qi)/2,!0,.001);for(let W=0,tt=k.length;W<tt;W+=2)j.x=k[W]-A,j.y=b-(k[W+1]-S),F.add(j);const{id:B,clipPathId:q}=s.drawLayer.draw(F,m.color,m._defaultOpacity,!0);x(T=m,Ot,Hg).call(T,{highlightOutlines:F.getOutlines(),highlightId:B,clipPathId:q}),x(L=m,Ot,Gl).call(L)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=oe._colorManager.convert(this.color),l={annotationType:Nt.HIGHLIGHT,color:r,opacity:h(this,Va),thickness:h(this,Qi),quadPoints:x(this,Ot,yT).call(this),outlines:x(this,Ot,vT).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:x(this,Ot,yd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Ot,ST).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Bu=new WeakMap,Ff=new WeakMap,qa=new WeakMap,No=new WeakMap,Uu=new WeakMap,Ki=new WeakMap,zf=new WeakMap,Hf=new WeakMap,Po=new WeakMap,Ss=new WeakMap,Pn=new WeakMap,ai=new WeakMap,Gu=new WeakMap,Va=new WeakMap,nn=new WeakMap,qu=new WeakMap,Qi=new WeakMap,If=new WeakMap,Ot=new WeakSet,m0=function(){const e=new X_(h(this,qa),.001);E(this,Ss,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Ss).box;const s=new X_(h(this,qa),.0025,.001,this._uiManager.direction==="ltr");E(this,Ki,s.getOutlines());const{lastPoint:r}=h(this,Ki).box;E(this,Gu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Hg=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var v,b;if(E(this,Ss,e),E(this,Ki,e.getNewOutline(h(this,Qi)/2+1.5,.0025)),s>=0)E(this,Pn,s),E(this,No,r),this.parent.drawLayer.finalizeLine(s,e),E(this,nn,this.parent.drawLayer.drawOutline(h(this,Ki)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,Pn),e),this.parent.drawLayer.updateBox(h(this,Pn),x(v=ee,ts,Vc).call(v,h(this,Ss).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,nn),h(this,Ki)),this.parent.drawLayer.updateBox(h(this,nn),x(b=ee,ts,Vc).call(b,h(this,Ki).box,A))}const{x:u,y:d,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*S/A,this.height=p*A/S;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*S/A,this.height=p*A/S;break}}const{lastPoint:m}=h(this,Ki).box;E(this,Gu,[(m[0]-u)/f,(m[1]-d)/p])},fT=function(e){const s=(u,d)=>{var f,p,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,Pn),u),(p=h(this,Uu))==null||p.updateColor(u),E(this,Va,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,Pn),d)},r=this.color,l=h(this,Va);this.addCommands({cmd:s.bind(this,e,ee._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},pT=function(e){const s=h(this,Qi),r=l=>{E(this,Qi,l),x(this,Ot,gT).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},gT=function(e){if(!h(this,ai))return;x(this,Ot,Hg).call(this,{highlightOutlines:h(this,Ss).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},y0=function(){h(this,Pn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Pn)),E(this,Pn,null),this.parent.drawLayer.remove(h(this,nn)),E(this,nn,null))},Gl=function(e=this.parent){h(this,Pn)===null&&({id:Gn(this,Pn)._,clipPathId:Gn(this,No)._}=e.drawLayer.draw(h(this,Ss),this.color,h(this,Va)),E(this,nn,e.drawLayer.drawOutline(h(this,Ki))),h(this,Po)&&(h(this,Po).style.clipPath=h(this,No)))},ts=new WeakSet,Vc=function({x:e,y:s,width:r,height:l},u){switch(u){case 90:return{x:1-s-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-s-l,width:r,height:l};case 270:return{x:s,y:1-e-r,width:l,height:r}}return{x:e,y:s,width:r,height:l}},mT=function(e){ee._keyboardManager.exec(this,e)},Ig=function(e){if(!h(this,Bu))return;const s=window.getSelection();e?s.setPosition(h(this,Bu),h(this,Ff)):s.setPosition(h(this,zf),h(this,Hf))},yd=function(){return h(this,ai)?this.rotation:0},yT=function(){if(h(this,ai))return null;const[e,s]=this.pageDimensions,[r,l]=this.pageTranslation,u=h(this,qa),d=new Float32Array(u.length*8);let f=0;for(const{x:p,y:m,width:v,height:b}of u){const A=p*e+r,S=(1-m-b)*s+l;d[f]=d[f+4]=A,d[f+1]=d[f+3]=S,d[f+2]=d[f+6]=A+v*e,d[f+5]=d[f+7]=S+b*s,f+=8}return d},vT=function(e){return h(this,Ss).serialize(e,x(this,Ot,yd).call(this))},bT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},AT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ST=function(e){const{color:s}=this._initialData;return e.color.some((r,l)=>r!==s[l])},R(ee,ts),Rt(ee,"_defaultColor",null),Rt(ee,"_defaultOpacity",1),Rt(ee,"_defaultThickness",12),Rt(ee,"_type","highlight"),Rt(ee,"_editorType",Nt.HIGHLIGHT),Rt(ee,"_freeHighlightId",-1),Rt(ee,"_freeHighlight",null),Rt(ee,"_freeHighlightClipId","");let am=ee;var jo,Fo,Ys,Xa,Zi,zo,Ho,Io,Ya,Vu,Bo,Uo,al,lt,wT,ET,_T,xT,b0,TT,A0,CT,RT,MT,LT,OT,ql,S0,w0,E0,Bg,Ug,Xc,_0,Gg,rr,DT,x0,kT,NT,T0,qg,vd;const Te=class Te extends oe{constructor(e){super({...e,name:"inkEditor"});R(this,lt);R(this,jo,0);R(this,Fo,0);R(this,Ys,null);R(this,Xa,new Path2D);R(this,Zi,!1);R(this,zo,null);R(this,Ho,!1);R(this,Io,!1);R(this,Ya,null);R(this,Vu,null);R(this,Bo,0);R(this,Uo,0);R(this,al,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){oe.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Mt.INK_THICKNESS:Te._defaultThickness=s;break;case Mt.INK_COLOR:Te._defaultColor=s;break;case Mt.INK_OPACITY:Te._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Mt.INK_THICKNESS:x(this,lt,wT).call(this,s);break;case Mt.INK_COLOR:x(this,lt,ET).call(this,s);break;case Mt.INK_OPACITY:x(this,lt,_T).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.INK_THICKNESS,Te._defaultThickness],[Mt.INK_COLOR,Te._defaultColor||oe._defaultLineColor],[Mt.INK_OPACITY,Math.round(Te._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Mt.INK_THICKNESS,this.thickness||Te._defaultThickness],[Mt.INK_COLOR,this.color||Te._defaultColor||oe._defaultLineColor],[Mt.INK_OPACITY,Math.round(100*(this.opacity??Te._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,lt,Bg).call(this),x(this,lt,Ug).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,lt,Xc).call(this)),x(this,lt,vd).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,Ys)&&(clearTimeout(h(this,Ys)),E(this,Ys,null)),(e=h(this,Ya))==null||e.disconnect(),E(this,Ya,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,l=this.height*s;this.setDimensions(r,l)}enableEditMode(){h(this,Zi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,lt,S0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,lt,w0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Zi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Zi,!0),this.div.classList.add("disabled"),x(this,lt,vd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Zi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,lt,TT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),x(this,lt,A0).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),x(this,lt,E0).call(this,e)}canvasPointerleave(e){x(this,lt,E0).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Zi)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,u,d]=x(this,lt,xT).call(this);if(this.setAt(r,l,0,0),this.setDims(u,d),x(this,lt,Bg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,s*p,this.width*f,this.height*p),E(this,Io,!0),x(this,lt,Xc).call(this),this.setDims(this.width*f,this.height*p),x(this,lt,ql).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,lt,Ug).call(this),this.div}setDimensions(e,s){const r=Math.round(e),l=Math.round(s);if(h(this,Bo)===r&&h(this,Uo)===l)return;E(this,Bo,r),E(this,Uo,l),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=s/d,this.fixAndSetPosition(),h(this,Zi)&&x(this,lt,_0).call(this,e,s),x(this,lt,Xc).call(this),x(this,lt,ql).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,T,L;if(e instanceof uA)return null;const l=await super.deserialize(e,s,r);l.thickness=e.thickness,l.color=vt.makeHexColor(...e.color),l.opacity=e.opacity;const[u,d]=l.pageDimensions,f=l.width*u,p=l.height*d,m=l.parentScale,v=e.thickness/2;E(l,Zi,!0),E(l,Bo,Math.round(f)),E(l,Uo,Math.round(p));const{paths:b,rect:A,rotation:S}=e;for(let{bezier:k}of b){k=x(M=Te,rr,kT).call(M,k,A,S);const j=[];l.paths.push(j);let F=m*(k[0]-v),B=m*(k[1]-v);for(let W=2,tt=k.length;W<tt;W+=6){const it=m*(k[W]-v),st=m*(k[W+1]-v),ft=m*(k[W+2]-v),pt=m*(k[W+3]-v),rt=m*(k[W+4]-v),ct=m*(k[W+5]-v);j.push([[F,B],[it,st],[ft,pt],[rt,ct]]),F=rt,B=ct}const q=x(this,rr,DT).call(this,j);l.bezierPath2D.push(q)}const _=x(T=l,lt,T0).call(T);return E(l,Fo,Math.max(oe.MIN_SIZE,_[2]-_[0])),E(l,jo,Math.max(oe.MIN_SIZE,_[3]-_[1])),x(L=l,lt,_0).call(L,f,p),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=oe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:x(this,lt,NT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};jo=new WeakMap,Fo=new WeakMap,Ys=new WeakMap,Xa=new WeakMap,Zi=new WeakMap,zo=new WeakMap,Ho=new WeakMap,Io=new WeakMap,Ya=new WeakMap,Vu=new WeakMap,Bo=new WeakMap,Uo=new WeakMap,al=new WeakMap,lt=new WeakSet,wT=function(e){const s=l=>{this.thickness=l,x(this,lt,vd).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ET=function(e){const s=l=>{this.color=l,x(this,lt,ql).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_T=function(e){const s=l=>{this.opacity=l,x(this,lt,ql).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},b0=function(){const{ctx:e,color:s,opacity:r,thickness:l,parentScale:u,scaleFactor:d}=this;e.lineWidth=l*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${xO(r)}`},TT=function(e,s){this.canvas.addEventListener("contextmenu",ns,{signal:this._uiManager._signal}),x(this,lt,w0).call(this),E(this,zo,new AbortController);const r=this._uiManager.combinedSignal(h(this,zo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Io)||(E(this,Io,!0),x(this,lt,Xc).call(this),this.thickness||(this.thickness=Te._defaultThickness),this.color||(this.color=Te._defaultColor||oe._defaultLineColor),this.opacity??(this.opacity=Te._defaultOpacity)),this.currentPath.push([e,s]),E(this,Ho,!1),x(this,lt,b0).call(this),E(this,al,()=>{x(this,lt,MT).call(this),h(this,al)&&window.requestAnimationFrame(h(this,al))}),window.requestAnimationFrame(h(this,al))},A0=function(e,s){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===l)return;const u=this.currentPath;let d=h(this,Xa);if(u.push([e,s]),E(this,Ho,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,s);return}u.length===3&&(E(this,Xa,d=new Path2D),d.moveTo(...u[0])),x(this,lt,LT).call(this,d,...u.at(-3),...u.at(-2),e,s)},CT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,Xa).lineTo(...e)},RT=function(e,s){E(this,al,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),x(this,lt,A0).call(this,e,s),x(this,lt,CT).call(this);let r;if(this.currentPath.length!==1)r=x(this,lt,OT).call(this);else{const p=[e,s];r=[[p,p.slice(),p.slice(),p]]}const l=h(this,Xa),u=this.currentPath;this.currentPath=[],E(this,Xa,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,lt,Bg).call(this),x(this,lt,Ug).call(this)),x(this,lt,vd).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},MT=function(){if(!h(this,Ho))return;E(this,Ho,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),l=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,Xa)),u.restore()},LT=function(e,s,r,l,u,d,f){const p=(s+l)/2,m=(r+u)/2,v=(l+d)/2,b=(u+f)/2;e.bezierCurveTo(p+2*(l-p)/3,m+2*(u-m)/3,v+2*(l-v)/3,b+2*(u-b)/3,v,b)},OT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[l,u]=e[0];for(r=1;r<e.length-2;r++){const[A,S]=e[r],[_,M]=e[r+1],T=(A+_)/2,L=(S+M)/2,k=[l+2*(A-l)/3,u+2*(S-u)/3],j=[T+2*(A-T)/3,L+2*(S-L)/3];s.push([[l,u],k,j,[T,L]]),[l,u]=[T,L]}const[d,f]=e[r],[p,m]=e[r+1],v=[l+2*(d-l)/3,u+2*(f-u)/3],b=[p+2*(d-p)/3,m+2*(f-m)/3];return s.push([[l,u],v,b,[p,m]]),s},ql=function(){if(this.isEmpty()){x(this,lt,Gg).call(this);return}x(this,lt,b0).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),x(this,lt,Gg).call(this);for(const r of this.bezierPath2D)s.stroke(r)},S0=function(){if(h(this,Vu))return;E(this,Vu,new AbortController);const e=this._uiManager.combinedSignal(h(this,Vu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},w0=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},E0=function(e){var s;(s=h(this,zo))==null||s.abort(),E(this,zo,null),x(this,lt,S0).call(this),h(this,Ys)&&clearTimeout(h(this,Ys)),E(this,Ys,setTimeout(()=>{E(this,Ys,null),this.canvas.removeEventListener("contextmenu",ns)},10)),x(this,lt,RT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Bg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ug=function(){E(this,Ya,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,Ya).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Ya))==null||e.disconnect(),E(this,Ya,null)},{once:!0})},Xc=function(){if(!h(this,Io))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),x(this,lt,Gg).call(this)},_0=function(e,s){const r=x(this,lt,qg).call(this),l=(e-r)/h(this,Fo),u=(s-r)/h(this,jo);this.scaleFactor=Math.min(l,u)},Gg=function(){const e=x(this,lt,qg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},rr=new WeakSet,DT=function(e){const s=new Path2D;for(let r=0,l=e.length;r<l;r++){const[u,d,f,p]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],p[0],p[1])}return s},x0=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]+=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]+l,e[p+1]=v+u}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]+=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=d-e[p+1],e[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return e},kT=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]-=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]-u,e[p+1]=v-l}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]-=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=f-e[p+1],e[p+1]=d-v}break;default:throw new Error("Invalid rotation")}return e},NT=function(e,s,r,l){var m,v;const u=[],d=this.thickness/2,f=e*s+d,p=e*r+d;for(const b of this.paths){const A=[],S=[];for(let _=0,M=b.length;_<M;_++){const[T,L,k,j]=b[_];if(T[0]===j[0]&&T[1]===j[1]&&M===1){const pt=e*T[0]+f,rt=e*T[1]+p;A.push(pt,rt),S.push(pt,rt);break}const F=e*T[0]+f,B=e*T[1]+p,q=e*L[0]+f,W=e*L[1]+p,tt=e*k[0]+f,it=e*k[1]+p,st=e*j[0]+f,ft=e*j[1]+p;_===0&&(A.push(F,B),S.push(F,B)),A.push(q,W,tt,it,st,ft),S.push(q,W),_===M-1&&S.push(st,ft)}u.push({bezier:x(m=Te,rr,x0).call(m,A,l,this.rotation),points:x(v=Te,rr,x0).call(v,S,l,this.rotation)})}return u},T0=function(){let e=1/0,s=-1/0,r=1/0,l=-1/0;for(const u of this.paths)for(const[d,f,p,m]of u){const v=vt.bezierBoundingBox(...d,...f,...p,...m);e=Math.min(e,v[0]),r=Math.min(r,v[1]),s=Math.max(s,v[2]),l=Math.max(l,v[3])}return[e,r,s,l]},qg=function(){return h(this,Zi)?Math.ceil(this.thickness*this.parentScale):0},vd=function(e=!1){if(this.isEmpty())return;if(!h(this,Zi)){x(this,lt,ql).call(this);return}const s=x(this,lt,T0).call(this),r=x(this,lt,qg).call(this);E(this,Fo,Math.max(oe.MIN_SIZE,s[2]-s[0])),E(this,jo,Math.max(oe.MIN_SIZE,s[3]-s[1]));const l=Math.ceil(r+h(this,Fo)*this.scaleFactor),u=Math.ceil(r+h(this,jo)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=l/d,this.height=u/f,this.setAspectRatio(l,u);const p=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],x(this,lt,Xc).call(this),x(this,lt,ql).call(this),E(this,Bo,l),E(this,Uo,u),this.setDims(l,u);const v=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,m-this.translationY-v)},R(Te,rr),Rt(Te,"_defaultColor",null),Rt(Te,"_defaultOpacity",1),Rt(Te,"_defaultThickness",1),Rt(Te,"_type","ink"),Rt(Te,"_editorType",Nt.INK);let v0=Te;var Re,En,rl,$a,ll,Xu,$s,Wa,Ws,xi,Yu,Vt,bd,Ad,Vg,R0,PT,Xg,M0,Yg,jT,FT;const Ed=class Ed extends oe{constructor(e){super({...e,name:"stampEditor"});R(this,Vt);R(this,Re,null);R(this,En,null);R(this,rl,null);R(this,$a,null);R(this,ll,null);R(this,Xu,"");R(this,$s,null);R(this,Wa,null);R(this,Ws,null);R(this,xi,!1);R(this,Yu,!1);E(this,$a,e.bitmapUrl),E(this,ll,e.bitmapFile)}static initialize(e,s){oe.initialize(e,s)}static get supportedTypes(){return Yt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Yt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:u,height:d,channels:l.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,s;h(this,En)&&(E(this,Re,null),this._uiManager.imageManager.deleteId(h(this,En)),(e=h(this,$s))==null||e.remove(),E(this,$s,null),(s=h(this,Wa))==null||s.disconnect(),E(this,Wa,null),h(this,Ws)&&(clearTimeout(h(this,Ws)),E(this,Ws,null))),super.remove()}rebuild(){if(!this.parent){h(this,En)&&x(this,Vt,Vg).call(this);return}super.rebuild(),this.div!==null&&(h(this,En)&&h(this,$s)===null&&x(this,Vt,Vg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,rl)||h(this,Re)||h(this,$a)||h(this,ll)||h(this,En))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,Re)?x(this,Vt,R0).call(this):x(this,Vt,Vg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,s*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:l,height:u}=h(this,Re),d=new Eb;let f=h(this,Re),p=l,m=u,v=null;if(s){if(l>s||u>s){const W=Math.min(s/l,s/u);p=Math.floor(l*W),m=Math.floor(u*W)}v=document.createElement("canvas");const S=v.width=Math.ceil(p*d.sx),_=v.height=Math.ceil(m*d.sy);h(this,xi)||(f=x(this,Vt,Xg).call(this,S,_));const M=v.getContext("2d");M.filter=this._uiManager.hcmFilter;let T="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",L="#42414d");const k=15,j=k*d.sx,F=k*d.sy,B=new OffscreenCanvas(j*2,F*2),q=B.getContext("2d");q.fillStyle=T,q.fillRect(0,0,j*2,F*2),q.fillStyle=L,q.fillRect(0,0,j,F),q.fillRect(j,F,j,F),M.fillStyle=M.createPattern(B,"repeat"),M.fillRect(0,0,S,_),M.drawImage(f,0,0,f.width,f.height,0,0,S,_)}let b=null;if(r){let S,_;if(d.symmetric&&f.width<e&&f.height<e)S=f.width,_=f.height;else if(f=h(this,Re),l>e||u>e){const L=Math.min(e/l,e/u);S=Math.floor(l*L),_=Math.floor(u*L),h(this,xi)||(f=x(this,Vt,Xg).call(this,S,_))}const T=new OffscreenCanvas(S,_).getContext("2d",{willReadFrequently:!0});T.drawImage(f,0,0,f.width,f.height,0,0,S,_),b={width:S,height:_,data:T.getImageData(0,0,S,_).data}}return{canvas:v,width:p,height:m,imageData:b}}getImageForAltText(){return h(this,$s)}static async deserialize(e,s,r){var _;let l=null;if(e instanceof Y1){const{data:{rect:M,rotation:T,id:L,structParent:k,popupRef:j},container:F,parent:{page:{pageNumber:B}}}=e,q=F.querySelector("canvas"),W=r.imageManager.getFromCanvas(F.id,q);q.remove();const tt=((_=await s._structTree.getAriaAttributes(`${J0}${L}`))==null?void 0:_.get("aria-label"))||"";l=e={annotationType:Nt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:B-1,rect:M.slice(0),rotation:T,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:k,popupRef:j}}const u=await super.deserialize(e,s,r),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:v,accessibilityData:b}=e;m&&r.imageManager.isValidId(m)?(E(u,En,m),f&&E(u,Re,f)):E(u,$a,p),E(u,xi,v);const[A,S]=u.pageDimensions;return u.width=(d[2]-d[0])/A,u.height=(d[3]-d[1])/S,u.annotationElementId=e.id||null,b&&(u.altTextData=b),u._initialData=l,E(u,Yu,!!l),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Nt.STAMP,bitmapId:h(this,En),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,xi),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=x(this,Vt,Yg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:u}=this.serializeAltText(!1);if(!l&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=x(this,Vt,FT).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,xi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,En)))s.stamps.set(h(this,En),{area:d,serialized:r}),r.bitmap=x(this,Vt,Yg).call(this,!1);else if(h(this,xi)){const f=s.stamps.get(h(this,En));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=x(this,Vt,Yg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Re=new WeakMap,En=new WeakMap,rl=new WeakMap,$a=new WeakMap,ll=new WeakMap,Xu=new WeakMap,$s=new WeakMap,Wa=new WeakMap,Ws=new WeakMap,xi=new WeakMap,Yu=new WeakMap,Vt=new WeakSet,bd=function(e,s=!1){if(!e){this.remove();return}E(this,Re,e.bitmap),s||(E(this,En,e.id),E(this,xi,e.isSvg)),e.file&&E(this,Xu,e.file.name),x(this,Vt,R0).call(this)},Ad=function(){if(E(this,rl,null),this._uiManager.enableWaiting(!1),!!h(this,$s)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Re)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Re)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Vg=function(){if(h(this,En)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,En)).then(r=>x(this,Vt,bd).call(this,r,!0)).finally(()=>x(this,Vt,Ad).call(this));return}if(h(this,$a)){const r=h(this,$a);E(this,$a,null),this._uiManager.enableWaiting(!0),E(this,rl,this._uiManager.imageManager.getFromUrl(r).then(l=>x(this,Vt,bd).call(this,l)).finally(()=>x(this,Vt,Ad).call(this)));return}if(h(this,ll)){const r=h(this,ll);E(this,ll,null),this._uiManager.enableWaiting(!0),E(this,rl,this._uiManager.imageManager.getFromFile(r).then(l=>x(this,Vt,bd).call(this,l)).finally(()=>x(this,Vt,Ad).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ed.supportedTypesStr;const s=this._uiManager._signal;E(this,rl,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,Vt,bd).call(this,l)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>x(this,Vt,Ad).call(this))),e.click()},R0=function(){const{div:e}=this;let{width:s,height:r}=h(this,Re);const[l,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*l,r=this.height*u;else if(s>d*l||r>d*u){const v=Math.min(d*l/s,d*u/r);s*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(s*f/l,r*p/u),this._uiManager.enableWaiting(!1);const m=E(this,$s,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),x(this,Vt,M0).call(this,s,r),x(this,Vt,jT).call(this),h(this,Yu)||(this.parent.addUndoableEditor(this),E(this,Yu,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Xu)&&m.setAttribute("aria-label",h(this,Xu))},PT=function(e,s){var d;const[r,l]=this.parentDimensions;this.width=e/r,this.height=s/l,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Ws)!==null&&clearTimeout(h(this,Ws)),E(this,Ws,setTimeout(()=>{E(this,Ws,null),x(this,Vt,M0).call(this,e,s)},200))},Xg=function(e,s){const{width:r,height:l}=h(this,Re);let u=r,d=l,f=h(this,Re);for(;u>2*e||d>2*s;){const p=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(u,d);v.getContext("2d").drawImage(f,0,0,p,m,0,0,u,d),f=v.transferToImageBitmap()}return f},M0=function(e,s){const r=new Eb,l=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),d=h(this,$s);if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=h(this,xi)?h(this,Re):x(this,Vt,Xg).call(this,l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)},Yg=function(e){if(e){if(h(this,xi)){const l=this._uiManager.imageManager.getSvgUrl(h(this,En));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,Re),s.getContext("2d").drawImage(h(this,Re),0,0),s.toDataURL()}if(h(this,xi)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*fl.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*fl.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(l,u);return d.getContext("2d").drawImage(h(this,Re),0,0,h(this,Re).width,h(this,Re).height,0,0,l,u),d.transferToImageBitmap()}return structuredClone(h(this,Re))},jT=function(){this._uiManager._signal&&(E(this,Wa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&x(this,Vt,PT).call(this,s.width,s.height)})),h(this,Wa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Wa))==null||e.disconnect(),E(this,Wa,null)},{once:!0}))},FT=function(e){var p;const{rect:s,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,u=e.rect.every((m,v)=>Math.abs(m-s[v])<1),d=e.pageIndex===r,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===l;return{isSame:u&&d&&f,isSameAltText:f}},Rt(Ed,"_type","stamp"),Rt(Ed,"_editorType",Nt.STAMP);let C0=Ed;var Go,$u,Ks,ol,Ka,Ti,cl,Wu,Ku,jn,Qa,At,ul,_n,zT,O0,D0,k0,$g;const ls=class ls{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:u,drawLayer:d,textLayer:f,viewport:p,l10n:m}){R(this,_n);R(this,Go);R(this,$u,!1);R(this,Ks,null);R(this,ol,null);R(this,Ka,null);R(this,Ti,new Map);R(this,cl,!1);R(this,Wu,!1);R(this,Ku,!1);R(this,jn,null);R(this,Qa,null);R(this,At);const v=[...h(ls,ul).values()];if(!ls._initialized){ls._initialized=!0;for(const b of v)b.initialize(m,t)}t.registerEditorTypes(v),E(this,At,t),this.pageIndex=e,this.div=s,E(this,Go,l),E(this,Ks,u),this.viewport=p,E(this,jn,f),this.drawLayer=d,this._structTree=r,h(this,At).addLayer(this)}get isEmpty(){return h(this,Ti).size===0}get isInvisible(){return this.isEmpty&&h(this,At).getMode()===Nt.NONE}updateToolbar(t){h(this,At).updateToolbar(t)}updateMode(t=h(this,At).getMode()){switch(x(this,_n,$g).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(ls,ul).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,jn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,At).getMode()!==Nt.INK)return;if(!t){for(const s of h(this,Ti).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,At).setEditingState(t)}addCommands(t){h(this,At).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Ks))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,Ti).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,At).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Ks))return;const e=h(this,Ks).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,At).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,Ku,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of h(this,Ti).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(h(this,Ks)){const l=h(this,Ks).getEditableAnnotations();for(const u of l){const{id:d}=u.data;if(h(this,At).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,At).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}x(this,_n,$g).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of h(ls,ul).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Ku,!1)}getEditableAnnotation(t){var e;return((e=h(this,Ks))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,At).getActive()!==t&&h(this,At).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,jn))!=null&&t.div&&!h(this,Qa)){E(this,Qa,new AbortController);const e=h(this,At).combinedSignal(h(this,Qa));h(this,jn).div.addEventListener("pointerdown",x(this,_n,zT).bind(this),{signal:e}),h(this,jn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,jn))!=null&&t.div&&h(this,Qa)&&(h(this,Qa).abort(),E(this,Qa,null),h(this,jn).div.classList.remove("highlighting"))}enableClick(){if(h(this,ol))return;E(this,ol,new AbortController);const t=h(this,At).combinedSignal(h(this,ol));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,ol))==null||t.abort(),E(this,ol,null)}attach(t){h(this,Ti).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,At).isDeletedAnnotationElement(e)&&h(this,At).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,Ti).delete(t.id),(e=h(this,Go))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Ku)&&t.annotationElementId&&h(this,At).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,At).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,Wu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,At).addDeletedAnnotationElement(t.annotationElementId),oe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,At).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,At).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,Ka)&&(t._focusEventsAllowed=!1,E(this,Ka,setTimeout(()=>{E(this,Ka,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,At)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,Go))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,At).getId()}combinedSignal(t){return h(this,At).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,_n,O0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,At).updateToolbar(t),h(this,At).updateMode(t);const{offsetX:s,offsetY:r}=x(this,_n,k0).call(this),l=this.getNextId(),u=x(this,_n,D0).call(this,{parent:this,id:l,x:s,y:r,uiManager:h(this,At),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(ls,ul).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,At)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),l=x(this,_n,D0).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,At),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(x(this,_n,k0).call(this),!0)}setSelected(t){h(this,At).setSelected(t)}toggleSelected(t){h(this,At).toggleSelected(t)}unselect(t){h(this,At).unselect(t)}pointerup(t){const{isMac:e}=Yn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,cl)){if(E(this,cl,!1),!h(this,$u)){E(this,$u,!0);return}if(h(this,At).getMode()===Nt.STAMP){h(this,At).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,At).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,cl)){E(this,cl,!1);return}const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,cl,!0);const s=h(this,At).getActive();E(this,$u,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,At).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,At).getActive())==null?void 0:t.parent)===this&&(h(this,At).commitOrRemove(),h(this,At).setActiveEditor(null)),h(this,Ka)&&(clearTimeout(h(this,Ka)),E(this,Ka,null));for(const s of h(this,Ti).values())(e=h(this,Go))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,Ti).clear(),h(this,At).removeLayer(this)}render({viewport:t}){this.viewport=t,Yo(this.div,t);for(const e of h(this,At).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,At).commitOrRemove(),x(this,_n,$g).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Yo(this.div,{rotation:s}),e!==s)for(const r of h(this,Ti).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,At).viewParameters.realScale}};Go=new WeakMap,$u=new WeakMap,Ks=new WeakMap,ol=new WeakMap,Ka=new WeakMap,Ti=new WeakMap,cl=new WeakMap,Wu=new WeakMap,Ku=new WeakMap,jn=new WeakMap,Qa=new WeakMap,At=new WeakMap,ul=new WeakMap,_n=new WeakSet,zT=function(t){h(this,At).unselectAll();const{target:e}=t;if(e===h(this,jn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,jn).div.contains(e)){const{isMac:s}=Yn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,At).showAllEditors("highlight",!0,!0),h(this,jn).div.classList.add("free"),this.toggleDrawing(),am.startHighlighting(this,h(this,At).direction==="ltr",{target:h(this,jn).div,x:t.x,y:t.y}),h(this,jn).div.addEventListener("pointerup",()=>{h(this,jn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,At)._signal}),t.preventDefault()}},O0=function(){return h(ls,ul).get(h(this,At).getMode())},D0=function(t){const e=h(this,_n,O0);return e?new e.prototype.constructor(t):null},k0=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),p=(l+d)/2-t,m=(u+f)/2-e,[v,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:v,offsetY:b}},$g=function(){E(this,Wu,!0);for(const t of h(this,Ti).values())t.isEmpty()&&t.remove();E(this,Wu,!1)},Rt(ls,"_initialized",!1),R(ls,ul,new Map([c0,v0,C0,am].map(t=>[t._editorType,t])));let L0=ls;var Qs,Bf,$e,Za,Uf,P0,Zo,j0,HT;const An=class An{constructor({pageIndex:t}){R(this,Zo);R(this,Qs,null);R(this,Bf,0);R(this,$e,new Map);R(this,Za,new Map);this.pageIndex=t}setParent(t){if(!h(this,Qs)){E(this,Qs,t);return}if(h(this,Qs)!==t){if(h(this,$e).size>0)for(const e of h(this,$e).values())e.remove(),t.append(e);E(this,Qs,t)}}static get _svgFactory(){return Yt(this,"_svgFactory",new cA)}draw(t,e,s,r=!1){const l=Gn(this,Bf)._++,u=x(this,Zo,j0).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=An._svgFactory.createElement("defs");u.append(d);const f=An._svgFactory.createElement("path");d.append(f);const p=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&h(this,Za).set(l,f);const m=x(this,Zo,HT).call(this,d,p),v=An._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),v.setAttribute("href",`#${p}`),h(this,$e).set(l,u),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=Gn(this,Bf)._++,s=x(this,Zo,j0).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=An._svgFactory.createElement("defs");s.append(r);const l=An._svgFactory.createElement("path");r.append(l);const u=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=An._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=An._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=An._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=An._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),h(this,$e).set(e,s),e}finalizeLine(t,e){const s=h(this,Za).get(t);h(this,Za).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,$e).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,Za).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;x(s=An,Uf,P0).call(s,h(this,$e).get(t),e)}show(t,e){h(this,$e).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,$e).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,$e).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,$e).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,$e).get(t).classList.add(e)}removeClass(t,e){h(this,$e).get(t).classList.remove(e)}getSVGRoot(t){return h(this,$e).get(t)}remove(t){h(this,Za).delete(t),h(this,Qs)!==null&&(h(this,$e).get(t).remove(),h(this,$e).delete(t))}destroy(){E(this,Qs,null);for(const t of h(this,$e).values())t.remove();h(this,$e).clear(),h(this,Za).clear()}};Qs=new WeakMap,Bf=new WeakMap,$e=new WeakMap,Za=new WeakMap,Uf=new WeakSet,P0=function(t,{x:e=0,y:s=0,width:r=1,height:l=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*l}%`},Zo=new WeakSet,j0=function(t){var s;const e=An._svgFactory.create(1,1,!0);return h(this,Qs).append(e),e.setAttribute("aria-hidden",!0),x(s=An,Uf,P0).call(s,e,t),e},HT=function(t,e){const s=An._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=An._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},R(An,Uf);let N0=An;var sk=Lt.AbortException,ak=Lt.AnnotationEditorLayer,rk=Lt.AnnotationEditorParamsType,lk=Lt.AnnotationEditorType,ok=Lt.AnnotationEditorUIManager,IT=Lt.AnnotationLayer,BT=Lt.AnnotationMode,ck=Lt.ColorPicker,uk=Lt.DOMSVGFactory,hk=Lt.DrawLayer,dk=Lt.FeatureTest,hA=Lt.GlobalWorkerOptions,fk=Lt.ImageKind,pk=Lt.InvalidPDFException,gk=Lt.MissingPDFException,mk=Lt.OPS,yk=Lt.OutputScale,vk=Lt.PDFDataRangeTransport,bk=Lt.PDFDateString,Ak=Lt.PDFWorker,Sk=Lt.PasswordResponses,wk=Lt.PermissionFlag,Ek=Lt.PixelsPerInch,_k=Lt.RenderingCancelledException,UT=Lt.TextLayer,xk=Lt.UnexpectedResponseException,Tk=Lt.Util,Ck=Lt.VerbosityLevel,Rk=Lt.XfaLayer,Mk=Lt.build,Lk=Lt.createValidAbsoluteUrl,Ok=Lt.fetchData,GT=Lt.getDocument,Dk=Lt.getFilenameFromUrl,kk=Lt.getPdfFilenameFromUrl,Nk=Lt.getXfaPageViewport,Pk=Lt.isDataScheme,jk=Lt.isPdfFile,Fk=Lt.noContextMenu,zk=Lt.normalizeUnicode,Hk=Lt.setLayerDimensions,Ik=Lt.shadow,qT=Lt.version;const Bk=Object.freeze(Object.defineProperty({__proto__:null,AbortException:sk,AnnotationEditorLayer:ak,AnnotationEditorParamsType:rk,AnnotationEditorType:lk,AnnotationEditorUIManager:ok,AnnotationLayer:IT,AnnotationMode:BT,ColorPicker:ck,DOMSVGFactory:uk,DrawLayer:hk,FeatureTest:dk,GlobalWorkerOptions:hA,ImageKind:fk,InvalidPDFException:pk,MissingPDFException:gk,OPS:mk,OutputScale:yk,PDFDataRangeTransport:vk,PDFDateString:bk,PDFWorker:Ak,PasswordResponses:Sk,PermissionFlag:wk,PixelsPerInch:Ek,RenderingCancelledException:_k,TextLayer:UT,UnexpectedResponseException:xk,Util:Tk,VerbosityLevel:Ck,XfaLayer:Rk,build:Mk,createValidAbsoluteUrl:Lk,fetchData:Ok,getDocument:GT,getFilenameFromUrl:Dk,getPdfFilenameFromUrl:kk,getXfaPageViewport:Nk,isDataScheme:Pk,isPdfFile:jk,noContextMenu:Fk,normalizeUnicode:zk,setLayerDimensions:Hk,shadow:Ik,version:qT},Symbol.toStringTag,{value:"Module"}));var hn=function(o,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return o.concat(l||Array.prototype.slice.call(t))},Uk=["onCopy","onCut","onPaste"],Gk=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],qk=["onFocus","onBlur"],Vk=["onInput","onInvalid","onReset","onSubmit"],Xk=["onLoad","onError"],Yk=["onKeyDown","onKeyPress","onKeyUp"],$k=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Wk=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Kk=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Qk=["onSelect"],Zk=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Jk=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],tN=["onScroll"],eN=["onWheel"],nN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],iN=["onTransitionEnd"],sN=["onToggle"],aN=["onChange"],rN=hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn([],Uk,!0),Gk,!0),qk,!0),Vk,!0),Xk,!0),Yk,!0),$k,!0),Wk,!0),Kk,!0),Qk,!0),Zk,!0),Jk,!0),tN,!0),eN,!0),nN,!0),iN,!0),aN,!0),sN,!0);function VT(o,t){var e={};return rN.forEach(function(s){var r=o[s];r&&(t?e[s]=function(l){return r(l,t(s))}:e[s]=r)}),e}function Jf(o){var t=!1,e=new Promise(function(s,r){o.then(function(l){return!t&&s(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function XT(o){var t,e,s="";if(typeof o=="string"||typeof o=="number")s+=o;else if(typeof o=="object")if(Array.isArray(o)){var r=o.length;for(t=0;t<r;t++)o[t]&&(e=XT(o[t]))&&(s&&(s+=" "),s+=e)}else for(e in o)o[e]&&(s&&(s+=" "),s+=e);return s}function Fm(){for(var o,t,e=0,s="",r=arguments.length;e<r;e++)(o=arguments[e])&&(t=XT(o))&&(s&&(s+=" "),s+=t);return s}var lN="Invariant failed";function ye(o,t){if(!o)throw new Error(lN)}var hb,Y_;function oN(){if(Y_)return hb;Y_=1;var o=function(){};return hb=o,hb}var cN=oN();const Fn=H0(cN);var $_=Object.prototype.hasOwnProperty;function W_(o,t,e){for(e of o.keys())if(Qc(e,t))return e}function Qc(o,t){var e,s,r;if(o===t)return!0;if(o&&t&&(e=o.constructor)===t.constructor){if(e===Date)return o.getTime()===t.getTime();if(e===RegExp)return o.toString()===t.toString();if(e===Array){if((s=o.length)===t.length)for(;s--&&Qc(o[s],t[s]););return s===-1}if(e===Set){if(o.size!==t.size)return!1;for(s of o)if(r=s,r&&typeof r=="object"&&(r=W_(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(o.size!==t.size)return!1;for(s of o)if(r=s[0],r&&typeof r=="object"&&(r=W_(t,r),!r)||!Qc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)o=new Uint8Array(o),t=new Uint8Array(t);else if(e===DataView){if((s=o.byteLength)===t.byteLength)for(;s--&&o.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(o)){if((s=o.byteLength)===t.byteLength)for(;s--&&o[s]===t[s];);return s===-1}if(!e||typeof o=="object"){s=0;for(e in o)if($_.call(o,e)&&++s&&!$_.call(t,e)||!(e in t)||!Qc(o[e],t[e]))return!1;return Object.keys(t).length===s}}return o!==o&&t!==t}const YT=D.createContext(null);function Zc({children:o,type:t}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:o})}const uN="noopener noreferrer nofollow";class hN{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ye(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ye(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ye(this.pdfDocument),ye(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ye(Array.isArray(e));const s=e[0];new Promise(r=>{ye(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{r(l)}).catch(()=>{ye(!1)}):typeof s=="number"?r(s):ye(!1)}).then(r=>{const l=r+1;ye(this.pdfViewer),ye(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ye(this.pdfViewer),ye(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||uN,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const K_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zm=typeof window<"u",$T=zm&&window.location.protocol==="file:";function dN(o){return typeof o<"u"}function Hl(o){return dN(o)&&o!==null}function fN(o){return typeof o=="string"}function pN(o){return o instanceof ArrayBuffer}function gN(o){return ye(zm),o instanceof Blob}function F0(o){return fN(o)&&/^data:/.test(o)}function Q_(o){ye(F0(o));const[t="",e=""]=o.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function mN(){return zm&&window.devicePixelRatio||1}const WT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Z_(){Fn(!$T,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WT}`)}function yN(){Fn(!$T,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WT}`)}function Ko(o){o!=null&&o.cancel&&o.cancel()}function z0(o,t){return Object.defineProperty(o,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(o,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(o,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(o,"originalHeight",{get(){return this.view[3]},configurable:!0}),o}function vN(o){return o.name==="RenderingCancelledException"}function bN(o){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(o)})}function AN(o,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return o}}function Ju(){return D.useReducer(AN,{value:void 0,error:void 0})}var SN=function(o,t,e,s){function r(l){return l instanceof e?l:new e(function(u){u(l)})}return new(e||(e=Promise))(function(l,u){function d(m){try{p(s.next(m))}catch(v){u(v)}}function f(m){try{p(s.throw(m))}catch(v){u(v)}}function p(m){m.done?l(m.value):r(m.value).then(d,f)}p((s=s.apply(o,t||[])).next())})},J_=function(o,t){var e={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(o);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(o,s[r])&&(e[s[r]]=o[s[r]]);return e};const{PDFDataRangeTransport:wN}=Bk,EN=(o,t)=>{switch(t){case K_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");o(e);break}case K_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");o(e);break}}};function tx(o){return typeof o=="object"&&o!==null&&("data"in o||"range"in o||"url"in o)}const _N=D.forwardRef(function(t,e){var{children:s,className:r,error:l="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:p,imageResourcesPath:m,loading:v="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:_,onLoadSuccess:M,onPassword:T=EN,onSourceError:L,onSourceSuccess:k,options:j,renderMode:F,rotate:B}=t,q=J_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,tt]=Ju(),{value:it,error:st}=W,[ft,pt]=Ju(),{value:rt,error:ct}=ft,H=D.useRef(new hN),V=D.useRef([]),K=D.useRef(void 0),yt=D.useRef(void 0);f&&f!==K.current&&tx(f)&&(Fn(!Qc(f,K.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),K.current=f),j&&j!==yt.current&&(Fn(!Qc(j,yt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),yt.current=j);const P=D.useRef({scrollPageIntoView:qt=>{const{dest:Kt,pageNumber:De,pageIndex:$t=De-1}=qt;if(A){A({dest:Kt,pageIndex:$t,pageNumber:De});return}const ke=V.current[$t];if(ke){ke.scrollIntoView();return}Fn(!1,`An internal link leading to page ${De} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(e,()=>({linkService:H,pages:V,viewer:P}),[]);function $(){k&&k()}function nt(){st&&(Fn(!1,st.toString()),L&&L(st))}function et(){tt({type:"RESET"})}D.useEffect(et,[f,tt]);const ht=D.useCallback(()=>SN(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return F0(f)?{data:Q_(f)}:(Z_(),{url:f});if(f instanceof wN)return{range:f};if(pN(f))return{data:f};if(zm&&gN(f))return{data:yield bN(f)};if(ye(typeof f=="object"),ye(tx(f)),"url"in f&&typeof f.url=="string"){if(F0(f.url)){const{url:qt}=f,Kt=J_(f,["url"]),De=Q_(qt);return Object.assign({data:De},Kt)}Z_()}return f}),[f]);D.useEffect(()=>{const qt=Jf(ht());return qt.promise.then(Kt=>{tt({type:"RESOLVE",value:Kt})}).catch(Kt=>{tt({type:"REJECT",error:Kt})}),()=>{Ko(qt)}},[ht,tt]),D.useEffect(()=>{if(!(typeof it>"u")){if(it===!1){nt();return}$()}},[it]);function xt(){rt&&(M&&M(rt),V.current=new Array(rt.numPages),H.current.setDocument(rt))}function ut(){ct&&(Fn(!1,ct.toString()),S&&S(ct))}D.useEffect(function(){pt({type:"RESET"})},[pt,it]),D.useEffect(function(){if(!it)return;const Kt=j?Object.assign(Object.assign({},it),j):it,De=GT(Kt);_&&(De.onProgress=_),T&&(De.onPassword=T);const $t=De,ke=$t.promise.then(Hn=>{pt({type:"RESOLVE",value:Hn})}).catch(Hn=>{$t.destroyed||pt({type:"REJECT",error:Hn})});return()=>{ke.finally(()=>$t.destroy())}},[j,pt,it]),D.useEffect(()=>{if(!(typeof rt>"u")){if(rt===!1){ut();return}xt()}},[rt]),D.useEffect(function(){H.current.setViewer(P.current),H.current.setExternalLinkRel(u),H.current.setExternalLinkTarget(d)},[u,d]);const Tt=D.useCallback((qt,Kt)=>{V.current[qt]=Kt},[]),Dt=D.useCallback(qt=>{delete V.current[qt]},[]),Gt=D.useMemo(()=>({imageResourcesPath:m,linkService:H.current,onItemClick:A,pdf:rt,registerPage:Tt,renderMode:F,rotate:B,unregisterPage:Dt}),[m,A,rt,Tt,F,B,Dt]),Xt=D.useMemo(()=>VT(q,()=>rt),[q,rt]);function Oe(){return O.jsx(YT.Provider,{value:Gt,children:s})}function rn(){return f?rt==null?O.jsx(Zc,{type:"loading",children:typeof v=="function"?v():v}):rt===!1?O.jsx(Zc,{type:"error",children:typeof l=="function"?l():l}):Oe():O.jsx(Zc,{type:"no-data",children:typeof b=="function"?b():b})}return O.jsx("div",Object.assign({className:Fm("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Xt,{children:rn()}))});function KT(){return D.useContext(YT)}function QT(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var e=o.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(l){e.forEach(function(u){typeof u=="function"?u(l):u&&(u.current=l)})}}const ZT=D.createContext(null),JT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},xN=/^H(\d+)$/;function TN(o){return o in JT}function Hm(o){return"children"in o}function tC(o){return Hm(o)?o.children.length===1&&0 in o.children&&"id"in o.children[0]:!1}function CN(o){const t={};if(Hm(o)){const{role:e}=o,s=e.match(xN);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(TN(e)){const r=JT[e];r&&(t.role=r)}}return t}function eC(o){const t={};if(Hm(o)){if(o.alt!==void 0&&(t["aria-label"]=o.alt),o.lang!==void 0&&(t.lang=o.lang),tC(o)){const[e]=o.children;if(e){const s=eC(e);return Object.assign(Object.assign({},t),s)}}}else"id"in o&&(t["aria-owns"]=o.id);return t}function RN(o){return o?Object.assign(Object.assign({},CN(o)),eC(o)):null}function nC({className:o,node:t}){const e=D.useMemo(()=>RN(t),[t]),s=D.useMemo(()=>!Hm(t)||tC(t)?null:t.children.map((r,l)=>O.jsx(nC,{node:r},l)),[t]);return O.jsx("span",Object.assign({className:o},e,{children:s}))}function Im(){return D.useContext(ZT)}function MN(){const o=Im();ye(o);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=o,[s,r]=Ju(),{value:l,error:u}=s,{customTextRenderer:d,page:f}=o;function p(){l&&e&&e(l)}function m(){u&&(Fn(!1,u.toString()),t&&t(u))}return D.useEffect(function(){r({type:"RESET"})},[r,f]),D.useEffect(function(){if(d||!f)return;const b=Jf(f.getStructTree()),A=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>Ko(A)},[d,f,r]),D.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}p()}},[l]),l?O.jsx(nC,{className:"react-pdf__Page__structTree structTree",node:l}):null}const ex=BT;function LN(o){const t=Im();ye(t);const e=Object.assign(Object.assign({},t),o),{_className:s,canvasBackground:r,devicePixelRatio:l=mN(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:p,renderTextLayer:m,rotate:v,scale:b}=e,{canvasRef:A}=o;ye(f);const S=D.useRef(null);function _(){f&&d&&d(z0(f,b))}function M(j){vN(j)||(Fn(!1,j.toString()),u&&u(j))}const T=D.useMemo(()=>f.getViewport({scale:b*l,rotation:v}),[l,f,v,b]),L=D.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);D.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=S;if(!F)return;F.width=T.width,F.height=T.height,F.style.width=`${Math.floor(L.width)}px`,F.style.height=`${Math.floor(L.height)}px`,F.style.visibility="hidden";const B={annotationMode:p?ex.ENABLE_FORMS:ex.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:T};r&&(B.background=r);const q=f.render(B),W=q;return q.promise.then(()=>{F.style.visibility="",_()}).catch(M),()=>Ko(W)},[r,f,p,T,L]);const k=D.useCallback(()=>{const{current:j}=S;j&&(j.width=0,j.height=0)},[]);return D.useEffect(()=>k,[k]),O.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:QT(A,S),style:{display:"block",userSelect:"none"},children:m?O.jsx(MN,{}):null})}function ON(o){return"str"in o}function DN(){const o=Im();ye(o);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:u,pageIndex:d,pageNumber:f,rotate:p,scale:m}=o;ye(u);const[v,b]=Ju(),{value:A,error:S}=v,_=D.useRef(null);Fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&s&&s(A)}function T(){S&&(Fn(!1,S.toString()),e&&e(S))}D.useEffect(function(){b({type:"RESET"})},[u,b]),D.useEffect(function(){if(!u)return;const W=Jf(u.getTextContent()),tt=W;return W.promise.then(it=>{b({type:"RESOLVE",value:it})}).catch(it=>{b({type:"REJECT",error:it})}),()=>Ko(tt)},[u,b]),D.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}M()}},[A]);const L=D.useCallback(()=>{l&&l()},[l]),k=D.useCallback(q=>{Fn(!1,q.toString()),r&&r(q)},[r]);function j(){const q=_.current;q&&q.classList.add("selecting")}function F(){const q=_.current;q&&q.classList.remove("selecting")}const B=D.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return D.useLayoutEffect(function(){if(!u||!A)return;const{current:W}=_;if(!W)return;W.innerHTML="";const tt=u.streamTextContent({includeMarkedContent:!0}),it={container:W,textContentSource:tt,viewport:B},st=new UT(it),ft=st;return st.render().then(()=>{const pt=document.createElement("div");pt.className="endOfContent",W.append(pt);const rt=W.querySelectorAll('[role="presentation"]');if(t){let ct=0;A.items.forEach((H,V)=>{if(!ON(H))return;const K=rt[ct];if(!K)return;const yt=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:V},H));K.innerHTML=yt,ct+=H.str&&H.hasEOL?2:1})}L()}).catch(k),()=>Ko(ft)},[t,k,L,u,d,f,A,B]),O.jsx("div",{className:Fm("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:j,ref:_})}function kN(){const o=KT(),t=Im();ye(t);const e=Object.assign(Object.assign({},o),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:v,rotate:b,scale:A=1}=e;ye(m),ye(p),ye(r);const[S,_]=Ju(),{value:M,error:T}=S,L=D.useRef(null);Fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){M&&u&&u(M)}function j(){T&&(Fn(!1,T.toString()),l&&l(T))}D.useEffect(function(){_({type:"RESET"})},[_,p]),D.useEffect(function(){if(!p)return;const tt=Jf(p.getAnnotations()),it=tt;return tt.promise.then(st=>{_({type:"RESOLVE",value:st})}).catch(st=>{_({type:"REJECT",error:st})}),()=>{Ko(it)}},[_,p]),D.useEffect(()=>{if(M!==void 0){if(M===!1){j();return}k()}},[M]);function F(){f&&f()}function B(W){Fn(!1,`${W}`),d&&d(W)}const q=D.useMemo(()=>p.getViewport({scale:A,rotation:b}),[p,b,A]);return D.useEffect(function(){if(!m||!p||!r||!M)return;const{current:tt}=L;if(!tt)return;const it=q.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:p,structTreeLayer:null,viewport:it},ft={annotations:M,annotationStorage:m.annotationStorage,div:tt,imageResourcesPath:s,linkService:r,page:p,renderForms:v,viewport:it};tt.innerHTML="";try{new IT(st).render(ft),F()}catch(pt){B(pt)}return()=>{}},[M,s,r,p,m,v,q]),O.jsx("div",{className:Fm("react-pdf__Page__annotations","annotationLayer"),ref:L})}var NN=function(o,t){var e={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(o);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(o,s[r])&&(e[s[r]]=o[s[r]]);return e};const nx=1;function PN(o){const t=KT(),e=Object.assign(Object.assign({},t),o),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:u,children:d,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:v,error:b="Failed to load the page.",height:A,inputRef:S,loading:_="Loading page",noData:M="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:L,onGetStructTreeError:k,onGetStructTreeSuccess:j,onGetTextError:F,onGetTextSuccess:B,onLoadError:q,onLoadSuccess:W,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:it,onRenderError:st,onRenderSuccess:ft,onRenderTextLayerError:pt,onRenderTextLayerSuccess:rt,pageIndex:ct,pageNumber:H,pdf:V,registerPage:K,renderAnnotationLayer:yt=!0,renderForms:P=!1,renderMode:$="canvas",renderTextLayer:nt=!0,rotate:et,scale:ht=nx,unregisterPage:xt,width:ut}=e,Tt=NN(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Gt]=Ju(),{value:Xt,error:Oe}=Dt,rn=D.useRef(null);ye(V);const qt=Hl(H)?H-1:ct??null,Kt=H??(Hl(ct)?ct+1:null),De=et??(Xt?Xt.rotate:null),$t=D.useMemo(()=>{if(!Xt)return null;let ie=1;const Ke=ht??nx;if(ut||A){const ve=Xt.getViewport({scale:1,rotation:De});ut?ie=ut/ve.width:A&&(ie=A/ve.height)}return Ke*ie},[A,Xt,De,ht,ut]);D.useEffect(function(){return()=>{Hl(qt)&&r&&xt&&xt(qt)}},[r,V,qt,xt]);function ke(){if(W){if(!Xt||!$t)return;W(z0(Xt,$t))}if(r&&K){if(!Hl(qt)||!rn.current)return;K(qt,rn.current)}}function Hn(){Oe&&(Fn(!1,Oe.toString()),q&&q(Oe))}D.useEffect(function(){Gt({type:"RESET"})},[Gt,V,qt]),D.useEffect(function(){if(!V||!Kt)return;const Ke=Jf(V.getPage(Kt)),ve=Ke;return Ke.promise.then(Di=>{Gt({type:"RESOLVE",value:Di})}).catch(Di=>{Gt({type:"REJECT",error:Di})}),()=>Ko(ve)},[Gt,V,Kt]),D.useEffect(()=>{if(Xt!==void 0){if(Xt===!1){Hn();return}ke()}},[Xt,$t]);const Oi=D.useMemo(()=>Xt&&Hl(qt)&&Kt&&Hl(De)&&Hl($t)?{_className:s,canvasBackground:l,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:T,onGetAnnotationsSuccess:L,onGetStructTreeError:k,onGetStructTreeSuccess:j,onGetTextError:F,onGetTextSuccess:B,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:it,onRenderError:st,onRenderSuccess:ft,onRenderTextLayerError:pt,onRenderTextLayerSuccess:rt,page:Xt,pageIndex:qt,pageNumber:Kt,renderForms:P,renderTextLayer:nt,rotate:De,scale:$t}:null,[s,l,m,v,T,L,k,j,F,B,tt,it,st,ft,pt,rt,Xt,qt,Kt,P,nt,De,$t]),ce=D.useMemo(()=>VT(Tt,()=>Xt&&($t?z0(Xt,$t):void 0)),[Tt,Xt,$t]),In=`${qt}@${$t}/${De}`;function sa(){switch($){case"custom":return ye(p),O.jsx(p,{},`${In}_custom`);case"none":return null;case"canvas":default:return O.jsx(LN,{canvasRef:u},`${In}_canvas`)}}function xs(){return nt?O.jsx(DN,{},`${In}_text`):null}function aa(){return yt?O.jsx(kN,{},`${In}_annotations`):null}function lr(){return O.jsxs(ZT.Provider,{value:Oi,children:[sa(),xs(),aa(),d]})}function Kn(){return Kt?V===null||Xt===void 0||Xt===null?O.jsx(Zc,{type:"loading",children:typeof _=="function"?_():_}):V===!1||Xt===!1?O.jsx(Zc,{type:"error",children:typeof b=="function"?b():b}):lr():O.jsx(Zc,{type:"no-data",children:typeof M=="function"?M():M})}return O.jsx("div",Object.assign({className:Fm(s,f),"data-page-number":Kt,ref:QT(S,rn),style:{"--scale-factor":`${$t}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ce,{children:Kn()}))}yN();hA.workerSrc="pdf.worker.mjs";hA.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${qT}/pdf.worker.min.mjs`;function iC({pdfFilePath:o}){const[t,e]=D.useState(null),r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.innerWidth*.75:window.innerWidth*.5,l=({numPages:d})=>{e(d)},u={border:"none",borderTop:"2px #aaa",margin:"0.5rem 0",width:"80%"};return O.jsx("div",{style:{display:"flex",justifyContent:"center",madWidth:"100%"},children:O.jsx(_N,{file:"/PersonalWebpage/"+o,onLoadSuccess:l,children:t&&Array.from(new Array(t),(d,f)=>O.jsxs("div",{children:[O.jsx(PN,{pageNumber:f+1,width:r,renderTextLayer:!0},`page_${f+1}`),f<t-1&&O.jsx("hr",{style:u})]},`page_container_${f}`))})})}function jN(){return O.jsx(iC,{pdfFilePath:"CV.pdf"})}function FN(){const o=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=Vf(),[e,s]=D.useState(!1),[r,l]=D.useState(!1),[u,d]=D.useState(!1),[f,p]=D.useState(!1),[m,v]=D.useState(!1);return O.jsxs("div",{className:"aboutMe",style:{paddingTop:0,marginBottom:"40px",marginLeft:"5px"},children:[O.jsxs("h1",{style:{fontWeight:"bold"},children:["Project:"," ",O.jsx("a",{href:"https://github.com/Justin-Everett/Uni-Final-Project",style:{},children:"Autonomous 2048 Agent"})]}),O.jsxs("div",{className:"aboutMe",children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[!o&&O.jsxs("div",{style:{marginRight:"30px",marginTop:"40px",width:"240px"},children:[O.jsx("h3",{children:"Contents"}),O.jsxs("ul",{style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"20px",paddingLeft:"30px",textAlign:"left",listStyle:"none",display:"grid",gap:"10px"},children:[O.jsx("li",{children:O.jsx("a",{href:"#Overview",className:"contents",children:"Overview"})}),O.jsx("li",{children:O.jsx("a",{href:"#Learned",className:"contents",children:"What I Learned"})}),O.jsx("li",{children:O.jsx("a",{href:"#ControlFlow",className:"contents",children:"Agent Control Flow"})}),O.jsx("li",{children:O.jsx("a",{href:"#Expectimax",className:"contents",children:"Expectimax Component"})}),O.jsx("li",{children:O.jsx("a",{href:"#ComputerVision",className:"contents",children:"Computer Vision"})})]})]}),O.jsx("img",{src:o?"/PersonalWebpage/2048mobile.gif":"/PersonalWebpage/2048.gif",style:{width:o?"70%":"50%",maxWidth:"100%",borderRadius:o?"10px":"4px"}}),!o&&O.jsxs("div",{style:{marginLeft:"30px",marginTop:"40px",width:"240px"},children:[O.jsx("h3",{children:"Important Skills"}),O.jsxs("ul",{style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"20px",textAlign:"right",listStyle:"none",fontWeight:"bold",display:"grid",gap:"10px"},children:[O.jsx("li",{children:"Python"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"Selenium/Web Scraping"}),O.jsx("li",{children:"OpenCV"}),O.jsx("li",{children:"Artificial Intelligence"}),O.jsx("li",{children:"Computer Vision"}),O.jsx("li",{children:"Large Project Planning"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"Technical Documentation"})]})]})]}),O.jsx("hr",{style:{marginBottom:0}}),O.jsxs("code",{children:["Agent playing ",O.jsx("i",{children:"2048"})," autonomously"]})]}),O.jsx("div",{style:{flexBasis:"100%",display:"flex",justifyContent:"center"},children:O.jsx("hr",{style:{width:"70%",opacity:"80%",marginTop:"10px",marginBottom:"15px"}})}),O.jsxs("div",{className:"aboutMe",style:{width:o?"80%":"65%",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"0 20px 20px 20px"},children:[O.jsxs("div",{id:"Overview",children:[O.jsxs("h3",{onClick:()=>s(!e),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:e?"":""}),"Project Overview"]}),O.jsx("div",{className:o?`collapsible ${e?"open":""}`:"",children:O.jsxs("p",{className:"paragraph",children:["For my final year project (dissertation equivalent) for my computer science BSc at Royal Holloway, I constructed an autonomous agent to play the game ",O.jsx("i",{children:"2048"})," entirely automatically, directly on its native website (found"," ",O.jsx("a",{href:"https://play2048.co",children:"here"}),"). ",O.jsx("i",{children:"2048"})," is a simple sliding tile game, where the user aims to combine same-valued tiles by sliding them into each other along the 4 cardinal axes, with the goal of creating a tile whose value is 2048. The project was created during my 3rd and final year at Royal Holloway, spanning the entire year, starting in September and concluding in late May. The agent is driven by an"," ",O.jsx("a",{href:"#Expectimax",style:{color:"lightblue"},onClick:()=>p(!0),children:O.jsx("i",{children:"expectimax"})})," ","algorithm, and utilizes computer vision to visually reconstruct the game board from the website."]})})]}),O.jsxs("div",{id:"Learned",children:[O.jsxs("h3",{onClick:()=>l(!r),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:r?"":""}),"What This Project Taught Me"]}),O.jsxs("div",{className:o?`collapsible ${r?"open":""}`:"",children:[O.jsx("p",{className:"paragraph",style:{marginBottom:0},children:"Throughout the development of this project, I learned a ton of new concepts and technologies, alongside enriching my knowledge of plenty of concepts I had previous experience. Firstly, before this project I had not used the OpenCV or Selenium libraries in any respect, so a part of this project's lifetime consisted of me learning how to use both. This proved to be extremely interesting, as the Selenium I learned helped me to facilitate a web scraping component of the project my team created at my first ever hackathon. Additionally, while I was learning to use the OpenCV library, I was concurrently taking a deep learning course, which not only improved my understanding of basic computer vision concepts like preprocessing, but also helped foster a deeper interest in deep learning that I have carried with me since."}),O.jsx("p",{className:"paragraph",style:{marginTop:0},children:"Secondly, this project was also a wonderful exercise in long-term planning and execution, something that I had lacked extensive practice of through the short sprint-like nature of most previous university projects. The process of developing an in-depth plan prior to development, then focusing on iterative development alongside documentation has since helped me discipline other projects, notably this very website!"})]})]}),O.jsxs("div",{id:"ControlFlow",children:[O.jsxs("h3",{onClick:()=>d(!u),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:u?"":""}),"Agent Control Flow"]}),O.jsx("div",{className:o?`collapsible ${u?"open":""}`:"",children:O.jsxs("p",{className:"paragraph",children:["Step by step, this agent works as follows: ",O.jsx("br",{})," ",O.jsx("b",{children:"1. "})," ","Open a browser window to the ",O.jsx("i",{children:"2048"})," website, then accept cookies and decline the tutorial popup (done using Selenium)"," ",O.jsx("br",{})," ",O.jsx("b",{children:"2. "})," Make 8 movements of random directions"," ",O.jsx("br",{})," ",O.jsx("b",{children:"3. "}),"Take a screenshot of the webpage ",O.jsx("br",{})," ",O.jsx("b",{children:"4. "})," Apply OpenCV-powered computer vision game board reconstruction to recognize the value of each tile and reconstruct the game board from the screenshot as a 4x4 matrix of tile values ",O.jsx("br",{})," ",O.jsx("b",{children:"5. "}),"Apply expectimax search algorithm to the 4x4 matrix representing the game board, returning a suggestion of which direction to move in ",O.jsx("br",{}),O.jsx("b",{children:"6. "})," Simulate a movement in the direction suggested, but do not create new tile - store the locations of the empty tiles in the resultant board to allow for quicker checking of the next board ",O.jsx("br",{}),O.jsx("b",{children:"7. "})," Apply the suggested movement using Selenium ",O.jsx("br",{}),O.jsx("b",{children:"8. "}),"If the game has not ended, return to step 3"]})})]}),O.jsxs("div",{id:"Expectimax",children:[O.jsxs("h3",{onClick:()=>p(!f),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:f?"":""}),"Expectimax Component"]}),O.jsxs("div",{className:o?`collapsible ${f?"open":""}`:"",children:[O.jsx("p",{className:"paragraph",children:"The brains of this entire operation is the expectimax algorithm used to generate move suggestions. An expectimax algorithm is a tree search algorithm that extends from another algorithm, the minimax algorithm. The minimax algorithm's premise is that two players are opposing each other in some form of turn-based game, and the goal of each player is to maximize their own score/reward. This can then be structured as a tree of move options, where each layer of the tree alternates between players. This tree structure can be used to find an optimal move by framing the nodes in each alternating layer as 'max' nodes (representing the first player's move) and 'min' nodes (representing the second player's move, which will aim to minimize the first player's score). A visualization of this can be seen below:"}),O.jsx("img",{src:"/PersonalWebpage/Minimax.png",style:{width:o?"":"40%",maxWidth:"100%"}}),O.jsxs("p",{className:"paragraph",children:["The expectimax algorithm is similar to the minimax algorithm, but is built to handle non-deterministic outcomes by replacing the 'min' nodes with 'chance' nodes, which calculate the expected return of all their children (using the expected value probability formula). Using this expectimax algorithm (along with a set of heuristics, which are used to assign a numerical value to the strength of non-terminal game boards), ",O.jsx("i",{children:"2048"})," ","can be effectively played automatically."]})]})]}),O.jsxs("div",{id:"ComputerVision",children:[O.jsxs("h3",{onClick:()=>v(!m),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:m?"":""}),"Computer Vision Component"]}),O.jsxs("div",{className:o?`collapsible ${m?"open":""}`:"",children:[" ",O.jsxs("p",{className:"paragraph",children:["As the expectimax algorithm is unaware of the content of the webpage, I needed some way for the game board on the webpage to be known to the expectimax algorithm, which I decided to use screenshots and computer vision to accomplish. As seen in the agent's"," ",O.jsx("a",{href:"#ControlFlow",style:{color:"lightblue"},onClick:()=>d(!0),children:"control flow"}),", a screenshot of the webpage is taken each time a move is made. Using the python library"," ",O.jsx("a",{href:"https://docs.opencv.org/4.x/index.html",children:"OpenCV"}),", the"," ",O.jsx("i",{children:"2048"})," game board is isolated from the rest of the screenshot, then divided up into each of the 16 tiles spaces, which are each stored as images via image slicing of the original screenshot. Each of these tile images then has a blur applied, is converted to greyscale, and finally is converted to black and white. With the now preprocessed tile images, the digits within them are then identified using an optical character recognizer (OCR) called"," ",O.jsx("a",{href:"https://github.com/tesseract-ocr/tesseract",children:"Tesseract"}),", then these digits are used to reconstruct the game board in a 2-d array and finally sent through the expectimax algorithm to generate a move suggestion."]})]})]}),O.jsx("button",{className:"reportButton",style:{backgroundColor:"gray",padding:"5px 10px 10px 10px",marginTop:"10px"},onClick:()=>{t("/FYP_report")},children:"View Full Project Report"})]})]})]})}function zN({location:o}){const t=Vf();return O.jsx("button",{className:"reportButtonThin",style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"gray",padding:"5px 10px 5px 10px",zIndex:1e4},onClick:()=>{t(o)},children:"Go Back"})}function HN(){return O.jsxs("div",{children:[O.jsx(iC,{pdfFilePath:"JUSTIN_EVERETT_FYP_FINAL_REPORT.pdf"}),O.jsx(zN,{location:"/2048_agent"})]})}function IN(){const o=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);Vf();const[t,e]=D.useState(!1),[s,r]=D.useState(!1),[l,u]=D.useState(!1),[d,f]=D.useState(!1),[p,m]=D.useState(!1);return O.jsxs("div",{className:"aboutMe",style:{paddingTop:0,marginBottom:"40px",marginLeft:"5px"},children:[O.jsxs("h1",{style:{fontWeight:"bold",maxWidth:o?"90%":"100%"},children:["Project:"," ",O.jsx("a",{href:"https://github.com/Justin-Everett/pacman-project",style:{},children:"Recreating Pac-Man"})]}),O.jsxs("div",{className:"aboutMe",children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[!o&&O.jsxs("div",{style:{marginRight:"30px",width:"240px"},children:[O.jsx("h3",{children:"Contents"}),O.jsxs("ul",{style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"20px",textAlign:"left",listStyle:"none",display:"grid",gap:"10px",maxWidth:"100%"},children:[O.jsx("li",{children:O.jsx("a",{href:"#Overview",className:"contents",children:"Overview"})}),O.jsx("li",{children:O.jsx("a",{href:"#Learned",className:"contents",children:"What I Learned"})}),O.jsx("li",{children:O.jsx("a",{href:"#Graphics",className:"contents",children:"Graphics"})}),O.jsx("li",{children:O.jsx("a",{href:"#Pacman",className:"contents",children:"Pac-Man Movement"})}),O.jsx("li",{children:O.jsx("a",{href:"#Ghost",className:"contents",children:"Ghost Pathfinding"})})]})]}),O.jsx("div",{style:{aspectRatio:"71/40",flex:1,maxWidth:"calc(100% - 540px)",display:"flex",justifyContent:"center",alignItems:"center",minWidth:o?"80vw":"40vw"},children:O.jsx("img",{src:"/PersonalWebpage/Pacman.gif",style:{maxWidth:"100%",maxHeight:"100%",width:"100%",borderRadius:o?"10px":"4px"}})}),!o&&O.jsxs("div",{style:{marginLeft:"30px",width:"240px"},children:[O.jsx("h3",{children:"Important Skills"}),O.jsxs("ul",{style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"20px",textAlign:"right",listStyle:"none",display:"grid",gap:"10px",maxWidth:"100%",fontWeight:"bold"},children:[O.jsx("li",{style:{textWrap:"nowrap"},children:"Java"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"Game Design"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"Project Planning"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"AI Pathfinding"}),O.jsx("li",{style:{textWrap:"nowrap"},children:"Event Handling"})]})]})]}),O.jsx("hr",{style:{marginBottom:0}})]}),O.jsx("div",{style:{flexBasis:"100%",display:"flex",justifyContent:"center"},children:O.jsx("hr",{style:{width:"70%",opacity:"80%",marginTop:"10px",marginBottom:"15px"}})}),O.jsxs("div",{className:"aboutMe",style:{width:o?"80%":"65%",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"0 20px 20px 20px"},children:[O.jsxs("div",{id:"Overview",children:[O.jsxs("h3",{onClick:()=>e(!t),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:t?"":""}),"Project Overview"]}),O.jsx("div",{className:o?`collapsible ${t?"open":""}`:"",children:O.jsx("p",{className:"paragraph",children:"Created at the very start of my programming education, this project's aims were to develop understanding of object-oriented programming and to gain proficiency with the programming language Java, all by creating a replica of the game Pac-Man. This project was made as part of my education in the IB (International Baccalaureate) program as the culmination of the program's 2 year computer science course, and served as my first real introduction to leveraging code to create something."})})]}),O.jsxs("div",{id:"Learned",children:[O.jsxs("h3",{onClick:()=>r(!s),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:s?"":""}),"What This Project Taught Me"]}),O.jsx("div",{className:o?`collapsible ${s?"open":""}`:"",children:O.jsx("p",{className:"paragraph",style:{marginBottom:0},children:"Put bluntly, this project taught me a lot of what you shouldn't do when creating a programming project. As it was among my first projects more advanced than simple terminal-based algorithm programs, I learned a lot throughout this project by first failing, then learning what not to do and adapting accordingly. For example, the most monumental setback during the creation of this project saw me unable to fix a bug where the Pac-Man character would duplicate repeatedly upon crossing the diagonal between the lower left and upper right corners, to which my only successful course of action was to completely restart my codebase. This was, in hindsight, a questionable choice, but highlighted important misteps in my planning process which I addressed by applying more careful planning on how I would implement various parts of the project, as well as adjusting my future approach to be more modular and incremental, a change which has proven to be very helpful in the planning of all my projects since."})})]}),O.jsxs("div",{id:"Graphics",children:[O.jsxs("h3",{onClick:()=>u(!l),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:l?"":""}),"Graphics"]}),O.jsx("div",{className:o?`collapsible ${l?"open":""}`:"",children:O.jsx("p",{className:"paragraph",children:"This project gave me my first experience in handling graphics, which, as is the theme with this project, I did in a way which showed me I had much to learn. The graphics in this project were handled by holding all the information of the playable game area as a 2-dimensional grid of numbers, where the number at each position represented what would be displayed there. For example, if the number at any given position was 0, then a food pellet would be drawn at that position. This leads to several issues, each of which provided me with things to learn upon reflection on this project. For example, with this system and my neglect of the use of a spritesheet, the project required 20+ different png images, which became very confusing. Additionally, since each image is drawn in a tile system, there is no easy way to have smoothly animated transitions for when Pac-Man or a ghost moves from tile to tile (I did ammend this slightly by adding a frame-dependent mouth opening and closing animation to Pac-Man, which turned out better than I expected it to). It did, however, provide ease of use and simplicity, which was important for this project's timeline, as I was effectively learning on the go."})})]}),O.jsxs("div",{id:"Pacman",children:[O.jsxs("h3",{onClick:()=>f(!d),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:d?"":""}),"Pac-Man Movement"]}),O.jsx("div",{className:o?`collapsible ${d?"open":""}`:"",children:O.jsxs("p",{className:"paragraph",children:["As mentioned in the section on"," ",O.jsx("a",{href:"#Graphics",style:{color:"lightblue"},onClick:()=>u(!0),children:"graphics"}),", Pac-Man is displayed as a numerical value on a 2-dimensional grid, where an image of Pac-Man is displayed at his position. Pac-Man's position is held as a class attribute, as the Pac-Man displayed is an instance of the Pac-Man class. His movement is thus controlled by simply adjusting his coordinates on the grid, after checking that his new position is a valid position (i.e. not outside of the map, not on a wall piece). This is done by using event handlers that listen for key presses, such that if the user presses the right arrow key, Pac-Man's position is updated by adding 1 to his x-coordinate. The same applies for each of the other directions, allowing for fluid movement in each cardinal direction."]})})]}),O.jsxs("div",{id:"Ghost",children:[O.jsxs("h3",{onClick:()=>m(!p),children:[o&&O.jsx("span",{style:{marginRight:"10px"},children:p?"":""}),"Ghost Pathfinding"]}),O.jsx("div",{className:o?`collapsible ${p?"open":""}`:"",children:O.jsxs("p",{className:"paragraph",children:["The last major component of this project was the Ghosts, which, like"," ",O.jsx("a",{href:"#Pacman",style:{color:"lightblue"},onClick:()=>f(!0),children:"Pac-Man"}),", are created as instances of a class. In the original Pac-Man game, each of the 4 ghosts has a different pathfinding algorithm, however for this project I chose to only use one pathfinding algorithm and apply it to all the ghosts. This algorithm works by, for each ghost, checking the pythagorean distance to Pac-Man's tile in each of the tiles which the ghost could possibly move to next (e.g. if the ghost has open space all around it, then it will check the distance to Pac-Man from each of its neighboring tiles). The ghost then moves to the square which would put it closest to Pac-Man's current position. In hindsight this algorithm is extremely rudimentary. Surprisingly though, its simplicity along with the ghost's ability to move onto the same tile as each other, lead to the final game being actually rather difficult to beat."]})})]})]})]})]})}function BN({basename:o}){return O.jsx(H2,{basename:o,children:O.jsx(g2,{children:O.jsxs(Il,{path:"/",element:O.jsx(JL,{}),children:[O.jsx(Il,{index:!0,element:O.jsx(eO,{})}),O.jsx(Il,{path:"resume",element:O.jsx(jN,{})}),O.jsx(Il,{path:"2048_agent",element:O.jsx(FN,{})}),O.jsx(Il,{path:"FYP_report",element:O.jsx(HN,{})}),O.jsx(Il,{path:"pacman",element:O.jsx(IN,{})})]})})})}SM.createRoot(document.getElementById("root")).render(O.jsx(D.StrictMode,{children:O.jsx(BN,{basename:"/PersonalWebpage/"})}));
