var KC=Object.defineProperty;var YE=h=>{throw TypeError(h)};var $C=(h,t,i)=>t in h?KC(h,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[t]=i;var St=(h,t,i)=>$C(h,typeof t!="symbol"?t+"":t,i),Qy=(h,t,i)=>t.has(h)||YE("Cannot "+i);var u=(h,t,i)=>(Qy(h,t,"read from private field"),i?i.call(h):t.get(h)),C=(h,t,i)=>t.has(h)?YE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(h):t.set(h,i),_=(h,t,i,s)=>(Qy(h,t,"write to private field"),s?s.call(h,i):t.set(h,i),i),w=(h,t,i)=>(Qy(h,t,"access private method"),i);var Ai=(h,t,i,s)=>({set _(r){_(h,t,r,i)},get _(){return u(h,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function q_(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Zy={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function WC(){if(KE)return Ju;KE=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:h,type:s,key:c,ref:r!==void 0?r:null,props:l}}return Ju.Fragment=t,Ju.jsx=i,Ju.jsxs=i,Ju}var $E;function QC(){return $E||($E=1,Zy.exports=WC()),Zy.exports}var rt=QC(),Jy={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function ZC(){if(WE)return Rt;WE=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function M(O,K,et){this.props=O,this.context=K,this.refs=T,this.updater=et||S}M.prototype.isReactComponent={},M.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=M.prototype;function D(O,K,et){this.props=O,this.context=K,this.refs=T,this.updater=et||S}var k=D.prototype=new R;k.constructor=D,E(k,M.prototype),k.isPureReactComponent=!0;var P=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function X(O,K,et,J,ot,wt){return et=wt.ref,{$$typeof:h,type:O,key:K,ref:et!==void 0?et:null,props:wt}}function W(O,K){return X(O.type,K,void 0,void 0,void 0,O.props)}function tt(O){return typeof O=="object"&&O!==null&&O.$$typeof===h}function st(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var nt=/\/+/g;function gt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?st(""+O.key):K.toString(36)}function yt(){}function ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(yt,yt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,K,et,J,ot){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var ct=!1;if(O===null)ct=!0;else switch(wt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(O.$$typeof){case h:case t:ct=!0;break;case m:return ct=O._init,ht(ct(O._payload),K,et,J,ot)}}if(ct)return ot=ot(O),ct=J===""?"."+gt(O,0):J,P(ot)?(et="",ct!=null&&(et=ct.replace(nt,"$&/")+"/"),ht(ot,K,et,"",function(xe){return xe})):ot!=null&&(tt(ot)&&(ot=W(ot,et+(ot.key==null||O&&O.key===ot.key?"":(""+ot.key).replace(nt,"$&/")+"/")+ct)),K.push(ot)),1;ct=0;var xt=J===""?".":J+":";if(P(O))for(var zt=0;zt<O.length;zt++)J=O[zt],wt=xt+gt(J,zt),ct+=ht(J,K,et,wt,ot);else if(zt=v(O),typeof zt=="function")for(O=zt.call(O),zt=0;!(J=O.next()).done;)J=J.value,wt=xt+gt(J,zt++),ct+=ht(J,K,et,wt,ot);else if(wt==="object"){if(typeof O.then=="function")return ht(ft(O),K,et,J,ot);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(O,K,et){if(O==null)return O;var J=[],ot=0;return ht(O,J,"","",function(wt){return K.call(et,wt,ot++)}),J}function V(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function _t(){}return Rt.Children={map:B,forEach:function(O,K,et){B(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return B(O,function(){K++}),K},toArray:function(O){return B(O,function(K){return K})||[]},only:function(O){if(!tt(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Rt.Component=M,Rt.Fragment=i,Rt.Profiler=r,Rt.PureComponent=D,Rt.StrictMode=s,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=E({},O.props),ot=O.key,wt=void 0;if(K!=null)for(ct in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(ot=""+K.key),K)!q.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(J[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)J.children=et;else if(1<ct){for(var xt=Array(ct),zt=0;zt<ct;zt++)xt[zt]=arguments[zt+2];J.children=xt}return X(O.type,ot,void 0,void 0,wt,J)},Rt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Rt.createElement=function(O,K,et){var J,ot={},wt=null;if(K!=null)for(J in K.key!==void 0&&(wt=""+K.key),K)q.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=K[J]);var ct=arguments.length-2;if(ct===1)ot.children=et;else if(1<ct){for(var xt=Array(ct),zt=0;zt<ct;zt++)xt[zt]=arguments[zt+2];ot.children=xt}if(O&&O.defaultProps)for(J in ct=O.defaultProps,ct)ot[J]===void 0&&(ot[J]=ct[J]);return X(O,wt,void 0,void 0,null,ot)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:d,render:O}},Rt.isValidElement=tt,Rt.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:V}},Rt.memo=function(O,K){return{$$typeof:g,type:O,compare:K===void 0?null:K}},Rt.startTransition=function(O){var K=z.T,et={};z.T=et;try{var J=O(),ot=z.S;ot!==null&&ot(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(_t,Z)}catch(wt){Z(wt)}finally{z.T=K}},Rt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Rt.use=function(O){return z.H.use(O)},Rt.useActionState=function(O,K,et){return z.H.useActionState(O,K,et)},Rt.useCallback=function(O,K){return z.H.useCallback(O,K)},Rt.useContext=function(O){return z.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,K){return z.H.useDeferredValue(O,K)},Rt.useEffect=function(O,K,et){var J=z.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(O,K)},Rt.useId=function(){return z.H.useId()},Rt.useImperativeHandle=function(O,K,et){return z.H.useImperativeHandle(O,K,et)},Rt.useInsertionEffect=function(O,K){return z.H.useInsertionEffect(O,K)},Rt.useLayoutEffect=function(O,K){return z.H.useLayoutEffect(O,K)},Rt.useMemo=function(O,K){return z.H.useMemo(O,K)},Rt.useOptimistic=function(O,K){return z.H.useOptimistic(O,K)},Rt.useReducer=function(O,K,et){return z.H.useReducer(O,K,et)},Rt.useRef=function(O){return z.H.useRef(O)},Rt.useState=function(O){return z.H.useState(O)},Rt.useSyncExternalStore=function(O,K,et){return z.H.useSyncExternalStore(O,K,et)},Rt.useTransition=function(){return z.H.useTransition()},Rt.version="19.1.0",Rt}var QE;function Pb(){return QE||(QE=1,Jy.exports=ZC()),Jy.exports}var H=Pb();const Xl=q_(H);var tv={exports:{}},th={},ev={exports:{}},iv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function JC(){return ZE||(ZE=1,function(h){function t(B,V){var Z=B.length;B.push(V);t:for(;0<Z;){var _t=Z-1>>>1,O=B[_t];if(0<r(O,V))B[_t]=V,B[Z]=O,Z=_t;else break t}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],Z=B.pop();if(Z!==V){B[0]=Z;t:for(var _t=0,O=B.length,K=O>>>1;_t<K;){var et=2*(_t+1)-1,J=B[et],ot=et+1,wt=B[ot];if(0>r(J,Z))ot<O&&0>r(wt,J)?(B[_t]=wt,B[ot]=Z,_t=ot):(B[_t]=J,B[et]=Z,_t=et);else if(ot<O&&0>r(wt,Z))B[_t]=wt,B[ot]=Z,_t=ot;else break t}}return V}function r(B,V){var Z=B.sortIndex-V.sortIndex;return Z!==0?Z:B.id-V.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;h.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();h.unstable_now=function(){return c.now()-d}}var f=[],g=[],m=1,b=null,v=3,S=!1,E=!1,T=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var V=i(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=B)s(g),V.sortIndex=V.expirationTime,t(f,V);else break;V=i(g)}}function z(B){if(T=!1,P(B),!E)if(i(f)!==null)E=!0,q||(q=!0,gt());else{var V=i(g);V!==null&&ht(z,V.startTime-B)}}var q=!1,X=-1,W=5,tt=-1;function st(){return M?!0:!(h.unstable_now()-tt<W)}function nt(){if(M=!1,q){var B=h.unstable_now();tt=B;var V=!0;try{t:{E=!1,T&&(T=!1,D(X),X=-1),S=!0;var Z=v;try{e:{for(P(B),b=i(f);b!==null&&!(b.expirationTime>B&&st());){var _t=b.callback;if(typeof _t=="function"){b.callback=null,v=b.priorityLevel;var O=_t(b.expirationTime<=B);if(B=h.unstable_now(),typeof O=="function"){b.callback=O,P(B),V=!0;break e}b===i(f)&&s(f),P(B)}else s(f);b=i(f)}if(b!==null)V=!0;else{var K=i(g);K!==null&&ht(z,K.startTime-B),V=!1}}break t}finally{b=null,v=Z,S=!1}V=void 0}}finally{V?gt():q=!1}}}var gt;if(typeof k=="function")gt=function(){k(nt)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,ft=yt.port2;yt.port1.onmessage=nt,gt=function(){ft.postMessage(null)}}else gt=function(){R(nt,0)};function ht(B,V){X=R(function(){B(h.unstable_now())},V)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(B){B.callback=null},h.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},h.unstable_getCurrentPriorityLevel=function(){return v},h.unstable_next=function(B){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return B()}finally{v=Z}},h.unstable_requestPaint=function(){M=!0},h.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=v;v=B;try{return V()}finally{v=Z}},h.unstable_scheduleCallback=function(B,V,Z){var _t=h.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?_t+Z:_t):Z=_t,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Z+O,B={id:m++,callback:V,priorityLevel:B,startTime:Z,expirationTime:O,sortIndex:-1},Z>_t?(B.sortIndex=Z,t(g,B),i(f)===null&&B===i(g)&&(T?(D(X),X=-1):T=!0,ht(z,Z-_t))):(B.sortIndex=O,t(f,B),E||S||(E=!0,q||(q=!0,gt()))),B},h.unstable_shouldYield=st,h.unstable_wrapCallback=function(B){var V=v;return function(){var Z=v;v=V;try{return B.apply(this,arguments)}finally{v=Z}}}}(iv)),iv}var JE;function tR(){return JE||(JE=1,ev.exports=JC()),ev.exports}var nv={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function eR(){if(t_)return ui;t_=1;var h=Pb();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:g,implementation:m}}var c=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ui.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,m)},ui.flushSync=function(f){var g=c.T,m=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=g,s.p=m,s.d.f()}},ui.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},ui.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},ui.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ui.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},ui.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin);s.d.L(f,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ui.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},ui.requestFormReset=function(f){s.d.r(f)},ui.unstable_batchedUpdates=function(f,g){return f(g)},ui.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},ui.useFormStatus=function(){return c.H.useHostTransitionStatus()},ui.version="19.1.0",ui}var e_;function iR(){if(e_)return nv.exports;e_=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),nv.exports=eR(),nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function nR(){if(i_)return th;i_=1;var h=tR(),t=Pb(),i=iR();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function f(e){var n=e.alternate;if(!n){if(n=l(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(o=p.return,o!==null){a=o;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return d(p),e;if(y===o)return d(p),n;y=y.sibling}throw Error(s(188))}if(a.return!==o.return)a=p,o=y;else{for(var A=!1,x=p.child;x;){if(x===a){A=!0,a=p,o=y;break}if(x===o){A=!0,o=p,a=y;break}x=x.sibling}if(!A){for(x=y.child;x;){if(x===a){A=!0,a=y,o=p;break}if(x===o){A=!0,o=y,a=p;break}x=x.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function gt(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case tt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case k:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var ht=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},_t=[],O=-1;function K(e){return{current:e}}function et(e){0>O||(e.current=_t[O],_t[O]=null,O--)}function J(e,n){O++,_t[O]=e.current,e.current=n}var ot=K(null),wt=K(null),ct=K(null),xt=K(null);function zt(e,n){switch(J(ct,n),J(wt,e),J(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?SE(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=SE(n),e=EE(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ot),J(ot,e)}function xe(){et(ot),et(wt),et(ct)}function Qt(e){e.memoizedState!==null&&J(xt,e);var n=ot.current,a=EE(n,e.type);n!==a&&(J(wt,e),J(ot,a))}function qn(e){wt.current===e&&(et(ot),et(wt)),xt.current===e&&(et(xt),Ku._currentValue=Z)}var vs=Object.prototype.hasOwnProperty,qt=h.unstable_scheduleCallback,oe=h.unstable_cancelCallback,Ie=h.unstable_shouldYield,Te=h.unstable_requestPaint,Je=h.unstable_now,_r=h.unstable_getCurrentPriorityLevel,$d=h.unstable_ImmediatePriority,Wd=h.unstable_UserBlockingPriority,bs=h.unstable_NormalPriority,Hg=h.unstable_LowPriority,Qd=h.unstable_IdlePriority,zg=h.log,Ug=h.unstable_setDisableYieldValue,wr=null,Ce=null;function Ui(e){if(typeof zg=="function"&&Ug(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(wr,e)}catch{}}var je=Math.clz32?Math.clz32:Nx,iu=Math.log,kx=Math.LN2;function Nx(e){return e>>>=0,e===0?32:31-(iu(e)/kx|0)|0}var Zd=256,Jd=4194304;function xr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tf(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var p=0,y=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var x=o&134217727;return x!==0?(o=x&~y,o!==0?p=xr(o):(A&=x,A!==0?p=xr(A):a||(a=x&~e,a!==0&&(p=xr(a))))):(x=o&~y,x!==0?p=xr(x):A!==0?p=xr(A):a||(a=o&~e,a!==0&&(p=xr(a)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:p}function nu(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Px(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s0(){var e=Zd;return Zd<<=1,(Zd&4194048)===0&&(Zd=256),e}function a0(){var e=Jd;return Jd<<=1,(Jd&62914560)===0&&(Jd=4194304),e}function Bg(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function su(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fx(e,n,a,o,p,y){var A=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,L=e.expirationTimes,I=e.hiddenUpdates;for(a=A&~a;0<a;){var Y=31-je(a),Q=1<<Y;x[Y]=0,L[Y]=-1;var j=I[Y];if(j!==null)for(I[Y]=null,Y=0;Y<j.length;Y++){var G=j[Y];G!==null&&(G.lane&=-536870913)}a&=~Q}o!==0&&r0(e,o,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(A&~n))}function r0(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function l0(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-je(a),p=1<<o;p&n|e[o]&n&&(e[o]|=n),a&=~p}}function Ig(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jg(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function o0(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:IE(e.type))}function Hx(e,n){var a=V.p;try{return V.p=e,n()}finally{V.p=a}}var va=Math.random().toString(36).slice(2),oi="__reactFiber$"+va,Ci="__reactProps$"+va,io="__reactContainer$"+va,Gg="__reactEvents$"+va,zx="__reactListeners$"+va,Ux="__reactHandles$"+va,c0="__reactResources$"+va,au="__reactMarker$"+va;function qg(e){delete e[oi],delete e[Ci],delete e[Gg],delete e[zx],delete e[Ux]}function no(e){var n=e[oi];if(n)return n;for(var a=e.parentNode;a;){if(n=a[io]||a[oi]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=TE(e);e!==null;){if(a=e[oi])return a;e=TE(e)}return n}e=a,a=e.parentNode}return null}function so(e){if(e=e[oi]||e[io]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ru(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ao(e){var n=e[c0];return n||(n=e[c0]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(e){e[au]=!0}var u0=new Set,h0={};function Tr(e,n){ro(e,n),ro(e+"Capture",n)}function ro(e,n){for(h0[e]=n,e=0;e<n.length;e++)u0.add(n[e])}var Bx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),d0={},f0={};function Ix(e){return vs.call(f0,e)?!0:vs.call(d0,e)?!1:Bx.test(e)?f0[e]=!0:(d0[e]=!0,!1)}function ef(e,n,a){if(Ix(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function nf(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function As(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Vg,p0;function lo(e){if(Vg===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Vg=n&&n[1]||"",p0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vg+e+p0}var Xg=!1;function Yg(e,n){if(!e||Xg)return"";Xg=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var j=G}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(G){j=G}e.call(Q.prototype)}}else{try{throw Error()}catch(G){j=G}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),A=y[0],x=y[1];if(A&&x){var L=A.split(`
`),I=x.split(`
`);for(p=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;p<I.length&&!I[p].includes("DetermineComponentFrameRoot");)p++;if(o===L.length||p===I.length)for(o=L.length-1,p=I.length-1;1<=o&&0<=p&&L[o]!==I[p];)p--;for(;1<=o&&0<=p;o--,p--)if(L[o]!==I[p]){if(o!==1||p!==1)do if(o--,p--,0>p||L[o]!==I[p]){var Y=`
`+L[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=p);break}}}finally{Xg=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?lo(a):""}function jx(e){switch(e.tag){case 26:case 27:case 5:return lo(e.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 15:return Yg(e.type,!1);case 11:return Yg(e.type.render,!1);case 1:return Yg(e.type,!0);case 31:return lo("Activity");default:return""}}function g0(e){try{var n="";do n+=jx(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function m0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gx(e){var n=m0(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(A){o=""+A,y.call(this,A)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function sf(e){e._valueTracker||(e._valueTracker=Gx(e))}function y0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=m0(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function af(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qx=/[\n"\\]/g;function ln(e){return e.replace(qx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Kg(e,n,a,o,p,y,A,x){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),n!=null?A==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),n!=null?$g(e,A,rn(n)):a!=null?$g(e,A,rn(a)):o!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+rn(x):e.removeAttribute("name")}function v0(e,n,a,o,p,y,A,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,x||n===e.value||(e.value=n),e.defaultValue=n}o=o??p,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=x?e.checked:!!o,e.defaultChecked=!!o,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A)}function $g(e,n,a){n==="number"&&af(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function oo(e,n,a,o){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&o&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,o&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function b0(e,n,a){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+rn(a):""}function A0(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ht(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=rn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function co(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Vx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S0(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Vx.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function E0(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var p in n)o=n[p],n.hasOwnProperty(p)&&a[p]!==o&&S0(e,p,o)}else for(var y in n)n.hasOwnProperty(y)&&S0(e,y,n[y])}function Wg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rf(e){return Yx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qg=null;function Zg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,ho=null;function _0(e){var n=so(e);if(n&&(e=n.stateNode)){var a=e[Ci]||null;t:switch(e=n.stateNode,n.type){case"input":if(Kg(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var p=o[Ci]||null;if(!p)throw Error(s(90));Kg(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&y0(o)}break t;case"textarea":b0(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&oo(e,!!a.multiple,n,!1)}}}var Jg=!1;function w0(e,n,a){if(Jg)return e(n,a);Jg=!0;try{var o=e(n);return o}finally{if(Jg=!1,(uo!==null||ho!==null)&&(Vf(),uo&&(n=uo,e=ho,ho=uo=null,_0(n),e)))for(n=0;n<e.length;n++)_0(e[n])}}function lu(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ci]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=!1;if(Ss)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){tm=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{tm=!1}var ba=null,em=null,lf=null;function x0(){if(lf)return lf;var e,n=em,a=n.length,o,p="value"in ba?ba.value:ba.textContent,y=p.length;for(e=0;e<a&&n[e]===p[e];e++);var A=a-e;for(o=1;o<=A&&n[a-o]===p[y-o];o++);return lf=p.slice(e,1<o?1-o:void 0)}function of(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function cf(){return!0}function T0(){return!1}function Ri(e){function n(a,o,p,y,A){this._reactName=a,this._targetInst=p,this.type=o,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cf:T0,this.isPropagationStopped=T0,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),n}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Ri(Cr),cu=m({},Cr,{view:0,detail:0}),Kx=Ri(cu),im,nm,uu,hf=m({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uu&&(uu&&e.type==="mousemove"?(im=e.screenX-uu.screenX,nm=e.screenY-uu.screenY):nm=im=0,uu=e),im)},movementY:function(e){return"movementY"in e?e.movementY:nm}}),C0=Ri(hf),$x=m({},hf,{dataTransfer:0}),Wx=Ri($x),Qx=m({},cu,{relatedTarget:0}),sm=Ri(Qx),Zx=m({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=Ri(Zx),tT=m({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eT=Ri(tT),iT=m({},Cr,{data:0}),R0=Ri(iT),nT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rT(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=aT[e])?!!n[e]:!1}function am(){return rT}var lT=m({},cu,{key:function(e){if(e.key){var n=nT[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(e){return e.type==="keypress"?of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oT=Ri(lT),cT=m({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=Ri(cT),uT=m({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),hT=Ri(uT),dT=m({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fT=Ri(dT),pT=m({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gT=Ri(pT),mT=m({},Cr,{newState:0,oldState:0}),yT=Ri(mT),vT=[9,13,27,32],rm=Ss&&"CompositionEvent"in window,hu=null;Ss&&"documentMode"in document&&(hu=document.documentMode);var bT=Ss&&"TextEvent"in window&&!hu,L0=Ss&&(!rm||hu&&8<hu&&11>=hu),D0=" ",O0=!1;function k0(e,n){switch(e){case"keyup":return vT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function AT(e,n){switch(e){case"compositionend":return N0(n);case"keypress":return n.which!==32?null:(O0=!0,D0);case"textInput":return e=n.data,e===D0&&O0?null:e;default:return null}}function ST(e,n){if(fo)return e==="compositionend"||!rm&&k0(e,n)?(e=x0(),lf=em=ba=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L0&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ET[e.type]:n==="textarea"}function F0(e,n,a,o){uo?ho?ho.push(o):ho=[o]:uo=o,n=Qf(n,"onChange"),0<n.length&&(a=new uf("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var du=null,fu=null;function _T(e){mE(e,0)}function df(e){var n=ru(e);if(y0(n))return e}function H0(e,n){if(e==="change")return n}var z0=!1;if(Ss){var lm;if(Ss){var om="oninput"in document;if(!om){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),om=typeof U0.oninput=="function"}lm=om}else lm=!1;z0=lm&&(!document.documentMode||9<document.documentMode)}function B0(){du&&(du.detachEvent("onpropertychange",I0),fu=du=null)}function I0(e){if(e.propertyName==="value"&&df(fu)){var n=[];F0(n,fu,e,Zg(e)),w0(_T,n)}}function wT(e,n,a){e==="focusin"?(B0(),du=n,fu=a,du.attachEvent("onpropertychange",I0)):e==="focusout"&&B0()}function xT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(fu)}function TT(e,n){if(e==="click")return df(n)}function CT(e,n){if(e==="input"||e==="change")return df(n)}function RT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bi=typeof Object.is=="function"?Object.is:RT;function pu(e,n){if(Bi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var p=a[o];if(!vs.call(n,p)||!Bi(e[p],n[p]))return!1}return!0}function j0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G0(e,n){var a=j0(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=j0(a)}}function q0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?q0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function V0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=af(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=af(e.document)}return n}function cm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var MT=Ss&&"documentMode"in document&&11>=document.documentMode,po=null,um=null,gu=null,hm=!1;function X0(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hm||po==null||po!==af(o)||(o=po,"selectionStart"in o&&cm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gu&&pu(gu,o)||(gu=o,o=Qf(um,"onSelect"),0<o.length&&(n=new uf("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=po)))}function Rr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var go={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},dm={},Y0={};Ss&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Mr(e){if(dm[e])return dm[e];if(!go[e])return e;var n=go[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Y0)return dm[e]=n[a];return e}var K0=Mr("animationend"),$0=Mr("animationiteration"),W0=Mr("animationstart"),LT=Mr("transitionrun"),DT=Mr("transitionstart"),OT=Mr("transitioncancel"),Q0=Mr("transitionend"),Z0=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function xn(e,n){Z0.set(e,n),Tr(n,[e])}var J0=new WeakMap;function on(e,n){if(typeof e=="object"&&e!==null){var a=J0.get(e);return a!==void 0?a:(n={value:e,source:n,stack:g0(n)},J0.set(e,n),n)}return{value:e,source:n,stack:g0(n)}}var cn=[],mo=0,pm=0;function ff(){for(var e=mo,n=pm=mo=0;n<e;){var a=cn[n];cn[n++]=null;var o=cn[n];cn[n++]=null;var p=cn[n];cn[n++]=null;var y=cn[n];if(cn[n++]=null,o!==null&&p!==null){var A=o.pending;A===null?p.next=p:(p.next=A.next,A.next=p),o.pending=p}y!==0&&tA(a,p,y)}}function pf(e,n,a,o){cn[mo++]=e,cn[mo++]=n,cn[mo++]=a,cn[mo++]=o,pm|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function gm(e,n,a,o){return pf(e,n,a,o),gf(e)}function yo(e,n){return pf(e,null,null,n),gf(e)}function tA(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var p=!1,y=e.return;y!==null;)y.childLanes|=a,o=y.alternate,o!==null&&(o.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-je(a),e=y.hiddenUpdates,o=e[p],o===null?e[p]=[n]:o.push(n),n.lane=a|536870912),y):null}function gf(e){if(50<Bu)throw Bu=0,Sy=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var vo={};function kT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,n,a,o){return new kT(e,n,a,o)}function mm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Es(e,n){var a=e.alternate;return a===null?(a=Ii(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eA(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function mf(e,n,a,o,p,y){var A=0;if(o=e,typeof e=="function")mm(e)&&(A=1);else if(typeof e=="string")A=PC(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case tt:return e=Ii(31,a,n,p),e.elementType=tt,e.lanes=y,e;case E:return Lr(a.children,p,y,n);case T:A=8,p|=24;break;case M:return e=Ii(12,a,n,p|2),e.elementType=M,e.lanes=y,e;case z:return e=Ii(13,a,n,p),e.elementType=z,e.lanes=y,e;case q:return e=Ii(19,a,n,p),e.elementType=q,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case k:A=10;break t;case D:A=9;break t;case P:A=11;break t;case X:A=14;break t;case W:A=16,o=null;break t}A=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Ii(A,a,n,p),n.elementType=e,n.type=o,n.lanes=y,n}function Lr(e,n,a,o){return e=Ii(7,e,o,n),e.lanes=a,e}function ym(e,n,a){return e=Ii(6,e,null,n),e.lanes=a,e}function vm(e,n,a){return n=Ii(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bo=[],Ao=0,yf=null,vf=0,un=[],hn=0,Dr=null,_s=1,ws="";function Or(e,n){bo[Ao++]=vf,bo[Ao++]=yf,yf=e,vf=n}function iA(e,n,a){un[hn++]=_s,un[hn++]=ws,un[hn++]=Dr,Dr=e;var o=_s;e=ws;var p=32-je(o)-1;o&=~(1<<p),a+=1;var y=32-je(n)+p;if(30<y){var A=p-p%5;y=(o&(1<<A)-1).toString(32),o>>=A,p-=A,_s=1<<32-je(n)+p|a<<p|o,ws=y+e}else _s=1<<y|a<<p|o,ws=e}function bm(e){e.return!==null&&(Or(e,1),iA(e,1,0))}function Am(e){for(;e===yf;)yf=bo[--Ao],bo[Ao]=null,vf=bo[--Ao],bo[Ao]=null;for(;e===Dr;)Dr=un[--hn],un[hn]=null,ws=un[--hn],un[hn]=null,_s=un[--hn],un[hn]=null}var bi=null,ye=null,jt=!1,kr=null,Vn=!1,Sm=Error(s(519));function Nr(e){var n=Error(s(418,""));throw vu(on(n,e)),Sm}function nA(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[oi]=e,n[Ci]=o,a){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<ju.length;a++)Ft(ju[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),v0(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),sf(n);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),A0(n,o.value,o.defaultValue,o.children),sf(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||AE(n.textContent,a)?(o.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),o.onScroll!=null&&Ft("scroll",n),o.onScrollEnd!=null&&Ft("scrollend",n),o.onClick!=null&&(n.onclick=Zf),n=!0):n=!1,n||Nr(e)}function sA(e){for(bi=e.return;bi;)switch(bi.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:bi=bi.return}}function mu(e){if(e!==bi)return!1;if(!jt)return sA(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hy(e.type,e.memoizedProps)),a=!a),a&&ye&&Nr(e),sA(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ye=Cn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ye=null}}else n===27?(n=ye,Pa(e.type)?(e=Iy,Iy=null,ye=e):ye=n):ye=bi?Cn(e.stateNode.nextSibling):null;return!0}function yu(){ye=bi=null,jt=!1}function aA(){var e=kr;return e!==null&&(Di===null?Di=e:Di.push.apply(Di,e),kr=null),e}function vu(e){kr===null?kr=[e]:kr.push(e)}var Em=K(null),Pr=null,xs=null;function Aa(e,n,a){J(Em,n._currentValue),n._currentValue=a}function Ts(e){e._currentValue=Em.current,et(Em)}function _m(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function wm(e,n,a,o){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var A=p.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=p;for(var L=0;L<n.length;L++)if(x.context===n[L]){y.lanes|=a,x=y.alternate,x!==null&&(x.lanes|=a),_m(y.return,a,e),o||(A=null);break t}y=x.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(s(341));A.lanes|=a,y=A.alternate,y!==null&&(y.lanes|=a),_m(A,a,e),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===e){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function bu(e,n,a,o){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var x=p.type;Bi(p.pendingProps.value,A.value)||(e!==null?e.push(x):e=[x])}}else if(p===xt.current){if(A=p.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Ku):e=[Ku])}p=p.return}e!==null&&wm(n,e,a,o),n.flags|=262144}function bf(e){for(e=e.firstContext;e!==null;){if(!Bi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){Pr=e,xs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ci(e){return rA(Pr,e)}function Af(e,n){return Pr===null&&Fr(e),rA(e,n)}function rA(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xs===null){if(e===null)throw Error(s(308));xs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xs=xs.next=n;return a}var NT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},PT=h.unstable_scheduleCallback,FT=h.unstable_NormalPriority,ke={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new NT,data:new Map,refCount:0}}function Au(e){e.refCount--,e.refCount===0&&PT(FT,function(){e.controller.abort()})}var Su=null,Tm=0,So=0,Eo=null;function HT(e,n){if(Su===null){var a=Su=[];Tm=0,So=Ry(),Eo={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tm++,n.then(lA,lA),n}function lA(){if(--Tm===0&&Su!==null){Eo!==null&&(Eo.status="fulfilled");var e=Su;Su=null,So=0,Eo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(o.status="rejected",o.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),o}var oA=B.S;B.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&HT(e,n),oA!==null&&oA(e,n)};var Hr=K(null);function Cm(){var e=Hr.current;return e!==null?e:ae.pooledCache}function Sf(e,n){n===null?J(Hr,Hr.current):J(Hr,n.pool)}function cA(){var e=Cm();return e===null?null:{parent:ke._currentValue,pool:e}}var Eu=Error(s(460)),uA=Error(s(474)),Ef=Error(s(542)),Rm={then:function(){}};function hA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _f(){}function dA(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_f,_f),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pA(e),e;default:if(typeof n.status=="string")n.then(_f,_f);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=o}},function(o){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pA(e),e}throw _u=n,Eu}}var _u=null;function fA(){if(_u===null)throw Error(s(459));var e=_u;return _u=null,e}function pA(e){if(e===Eu||e===Ef)throw Error(s(483))}var Sa=!1;function Mm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _a(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var p=o.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),o.pending=n,n=gf(e),tA(e,null,a),n}return pf(e,o,n,a),gf(e)}function wu(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,l0(e,a)}}function Dm(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=A:y=y.next=A,a=a.next}while(a!==null);y===null?p=y=n:y=y.next=n}else p=y=n;a={baseState:o.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Om=!1;function xu(){if(Om){var e=Eo;if(e!==null)throw e}}function Tu(e,n,a,o){Om=!1;var p=e.updateQueue;Sa=!1;var y=p.firstBaseUpdate,A=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var L=x,I=L.next;L.next=null,A===null?y=I:A.next=I,A=L;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==A&&(x===null?Y.firstBaseUpdate=I:x.next=I,Y.lastBaseUpdate=L))}if(y!==null){var Q=p.baseState;A=0,Y=I=L=null,x=y;do{var j=x.lane&-536870913,G=j!==x.lane;if(G?(Bt&j)===j:(o&j)===j){j!==0&&j===So&&(Om=!0),Y!==null&&(Y=Y.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var At=e,vt=x;j=n;var te=a;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){Q=At.call(te,Q,j);break t}Q=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,j=typeof At=="function"?At.call(te,Q,j):At,j==null)break t;Q=m({},Q,j);break t;case 2:Sa=!0}}j=x.callback,j!==null&&(e.flags|=64,G&&(e.flags|=8192),G=p.callbacks,G===null?p.callbacks=[j]:G.push(j))}else G={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(I=Y=G,L=Q):Y=Y.next=G,A|=j;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;G=x,x=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);Y===null&&(L=Q),p.baseState=L,p.firstBaseUpdate=I,p.lastBaseUpdate=Y,y===null&&(p.shared.lanes=0),Da|=A,e.lanes=A,e.memoizedState=Q}}function gA(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function mA(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gA(a[e],n)}var _o=K(null),wf=K(0);function yA(e,n){e=ks,J(wf,e),J(_o,n),ks=e|n.baseLanes}function km(){J(wf,ks),J(_o,_o.current)}function Nm(){ks=wf.current,et(_o),et(wf)}var wa=0,Dt=null,Zt=null,Re=null,xf=!1,wo=!1,zr=!1,Tf=0,Cu=0,xo=null,UT=0;function Se(){throw Error(s(321))}function Pm(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Bi(e[a],n[a]))return!1;return!0}function Fm(e,n,a,o,p,y){return wa=y,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?tS:eS,zr=!1,y=a(o,p),zr=!1,wo&&(y=bA(n,a,o,p)),vA(e),y}function vA(e){B.H=Of;var n=Zt!==null&&Zt.next!==null;if(wa=0,Re=Zt=Dt=null,xf=!1,Cu=0,xo=null,n)throw Error(s(300));e===null||qe||(e=e.dependencies,e!==null&&bf(e)&&(qe=!0))}function bA(e,n,a,o){Dt=e;var p=0;do{if(wo&&(xo=null),Cu=0,wo=!1,25<=p)throw Error(s(301));if(p+=1,Re=Zt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=XT,y=n(a,o)}while(wo);return y}function BT(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?Ru(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Hm(){var e=Tf!==0;return Tf=0,e}function zm(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Um(e){if(xf){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xf=!1}wa=0,Re=Zt=Dt=null,wo=!1,Cu=Tf=0,xo=null}function Mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=e:Re=Re.next=e,Re}function Me(){if(Zt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Re===null?Dt.memoizedState:Re.next;if(n!==null)Re=n,Zt=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Dt.memoizedState=Re=e:Re=Re.next=e}return Re}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(e){var n=Cu;return Cu+=1,xo===null&&(xo=[]),e=dA(xo,e,n),n=Dt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?tS:eS),e}function Cf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ru(e);if(e.$$typeof===k)return ci(e)}throw Error(s(438,String(e)))}function Im(e){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bm(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=st;return n.index++,a}function Cs(e,n){return typeof n=="function"?n(e):n}function Rf(e){var n=Me();return jm(n,Zt,e)}function jm(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var p=e.baseQueue,y=o.pending;if(y!==null){if(p!==null){var A=p.next;p.next=y.next,y.next=A}n.baseQueue=p=y,o.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var x=A=null,L=null,I=n,Y=!1;do{var Q=I.lane&-536870913;if(Q!==I.lane?(Bt&Q)===Q:(wa&Q)===Q){var j=I.revertLane;if(j===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Q===So&&(Y=!0);else if((wa&j)===j){I=I.next,j===So&&(Y=!0);continue}else Q={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},L===null?(x=L=Q,A=y):L=L.next=Q,Dt.lanes|=j,Da|=j;Q=I.action,zr&&a(y,Q),y=I.hasEagerState?I.eagerState:a(y,Q)}else j={lane:Q,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},L===null?(x=L=j,A=y):L=L.next=j,Dt.lanes|=Q,Da|=Q;I=I.next}while(I!==null&&I!==n);if(L===null?A=y:L.next=x,!Bi(y,e.memoizedState)&&(qe=!0,Y&&(a=Eo,a!==null)))throw a;e.memoizedState=y,e.baseState=A,e.baseQueue=L,o.lastRenderedState=y}return p===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Gm(e){var n=Me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,p=a.pending,y=n.memoizedState;if(p!==null){a.pending=null;var A=p=p.next;do y=e(y,A.action),A=A.next;while(A!==p);Bi(y,n.memoizedState)||(qe=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,o]}function AA(e,n,a){var o=Dt,p=Me(),y=jt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=n();var A=!Bi((Zt||p).memoizedState,a);A&&(p.memoizedState=a,qe=!0),p=p.queue;var x=_A.bind(null,o,p,e);if(Mu(2048,8,x,[e]),p.getSnapshot!==n||A||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,To(9,Mf(),EA.bind(null,o,p,a,n),null),ae===null)throw Error(s(349));y||(wa&124)!==0||SA(o,n,a)}return a}function SA(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=Bm(),Dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function EA(e,n,a,o){n.value=a,n.getSnapshot=o,wA(n)&&xA(e)}function _A(e,n,a){return a(function(){wA(n)&&xA(e)})}function wA(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Bi(e,a)}catch{return!0}}function xA(e){var n=yo(e,2);n!==null&&Xi(n,e,2)}function qm(e){var n=Mi();if(typeof e=="function"){var a=e;if(e=a(),zr){Ui(!0);try{a()}finally{Ui(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},n}function TA(e,n,a,o){return e.baseState=a,jm(e,Zt,typeof o=="function"?o:Cs)}function IT(e,n,a,o,p){if(Df(e))throw Error(s(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};B.T!==null?a(!0):y.isTransition=!1,o(y),a=n.pending,a===null?(y.next=n.pending=y,CA(n,y)):(y.next=a.next,n.pending=a.next=y)}}function CA(e,n){var a=n.action,o=n.payload,p=e.state;if(n.isTransition){var y=B.T,A={};B.T=A;try{var x=a(p,o),L=B.S;L!==null&&L(A,x),RA(e,n,x)}catch(I){Vm(e,n,I)}finally{B.T=y}}else try{y=a(p,o),RA(e,n,y)}catch(I){Vm(e,n,I)}}function RA(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){MA(e,n,o)},function(o){return Vm(e,n,o)}):MA(e,n,a)}function MA(e,n,a){n.status="fulfilled",n.value=a,LA(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,CA(e,a)))}function Vm(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,LA(n),n=n.next;while(n!==o)}e.action=null}function LA(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function DA(e,n){return n}function OA(e,n){if(jt){var a=ae.formState;if(a!==null){t:{var o=Dt;if(jt){if(ye){e:{for(var p=ye,y=Vn;p.nodeType!==8;){if(!y){p=null;break e}if(p=Cn(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ye=Cn(p.nextSibling),o=p.data==="F!";break t}}Nr(o)}o=!1}o&&(n=a[0])}}return a=Mi(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DA,lastRenderedState:n},a.queue=o,a=QA.bind(null,Dt,o),o.dispatch=a,o=qm(!1),y=Wm.bind(null,Dt,!1,o.queue),o=Mi(),p={state:n,dispatch:null,action:e,pending:null},o.queue=p,a=IT.bind(null,Dt,p,y,a),p.dispatch=a,o.memoizedState=e,[n,a,!1]}function kA(e){var n=Me();return NA(n,Zt,e)}function NA(e,n,a){if(n=jm(e,n,DA)[0],e=Rf(Cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ru(n)}catch(A){throw A===Eu?Ef:A}else o=n;n=Me();var p=n.queue,y=p.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,To(9,Mf(),jT.bind(null,p,a),null)),[o,y,e]}function jT(e,n){e.action=n}function PA(e){var n=Me(),a=Zt;if(a!==null)return NA(n,a,e);Me(),n=n.memoizedState,a=Me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function To(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Bm(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Mf(){return{destroy:void 0,resource:void 0}}function FA(){return Me().memoizedState}function Lf(e,n,a,o){var p=Mi();o=o===void 0?null:o,Dt.flags|=e,p.memoizedState=To(1|n,Mf(),a,o)}function Mu(e,n,a,o){var p=Me();o=o===void 0?null:o;var y=p.memoizedState.inst;Zt!==null&&o!==null&&Pm(o,Zt.memoizedState.deps)?p.memoizedState=To(n,y,a,o):(Dt.flags|=e,p.memoizedState=To(1|n,y,a,o))}function HA(e,n){Lf(8390656,8,e,n)}function zA(e,n){Mu(2048,8,e,n)}function UA(e,n){return Mu(4,2,e,n)}function BA(e,n){return Mu(4,4,e,n)}function IA(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jA(e,n,a){a=a!=null?a.concat([e]):null,Mu(4,4,IA.bind(null,n,e),a)}function Xm(){}function GA(e,n){var a=Me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Pm(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function qA(e,n){var a=Me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Pm(n,o[1]))return o[0];if(o=e(),zr){Ui(!0);try{e()}finally{Ui(!1)}}return a.memoizedState=[o,n],o}function Ym(e,n,a){return a===void 0||(wa&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=YS(),Dt.lanes|=e,Da|=e,a)}function VA(e,n,a,o){return Bi(a,n)?a:_o.current!==null?(e=Ym(e,a,o),Bi(e,n)||(qe=!0),e):(wa&42)===0?(qe=!0,e.memoizedState=a):(e=YS(),Dt.lanes|=e,Da|=e,n)}function XA(e,n,a,o,p){var y=V.p;V.p=y!==0&&8>y?y:8;var A=B.T,x={};B.T=x,Wm(e,!1,n,a);try{var L=p(),I=B.S;if(I!==null&&I(x,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=zT(L,o);Lu(e,n,Y,Vi(e))}else Lu(e,n,o,Vi(e))}catch(Q){Lu(e,n,{then:function(){},status:"rejected",reason:Q},Vi())}finally{V.p=y,B.T=A}}function GT(){}function Km(e,n,a,o){if(e.tag!==5)throw Error(s(476));var p=YA(e).queue;XA(e,p,n,Z,a===null?GT:function(){return KA(e),a(o)})}function YA(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function KA(e){var n=YA(e).next.queue;Lu(e,n,{},Vi())}function $m(){return ci(Ku)}function $A(){return Me().memoizedState}function WA(){return Me().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vi();e=Ea(a);var o=_a(n,e,a);o!==null&&(Xi(o,n,a),wu(o,n,a)),n={cache:xm()},e.payload=n;return}n=n.return}}function VT(e,n,a){var o=Vi();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Df(e)?ZA(n,a):(a=gm(e,n,a,o),a!==null&&(Xi(a,e,o),JA(a,n,o)))}function QA(e,n,a){var o=Vi();Lu(e,n,a,o)}function Lu(e,n,a,o){var p={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Df(e))ZA(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var A=n.lastRenderedState,x=y(A,a);if(p.hasEagerState=!0,p.eagerState=x,Bi(x,A))return pf(e,n,p,0),ae===null&&ff(),!1}catch{}finally{}if(a=gm(e,n,p,o),a!==null)return Xi(a,e,o),JA(a,n,o),!0}return!1}function Wm(e,n,a,o){if(o={lane:2,revertLane:Ry(),action:o,hasEagerState:!1,eagerState:null,next:null},Df(e)){if(n)throw Error(s(479))}else n=gm(e,a,o,2),n!==null&&Xi(n,e,2)}function Df(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function ZA(e,n){wo=xf=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function JA(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,l0(e,a)}}var Of={readContext:ci,use:Cf,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},tS={readContext:ci,use:Cf,useCallback:function(e,n){return Mi().memoizedState=[e,n===void 0?null:n],e},useContext:ci,useEffect:HA,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Lf(4194308,4,IA.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Lf(4194308,4,e,n)},useInsertionEffect:function(e,n){Lf(4,2,e,n)},useMemo:function(e,n){var a=Mi();n=n===void 0?null:n;var o=e();if(zr){Ui(!0);try{e()}finally{Ui(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Mi();if(a!==void 0){var p=a(n);if(zr){Ui(!0);try{a(n)}finally{Ui(!1)}}}else p=n;return o.memoizedState=o.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},o.queue=e,e=e.dispatch=VT.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=Mi();return e={current:e},n.memoizedState=e},useState:function(e){e=qm(e);var n=e.queue,a=QA.bind(null,Dt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Xm,useDeferredValue:function(e,n){var a=Mi();return Ym(a,e,n)},useTransition:function(){var e=qm(!1);return e=XA.bind(null,Dt,e.queue,!0,!1),Mi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Dt,p=Mi();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ae===null)throw Error(s(349));(Bt&124)!==0||SA(o,n,a)}p.memoizedState=a;var y={value:a,getSnapshot:n};return p.queue=y,HA(_A.bind(null,o,y,e),[e]),o.flags|=2048,To(9,Mf(),EA.bind(null,o,y,a,n),null),a},useId:function(){var e=Mi(),n=ae.identifierPrefix;if(jt){var a=ws,o=_s;a=(o&~(1<<32-je(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Tf++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=UT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:$m,useFormState:OA,useActionState:OA,useOptimistic:function(e){var n=Mi();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wm.bind(null,Dt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Im,useCacheRefresh:function(){return Mi().memoizedState=qT.bind(null,Dt)}},eS={readContext:ci,use:Cf,useCallback:GA,useContext:ci,useEffect:zA,useImperativeHandle:jA,useInsertionEffect:UA,useLayoutEffect:BA,useMemo:qA,useReducer:Rf,useRef:FA,useState:function(){return Rf(Cs)},useDebugValue:Xm,useDeferredValue:function(e,n){var a=Me();return VA(a,Zt.memoizedState,e,n)},useTransition:function(){var e=Rf(Cs)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:Ru(e),n]},useSyncExternalStore:AA,useId:$A,useHostTransitionStatus:$m,useFormState:kA,useActionState:kA,useOptimistic:function(e,n){var a=Me();return TA(a,Zt,e,n)},useMemoCache:Im,useCacheRefresh:WA},XT={readContext:ci,use:Cf,useCallback:GA,useContext:ci,useEffect:zA,useImperativeHandle:jA,useInsertionEffect:UA,useLayoutEffect:BA,useMemo:qA,useReducer:Gm,useRef:FA,useState:function(){return Gm(Cs)},useDebugValue:Xm,useDeferredValue:function(e,n){var a=Me();return Zt===null?Ym(a,e,n):VA(a,Zt.memoizedState,e,n)},useTransition:function(){var e=Gm(Cs)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:Ru(e),n]},useSyncExternalStore:AA,useId:$A,useHostTransitionStatus:$m,useFormState:PA,useActionState:PA,useOptimistic:function(e,n){var a=Me();return Zt!==null?TA(a,Zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Im,useCacheRefresh:WA},Co=null,Du=0;function kf(e){var n=Du;return Du+=1,Co===null&&(Co=[]),dA(Co,e,n)}function Ou(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nf(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function iS(e){var n=e._init;return n(e._payload)}function nS(e){function n(F,N){if(e){var U=F.deletions;U===null?(F.deletions=[N],F.flags|=16):U.push(N)}}function a(F,N){if(!e)return null;for(;N!==null;)n(F,N),N=N.sibling;return null}function o(F){for(var N=new Map;F!==null;)F.key!==null?N.set(F.key,F):N.set(F.index,F),F=F.sibling;return N}function p(F,N){return F=Es(F,N),F.index=0,F.sibling=null,F}function y(F,N,U){return F.index=U,e?(U=F.alternate,U!==null?(U=U.index,U<N?(F.flags|=67108866,N):U):(F.flags|=67108866,N)):(F.flags|=1048576,N)}function A(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function x(F,N,U,$){return N===null||N.tag!==6?(N=ym(U,F.mode,$),N.return=F,N):(N=p(N,U),N.return=F,N)}function L(F,N,U,$){var ut=U.type;return ut===E?Y(F,N,U.props.children,$,U.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&iS(ut)===N.type)?(N=p(N,U.props),Ou(N,U),N.return=F,N):(N=mf(U.type,U.key,U.props,null,F.mode,$),Ou(N,U),N.return=F,N)}function I(F,N,U,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=vm(U,F.mode,$),N.return=F,N):(N=p(N,U.children||[]),N.return=F,N)}function Y(F,N,U,$,ut){return N===null||N.tag!==7?(N=Lr(U,F.mode,$,ut),N.return=F,N):(N=p(N,U),N.return=F,N)}function Q(F,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ym(""+N,F.mode,U),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return U=mf(N.type,N.key,N.props,null,F.mode,U),Ou(U,N),U.return=F,U;case S:return N=vm(N,F.mode,U),N.return=F,N;case W:var $=N._init;return N=$(N._payload),Q(F,N,U)}if(ht(N)||gt(N))return N=Lr(N,F.mode,U,null),N.return=F,N;if(typeof N.then=="function")return Q(F,kf(N),U);if(N.$$typeof===k)return Q(F,Af(F,N),U);Nf(F,N)}return null}function j(F,N,U,$){var ut=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:x(F,N,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===ut?L(F,N,U,$):null;case S:return U.key===ut?I(F,N,U,$):null;case W:return ut=U._init,U=ut(U._payload),j(F,N,U,$)}if(ht(U)||gt(U))return ut!==null?null:Y(F,N,U,$,null);if(typeof U.then=="function")return j(F,N,kf(U),$);if(U.$$typeof===k)return j(F,N,Af(F,U),$);Nf(F,U)}return null}function G(F,N,U,$,ut){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return F=F.get(U)||null,x(N,F,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return F=F.get($.key===null?U:$.key)||null,L(N,F,$,ut);case S:return F=F.get($.key===null?U:$.key)||null,I(N,F,$,ut);case W:var kt=$._init;return $=kt($._payload),G(F,N,U,$,ut)}if(ht($)||gt($))return F=F.get(U)||null,Y(N,F,$,ut,null);if(typeof $.then=="function")return G(F,N,U,kf($),ut);if($.$$typeof===k)return G(F,N,U,Af(N,$),ut);Nf(N,$)}return null}function At(F,N,U,$){for(var ut=null,kt=null,pt=N,bt=N=0,Xe=null;pt!==null&&bt<U.length;bt++){pt.index>bt?(Xe=pt,pt=null):Xe=pt.sibling;var It=j(F,pt,U[bt],$);if(It===null){pt===null&&(pt=Xe);break}e&&pt&&It.alternate===null&&n(F,pt),N=y(It,N,bt),kt===null?ut=It:kt.sibling=It,kt=It,pt=Xe}if(bt===U.length)return a(F,pt),jt&&Or(F,bt),ut;if(pt===null){for(;bt<U.length;bt++)pt=Q(F,U[bt],$),pt!==null&&(N=y(pt,N,bt),kt===null?ut=pt:kt.sibling=pt,kt=pt);return jt&&Or(F,bt),ut}for(pt=o(pt);bt<U.length;bt++)Xe=G(pt,F,bt,U[bt],$),Xe!==null&&(e&&Xe.alternate!==null&&pt.delete(Xe.key===null?bt:Xe.key),N=y(Xe,N,bt),kt===null?ut=Xe:kt.sibling=Xe,kt=Xe);return e&&pt.forEach(function(Ba){return n(F,Ba)}),jt&&Or(F,bt),ut}function vt(F,N,U,$){if(U==null)throw Error(s(151));for(var ut=null,kt=null,pt=N,bt=N=0,Xe=null,It=U.next();pt!==null&&!It.done;bt++,It=U.next()){pt.index>bt?(Xe=pt,pt=null):Xe=pt.sibling;var Ba=j(F,pt,It.value,$);if(Ba===null){pt===null&&(pt=Xe);break}e&&pt&&Ba.alternate===null&&n(F,pt),N=y(Ba,N,bt),kt===null?ut=Ba:kt.sibling=Ba,kt=Ba,pt=Xe}if(It.done)return a(F,pt),jt&&Or(F,bt),ut;if(pt===null){for(;!It.done;bt++,It=U.next())It=Q(F,It.value,$),It!==null&&(N=y(It,N,bt),kt===null?ut=It:kt.sibling=It,kt=It);return jt&&Or(F,bt),ut}for(pt=o(pt);!It.done;bt++,It=U.next())It=G(pt,F,bt,It.value,$),It!==null&&(e&&It.alternate!==null&&pt.delete(It.key===null?bt:It.key),N=y(It,N,bt),kt===null?ut=It:kt.sibling=It,kt=It);return e&&pt.forEach(function(YC){return n(F,YC)}),jt&&Or(F,bt),ut}function te(F,N,U,$){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:t:{for(var ut=U.key;N!==null;){if(N.key===ut){if(ut=U.type,ut===E){if(N.tag===7){a(F,N.sibling),$=p(N,U.props.children),$.return=F,F=$;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&iS(ut)===N.type){a(F,N.sibling),$=p(N,U.props),Ou($,U),$.return=F,F=$;break t}a(F,N);break}else n(F,N);N=N.sibling}U.type===E?($=Lr(U.props.children,F.mode,$,U.key),$.return=F,F=$):($=mf(U.type,U.key,U.props,null,F.mode,$),Ou($,U),$.return=F,F=$)}return A(F);case S:t:{for(ut=U.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(F,N.sibling),$=p(N,U.children||[]),$.return=F,F=$;break t}else{a(F,N);break}else n(F,N);N=N.sibling}$=vm(U,F.mode,$),$.return=F,F=$}return A(F);case W:return ut=U._init,U=ut(U._payload),te(F,N,U,$)}if(ht(U))return At(F,N,U,$);if(gt(U)){if(ut=gt(U),typeof ut!="function")throw Error(s(150));return U=ut.call(U),vt(F,N,U,$)}if(typeof U.then=="function")return te(F,N,kf(U),$);if(U.$$typeof===k)return te(F,N,Af(F,U),$);Nf(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(F,N.sibling),$=p(N,U),$.return=F,F=$):(a(F,N),$=ym(U,F.mode,$),$.return=F,F=$),A(F)):a(F,N)}return function(F,N,U,$){try{Du=0;var ut=te(F,N,U,$);return Co=null,ut}catch(pt){if(pt===Eu||pt===Ef)throw pt;var kt=Ii(29,pt,null,F.mode);return kt.lanes=$,kt.return=F,kt}finally{}}}var Ro=nS(!0),sS=nS(!1),dn=K(null),Xn=null;function xa(e){var n=e.alternate;J(Ne,Ne.current&1),J(dn,e),Xn===null&&(n===null||_o.current!==null||n.memoizedState!==null)&&(Xn=e)}function aS(e){if(e.tag===22){if(J(Ne,Ne.current),J(dn,e),Xn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Xn=e)}}else Ta()}function Ta(){J(Ne,Ne.current),J(dn,dn.current)}function Rs(e){et(dn),Xn===e&&(Xn=null),et(Ne)}var Ne=K(0);function Pf(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||By(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Qm(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:m({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zm={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Vi(),p=Ea(o);p.payload=n,a!=null&&(p.callback=a),n=_a(e,p,o),n!==null&&(Xi(n,e,o),wu(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Vi(),p=Ea(o);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=_a(e,p,o),n!==null&&(Xi(n,e,o),wu(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Vi(),o=Ea(a);o.tag=2,n!=null&&(o.callback=n),n=_a(e,o,a),n!==null&&(Xi(n,e,a),wu(n,e,a))}};function rS(e,n,a,o,p,y,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,y,A):n.prototype&&n.prototype.isPureReactComponent?!pu(a,o)||!pu(p,y):!0}function lS(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Zm.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=m({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var Ff=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oS(e){Ff(e)}function cS(e){console.error(e)}function uS(e){Ff(e)}function Hf(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hS(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jm(e,n,a){return a=Ea(a),a.tag=3,a.payload={element:null},a.callback=function(){Hf(e,n)},a}function dS(e){return e=Ea(e),e.tag=3,e}function fS(e,n,a,o){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;e.payload=function(){return p(y)},e.callback=function(){hS(n,a,o)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){hS(n,a,o),typeof p!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function YT(e,n,a,o,p){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&bu(n,a,p,!0),a=dn.current,a!==null){switch(a.tag){case 13:return Xn===null?_y():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=p,o===Rm?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),xy(e,o,p)),!1;case 22:return a.flags|=65536,o===Rm?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),xy(e,o,p)),!1}throw Error(s(435,a.tag))}return xy(e,o,p),_y(),!1}if(jt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,o!==Sm&&(e=Error(s(422),{cause:o}),vu(on(e,a)))):(o!==Sm&&(n=Error(s(423),{cause:o}),vu(on(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,o=on(o,a),p=Jm(e.stateNode,o,p),Dm(e,p),ve!==4&&(ve=2)),!1;var y=Error(s(520),{cause:o});if(y=on(y,a),Uu===null?Uu=[y]:Uu.push(y),ve!==4&&(ve=2),n===null)return!0;o=on(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Jm(a.stateNode,o,e),Dm(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=dS(p),fS(p,e,a,o),Dm(a,p),!1}a=a.return}while(a!==null);return!1}var pS=Error(s(461)),qe=!1;function ti(e,n,a,o){n.child=e===null?sS(n,null,a,o):Ro(n,e.child,a,o)}function gS(e,n,a,o,p){a=a.render;var y=n.ref;if("ref"in o){var A={};for(var x in o)x!=="ref"&&(A[x]=o[x])}else A=o;return Fr(n),o=Fm(e,n,a,A,y,p),x=Hm(),e!==null&&!qe?(zm(e,n,p),Ms(e,n,p)):(jt&&x&&bm(n),n.flags|=1,ti(e,n,o,p),n.child)}function mS(e,n,a,o,p){if(e===null){var y=a.type;return typeof y=="function"&&!mm(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,yS(e,n,y,o,p)):(e=mf(a.type,null,o,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!ly(e,p)){var A=y.memoizedProps;if(a=a.compare,a=a!==null?a:pu,a(A,o)&&e.ref===n.ref)return Ms(e,n,p)}return n.flags|=1,e=Es(y,o),e.ref=n.ref,e.return=n,n.child=e}function yS(e,n,a,o,p){if(e!==null){var y=e.memoizedProps;if(pu(y,o)&&e.ref===n.ref)if(qe=!1,n.pendingProps=o=y,ly(e,p))(e.flags&131072)!==0&&(qe=!0);else return n.lanes=e.lanes,Ms(e,n,p)}return ty(e,n,a,o,p)}function vS(e,n,a){var o=n.pendingProps,p=o.children,y=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,e!==null){for(p=n.child=e.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;n.childLanes=y&~o}else n.childLanes=0,n.child=null;return bS(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sf(n,y!==null?y.cachePool:null),y!==null?yA(n,y):km(),aS(n);else return n.lanes=n.childLanes=536870912,bS(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Sf(n,y.cachePool),yA(n,y),Ta(),n.memoizedState=null):(e!==null&&Sf(n,null),km(),Ta());return ti(e,n,p,a),n.child}function bS(e,n,a,o){var p=Cm();return p=p===null?null:{parent:ke._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Sf(n,null),km(),aS(n),e!==null&&bu(e,n,o,!0),null}function zf(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ty(e,n,a,o,p){return Fr(n),a=Fm(e,n,a,o,void 0,p),o=Hm(),e!==null&&!qe?(zm(e,n,p),Ms(e,n,p)):(jt&&o&&bm(n),n.flags|=1,ti(e,n,a,p),n.child)}function AS(e,n,a,o,p,y){return Fr(n),n.updateQueue=null,a=bA(n,o,a,p),vA(e),o=Hm(),e!==null&&!qe?(zm(e,n,y),Ms(e,n,y)):(jt&&o&&bm(n),n.flags|=1,ti(e,n,a,y),n.child)}function SS(e,n,a,o,p){if(Fr(n),n.stateNode===null){var y=vo,A=a.contextType;typeof A=="object"&&A!==null&&(y=ci(A)),y=new a(o,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Zm,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=o,y.state=n.memoizedState,y.refs={},Mm(n),A=a.contextType,y.context=typeof A=="object"&&A!==null?ci(A):vo,y.state=n.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Qm(n,a,A,o),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Zm.enqueueReplaceState(y,y.state,null),Tu(n,o,y,p),xu(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){y=n.stateNode;var x=n.memoizedProps,L=Ur(a,x);y.props=L;var I=y.context,Y=a.contextType;A=vo,typeof Y=="object"&&Y!==null&&(A=ci(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||I!==A)&&lS(n,y,o,A),Sa=!1;var j=n.memoizedState;y.state=j,Tu(n,o,y,p),xu(),I=n.memoizedState,x||j!==I||Sa?(typeof Q=="function"&&(Qm(n,a,Q,o),I=n.memoizedState),(L=Sa||rS(n,a,L,o,j,I,A))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=I),y.props=o,y.state=I,y.context=A,o=L):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{y=n.stateNode,Lm(e,n),A=n.memoizedProps,Y=Ur(a,A),y.props=Y,Q=n.pendingProps,j=y.context,I=a.contextType,L=vo,typeof I=="object"&&I!==null&&(L=ci(I)),x=a.getDerivedStateFromProps,(I=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==Q||j!==L)&&lS(n,y,o,L),Sa=!1,j=n.memoizedState,y.state=j,Tu(n,o,y,p),xu();var G=n.memoizedState;A!==Q||j!==G||Sa||e!==null&&e.dependencies!==null&&bf(e.dependencies)?(typeof x=="function"&&(Qm(n,a,x,o),G=n.memoizedState),(Y=Sa||rS(n,a,Y,o,j,G,L)||e!==null&&e.dependencies!==null&&bf(e.dependencies))?(I||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,G,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,G,L)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),y.props=o,y.state=G,y.context=L,o=Y):(typeof y.componentDidUpdate!="function"||A===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return y=o,zf(e,n),o=(n.flags&128)!==0,y||o?(y=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&o?(n.child=Ro(n,e.child,null,p),n.child=Ro(n,null,a,p)):ti(e,n,a,p),n.memoizedState=y.state,e=n.child):e=Ms(e,n,p),e}function ES(e,n,a,o){return yu(),n.flags|=256,ti(e,n,a,o),n.child}var ey={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iy(e){return{baseLanes:e,cachePool:cA()}}function ny(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=fn),e}function _S(e,n,a){var o=n.pendingProps,p=!1,y=(n.flags&128)!==0,A;if((A=y)||(A=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),A&&(p=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(p?xa(n):Ta(),jt){var x=ye,L;if(L=x){t:{for(L=x,x=Vn;L.nodeType!==8;){if(!x){x=null;break t}if(L=Cn(L.nextSibling),L===null){x=null;break t}}x=L}x!==null?(n.memoizedState={dehydrated:x,treeContext:Dr!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},L=Ii(18,null,null,0),L.stateNode=x,L.return=n,n.child=L,bi=n,ye=null,L=!0):L=!1}L||Nr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return By(x)?n.lanes=32:n.lanes=536870912,null;Rs(n)}return x=o.children,o=o.fallback,p?(Ta(),p=n.mode,x=Uf({mode:"hidden",children:x},p),o=Lr(o,p,a,null),x.return=n,o.return=n,x.sibling=o,n.child=x,p=n.child,p.memoizedState=iy(a),p.childLanes=ny(e,A,a),n.memoizedState=ey,o):(xa(n),sy(n,x))}if(L=e.memoizedState,L!==null&&(x=L.dehydrated,x!==null)){if(y)n.flags&256?(xa(n),n.flags&=-257,n=ay(e,n,a)):n.memoizedState!==null?(Ta(),n.child=e.child,n.flags|=128,n=null):(Ta(),p=o.fallback,x=n.mode,o=Uf({mode:"visible",children:o.children},x),p=Lr(p,x,a,null),p.flags|=2,o.return=n,p.return=n,o.sibling=p,n.child=o,Ro(n,e.child,null,a),o=n.child,o.memoizedState=iy(a),o.childLanes=ny(e,A,a),n.memoizedState=ey,n=p);else if(xa(n),By(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var I=A.dgst;A=I,o=Error(s(419)),o.stack="",o.digest=A,vu({value:o,source:null,stack:null}),n=ay(e,n,a)}else if(qe||bu(e,n,a,!1),A=(a&e.childLanes)!==0,qe||A){if(A=ae,A!==null&&(o=a&-a,o=(o&42)!==0?1:Ig(o),o=(o&(A.suspendedLanes|a))!==0?0:o,o!==0&&o!==L.retryLane))throw L.retryLane=o,yo(e,o),Xi(A,e,o),pS;x.data==="$?"||_y(),n=ay(e,n,a)}else x.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,ye=Cn(x.nextSibling),bi=n,jt=!0,kr=null,Vn=!1,e!==null&&(un[hn++]=_s,un[hn++]=ws,un[hn++]=Dr,_s=e.id,ws=e.overflow,Dr=n),n=sy(n,o.children),n.flags|=4096);return n}return p?(Ta(),p=o.fallback,x=n.mode,L=e.child,I=L.sibling,o=Es(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&65011712,I!==null?p=Es(I,p):(p=Lr(p,x,a,null),p.flags|=2),p.return=n,o.return=n,o.sibling=p,n.child=o,o=p,p=n.child,x=e.child.memoizedState,x===null?x=iy(a):(L=x.cachePool,L!==null?(I=ke._currentValue,L=L.parent!==I?{parent:I,pool:I}:L):L=cA(),x={baseLanes:x.baseLanes|a,cachePool:L}),p.memoizedState=x,p.childLanes=ny(e,A,a),n.memoizedState=ey,o):(xa(n),a=e.child,e=a.sibling,a=Es(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(A=n.deletions,A===null?(n.deletions=[e],n.flags|=16):A.push(e)),n.child=a,n.memoizedState=null,a)}function sy(e,n){return n=Uf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Uf(e,n){return e=Ii(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ay(e,n,a){return Ro(n,e.child,null,a),e=sy(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wS(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),_m(e.return,n,a)}function ry(e,n,a,o,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=p)}function xS(e,n,a){var o=n.pendingProps,p=o.revealOrder,y=o.tail;if(ti(e,n,o.children,a),o=Ne.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wS(e,a,n);else if(e.tag===19)wS(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Ne,o),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&Pf(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),ry(n,!1,p,a,y);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Pf(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}ry(n,!0,a,null,y);break;case"together":ry(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ms(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Da|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(bu(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Es(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Es(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ly(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bf(e)))}function KT(e,n,a){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Aa(n,ke,e.memoizedState.cache),yu();break;case 27:case 5:Qt(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_S(e,n,a):(xa(n),e=Ms(e,n,a),e!==null?e.sibling:null);xa(n);break;case 19:var p=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(bu(e,n,a,!1),o=(a&n.childLanes)!==0),p){if(o)return xS(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(Ne,Ne.current),o)break;return null;case 22:case 23:return n.lanes=0,vS(e,n,a);case 24:Aa(n,ke,e.memoizedState.cache)}return Ms(e,n,a)}function TS(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)qe=!0;else{if(!ly(e,a)&&(n.flags&128)===0)return qe=!1,KT(e,n,a);qe=(e.flags&131072)!==0}else qe=!1,jt&&(n.flags&1048576)!==0&&iA(n,vf,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,p=o._init;if(o=p(o._payload),n.type=o,typeof o=="function")mm(o)?(e=Ur(o,e),n.tag=1,n=SS(null,n,o,e,a)):(n.tag=0,n=ty(null,n,o,e,a));else{if(o!=null){if(p=o.$$typeof,p===P){n.tag=11,n=gS(null,n,o,e,a);break t}else if(p===X){n.tag=14,n=mS(null,n,o,e,a);break t}}throw n=ft(o)||o,Error(s(306,n,""))}}return n;case 0:return ty(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,p=Ur(o,n.pendingProps),SS(e,n,o,p,a);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var y=n.memoizedState;p=y.element,Lm(e,n),Tu(n,o,null,a);var A=n.memoizedState;if(o=A.cache,Aa(n,ke,o),o!==y.cache&&wm(n,[ke],a,!0),xu(),o=A.element,y.isDehydrated)if(y={element:o,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=ES(e,n,o,a);break t}else if(o!==p){p=on(Error(s(424)),n),vu(p),n=ES(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=Cn(e.firstChild),bi=n,jt=!0,kr=null,Vn=!0,a=sS(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yu(),o===p){n=Ms(e,n,a);break t}ti(e,n,o,a)}n=n.child}return n;case 26:return zf(e,n),e===null?(a=LE(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=Jf(ct.current).createElement(a),o[oi]=n,o[Ci]=e,ii(o,a,e),Ge(o),n.stateNode=o):n.memoizedState=LE(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qt(n),e===null&&jt&&(o=n.stateNode=CE(n.type,n.pendingProps,ct.current),bi=n,Vn=!0,p=ye,Pa(n.type)?(Iy=p,ye=Cn(o.firstChild)):ye=p),ti(e,n,n.pendingProps.children,a),zf(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((p=o=ye)&&(o=EC(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,bi=n,ye=Cn(o.firstChild),Vn=!1,p=!0):p=!1),p||Nr(n)),Qt(n),p=n.type,y=n.pendingProps,A=e!==null?e.memoizedProps:null,o=y.children,Hy(p,y)?o=null:A!==null&&Hy(p,A)&&(n.flags|=32),n.memoizedState!==null&&(p=Fm(e,n,BT,null,null,a),Ku._currentValue=p),zf(e,n),ti(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ye)&&(a=_C(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,bi=n,ye=null,e=!0):e=!1),e||Nr(n)),null;case 13:return _S(e,n,a);case 4:return zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ro(n,null,o,a):ti(e,n,o,a),n.child;case 11:return gS(e,n,n.type,n.pendingProps,a);case 7:return ti(e,n,n.pendingProps,a),n.child;case 8:return ti(e,n,n.pendingProps.children,a),n.child;case 12:return ti(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Aa(n,n.type,o.value),ti(e,n,o.children,a),n.child;case 9:return p=n.type._context,o=n.pendingProps.children,Fr(n),p=ci(p),o=o(p),n.flags|=1,ti(e,n,o,a),n.child;case 14:return mS(e,n,n.type,n.pendingProps,a);case 15:return yS(e,n,n.type,n.pendingProps,a);case 19:return xS(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Uf(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Es(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return vS(e,n,a);case 24:return Fr(n),o=ci(ke),e===null?(p=Cm(),p===null&&(p=ae,y=xm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),n.memoizedState={parent:o,cache:p},Mm(n),Aa(n,ke,p)):((e.lanes&a)!==0&&(Lm(e,n),Tu(n,null,null,a),xu()),p=e.memoizedState,y=n.memoizedState,p.parent!==o?(p={parent:o,cache:o},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Aa(n,ke,o)):(o=y.cache,Aa(n,ke,o),o!==p.cache&&wm(n,[ke],a,!0))),ti(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ls(e){e.flags|=4}function CS(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!PE(n)){if(n=dn.current,n!==null&&((Bt&4194048)===Bt?Xn!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==Xn))throw _u=Rm,uA;e.flags|=8192}}function Bf(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?a0():536870912,e.lanes|=n,Oo|=n)}function ku(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags&65011712,o|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags,o|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function $T(e,n,a){var o=n.pendingProps;switch(Am(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ts(ke),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(mu(n)?Ls(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,aA())),he(n),null;case 26:return a=n.memoizedState,e===null?(Ls(n),a!==null?(he(n),CS(n,a)):(he(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ls(n),he(n),CS(n,a)):(he(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ls(n),he(n),n.flags&=-16777217),null;case 27:qn(n),a=ct.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return he(n),null}e=ot.current,mu(n)?nA(n):(e=CE(p,o,a),n.stateNode=e,Ls(n))}return he(n),null;case 5:if(qn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return he(n),null}if(e=ot.current,mu(n))nA(n);else{switch(p=Jf(ct.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?p.createElement(a,{is:o.is}):p.createElement(a)}}e[oi]=n,e[Ci]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;t:switch(ii(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ls(n)}}return he(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ct.current,mu(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,p=bi,p!==null)switch(p.tag){case 27:case 5:o=p.memoizedProps}e[oi]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||AE(e.nodeValue,a)),e||Nr(n)}else e=Jf(e).createTextNode(o),e[oi]=n,n.stateNode=e}return he(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=mu(n),o!==null&&o.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[oi]=n}else yu(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),p=!1}else p=aA(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Rs(n),n):(Rs(n),null)}if(Rs(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,p=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(p=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==p&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Bf(n,n.updateQueue),he(n),null;case 4:return xe(),e===null&&Oy(n.stateNode.containerInfo),he(n),null;case 10:return Ts(n.type),he(n),null;case 19:if(et(Ne),p=n.memoizedState,p===null)return he(n),null;if(o=(n.flags&128)!==0,y=p.rendering,y===null)if(o)ku(p,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Pf(e),y!==null){for(n.flags|=128,ku(p,!1),e=y.updateQueue,n.updateQueue=e,Bf(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)eA(a,e),a=a.sibling;return J(Ne,Ne.current&1|2),n.child}e=e.sibling}p.tail!==null&&Je()>Gf&&(n.flags|=128,o=!0,ku(p,!1),n.lanes=4194304)}else{if(!o)if(e=Pf(y),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Bf(n,e),ku(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!jt)return he(n),null}else 2*Je()-p.renderingStartTime>Gf&&a!==536870912&&(n.flags|=128,o=!0,ku(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(e=p.last,e!==null?e.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Je(),n.sibling=null,e=Ne.current,J(Ne,o?e&1|2:e&1),n):(he(n),null);case 22:case 23:return Rs(n),Nm(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&Bf(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&et(Hr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ts(ke),he(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function WT(e,n){switch(Am(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ts(ke),xe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qn(n),null;case 13:if(Rs(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yu()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Ne),null;case 4:return xe(),null;case 10:return Ts(n.type),null;case 22:case 23:return Rs(n),Nm(),e!==null&&et(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ts(ke),null;case 25:return null;default:return null}}function RS(e,n){switch(Am(n),n.tag){case 3:Ts(ke),xe();break;case 26:case 27:case 5:qn(n);break;case 4:xe();break;case 13:Rs(n);break;case 19:et(Ne);break;case 10:Ts(n.type);break;case 22:case 23:Rs(n),Nm(),e!==null&&et(Hr);break;case 24:Ts(ke)}}function Nu(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var p=o.next;a=p;do{if((a.tag&e)===e){o=void 0;var y=a.create,A=a.inst;o=y(),A.destroy=o}a=a.next}while(a!==p)}}catch(x){ne(n,n.return,x)}}function Ca(e,n,a){try{var o=n.updateQueue,p=o!==null?o.lastEffect:null;if(p!==null){var y=p.next;o=y;do{if((o.tag&e)===e){var A=o.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,p=n;var L=a,I=x;try{I()}catch(Y){ne(p,L,Y)}}}o=o.next}while(o!==y)}}catch(Y){ne(n,n.return,Y)}}function MS(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mA(n,a)}catch(o){ne(e,e.return,o)}}}function LS(e,n,a){a.props=Ur(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ne(e,n,o)}}function Pu(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(p){ne(e,n,p)}}function Yn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(p){ne(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ne(e,n,p)}else a.current=null}function DS(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(p){ne(e,e.return,p)}}function oy(e,n,a){try{var o=e.stateNode;yC(o,e.type,a,n),o[Ci]=n}catch(p){ne(e,e.return,p)}}function OS(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function cy(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||OS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uy(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zf));else if(o!==4&&(o===27&&Pa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(uy(e,n,a),e=e.sibling;e!==null;)uy(e,n,a),e=e.sibling}function If(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(If(e,n,a),e=e.sibling;e!==null;)If(e,n,a),e=e.sibling}function kS(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);ii(n,o,a),n[oi]=e,n[Ci]=a}catch(y){ne(e,e.return,y)}}var Ds=!1,Ee=!1,hy=!1,NS=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function QT(e,n){if(e=e.containerInfo,Py=ap,e=V0(e),cm(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var p=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var A=0,x=-1,L=-1,I=0,Y=0,Q=e,j=null;e:for(;;){for(var G;Q!==a||p!==0&&Q.nodeType!==3||(x=A+p),Q!==y||o!==0&&Q.nodeType!==3||(L=A+o),Q.nodeType===3&&(A+=Q.nodeValue.length),(G=Q.firstChild)!==null;)j=Q,Q=G;for(;;){if(Q===e)break e;if(j===a&&++I===p&&(x=A),j===y&&++Y===o&&(L=A),(G=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=G}a=x===-1||L===-1?null:{start:x,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fy={focusedElem:e,selectionRange:a},ap=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,p=y.memoizedProps,y=y.memoizedState,o=a.stateNode;try{var At=Ur(a.type,p,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(At,y),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ne(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Uy(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uy(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function PS(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),o&4&&Nu(5,a);break;case 1:if(Ra(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(A){ne(a,a.return,A)}else{var p=Ur(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(A){ne(a,a.return,A)}}o&64&&MS(a),o&512&&Pu(a,a.return);break;case 3:if(Ra(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mA(e,n)}catch(A){ne(a,a.return,A)}}break;case 27:n===null&&o&4&&kS(a);case 26:case 5:Ra(e,a),n===null&&o&4&&DS(a),o&512&&Pu(a,a.return);break;case 12:Ra(e,a);break;case 13:Ra(e,a),o&4&&zS(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rC.bind(null,a),wC(e,a))));break;case 22:if(o=a.memoizedState!==null||Ds,!o){n=n!==null&&n.memoizedState!==null||Ee,p=Ds;var y=Ee;Ds=o,(Ee=n)&&!y?Ma(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),Ds=p,Ee=y}break;case 30:break;default:Ra(e,a)}}function FS(e){var n=e.alternate;n!==null&&(e.alternate=null,FS(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qg(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,Li=!1;function Os(e,n,a){for(a=a.child;a!==null;)HS(e,n,a),a=a.sibling}function HS(e,n,a){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:Ee||Yn(a,n),Os(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Yn(a,n);var o=ce,p=Li;Pa(a.type)&&(ce=a.stateNode,Li=!1),Os(e,n,a),qu(a.stateNode),ce=o,Li=p;break;case 5:Ee||Yn(a,n);case 6:if(o=ce,p=Li,ce=null,Os(e,n,a),ce=o,Li=p,ce!==null)if(Li)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(y){ne(a,n,y)}else try{ce.removeChild(a.stateNode)}catch(y){ne(a,n,y)}break;case 18:ce!==null&&(Li?(e=ce,xE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zu(e)):xE(ce,a.stateNode));break;case 4:o=ce,p=Li,ce=a.stateNode.containerInfo,Li=!0,Os(e,n,a),ce=o,Li=p;break;case 0:case 11:case 14:case 15:Ee||Ca(2,a,n),Ee||Ca(4,a,n),Os(e,n,a);break;case 1:Ee||(Yn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&LS(a,n,o)),Os(e,n,a);break;case 21:Os(e,n,a);break;case 22:Ee=(o=Ee)||a.memoizedState!==null,Os(e,n,a),Ee=o;break;default:Os(e,n,a)}}function zS(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zu(e)}catch(a){ne(n,n.return,a)}}function ZT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new NS),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new NS),n;default:throw Error(s(435,e.tag))}}function dy(e,n){var a=ZT(e);n.forEach(function(o){var p=lC.bind(null,e,o);a.has(o)||(a.add(o),o.then(p,p))})}function ji(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var p=a[o],y=e,A=n,x=A;t:for(;x!==null;){switch(x.tag){case 27:if(Pa(x.type)){ce=x.stateNode,Li=!1;break t}break;case 5:ce=x.stateNode,Li=!1;break t;case 3:case 4:ce=x.stateNode.containerInfo,Li=!0;break t}x=x.return}if(ce===null)throw Error(s(160));HS(y,A,p),ce=null,Li=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)US(n,e),n=n.sibling}var Tn=null;function US(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ji(n,e),Gi(e),o&4&&(Ca(3,e,e.return),Nu(3,e),Ca(5,e,e.return));break;case 1:ji(n,e),Gi(e),o&512&&(Ee||a===null||Yn(a,a.return)),o&64&&Ds&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var p=Tn;if(ji(n,e),Gi(e),o&512&&(Ee||a===null||Yn(a,a.return)),o&4){var y=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,p=p.ownerDocument||p;e:switch(o){case"title":y=p.getElementsByTagName("title")[0],(!y||y[au]||y[oi]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(o),p.head.insertBefore(y,p.querySelector("head > title"))),ii(y,o,a),y[oi]=e,Ge(y),o=y;break t;case"link":var A=kE("link","href",p).get(o+(a.href||""));if(A){for(var x=0;x<A.length;x++)if(y=A[x],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(x,1);break e}}y=p.createElement(o),ii(y,o,a),p.head.appendChild(y);break;case"meta":if(A=kE("meta","content",p).get(o+(a.content||""))){for(x=0;x<A.length;x++)if(y=A[x],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(x,1);break e}}y=p.createElement(o),ii(y,o,a),p.head.appendChild(y);break;default:throw Error(s(468,o))}y[oi]=e,Ge(y),o=y}e.stateNode=o}else NE(p,e.type,e.stateNode);else e.stateNode=OE(p,o,e.memoizedProps);else y!==o?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,o===null?NE(p,e.type,e.stateNode):OE(p,o,e.memoizedProps)):o===null&&e.stateNode!==null&&oy(e,e.memoizedProps,a.memoizedProps)}break;case 27:ji(n,e),Gi(e),o&512&&(Ee||a===null||Yn(a,a.return)),a!==null&&o&4&&oy(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ji(n,e),Gi(e),o&512&&(Ee||a===null||Yn(a,a.return)),e.flags&32){p=e.stateNode;try{co(p,"")}catch(G){ne(e,e.return,G)}}o&4&&e.stateNode!=null&&(p=e.memoizedProps,oy(e,p,a!==null?a.memoizedProps:p)),o&1024&&(hy=!0);break;case 6:if(ji(n,e),Gi(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(G){ne(e,e.return,G)}}break;case 3:if(ip=null,p=Tn,Tn=tp(n.containerInfo),ji(n,e),Tn=p,Gi(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Zu(n.containerInfo)}catch(G){ne(e,e.return,G)}hy&&(hy=!1,BS(e));break;case 4:o=Tn,Tn=tp(e.stateNode.containerInfo),ji(n,e),Gi(e),Tn=o;break;case 12:ji(n,e),Gi(e);break;case 13:ji(n,e),Gi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vy=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dy(e,o)));break;case 22:p=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,I=Ds,Y=Ee;if(Ds=I||p,Ee=Y||L,ji(n,e),Ee=Y,Ds=I,Gi(e),o&8192)t:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||L||Ds||Ee||Br(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){L=a=n;try{if(y=L.stateNode,p)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=L.stateNode;var Q=L.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(G){ne(L,L.return,G)}}}else if(n.tag===6){if(a===null){L=n;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(G){ne(L,L.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dy(e,a))));break;case 19:ji(n,e),Gi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dy(e,o)));break;case 30:break;case 21:break;default:ji(n,e),Gi(e)}}function Gi(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(OS(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode,y=cy(e);If(e,y,p);break;case 5:var A=a.stateNode;a.flags&32&&(co(A,""),a.flags&=-33);var x=cy(e);If(e,x,A);break;case 3:case 4:var L=a.stateNode.containerInfo,I=cy(e);uy(e,I,L);break;default:throw Error(s(161))}}catch(Y){ne(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function BS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;BS(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ra(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)PS(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ca(4,n,n.return),Br(n);break;case 1:Yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&LS(n,n.return,a),Br(n);break;case 27:qu(n.stateNode);case 26:case 5:Yn(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function Ma(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,p=e,y=n,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(p,y,a),Nu(4,y);break;case 1:if(Ma(p,y,a),o=y,p=o.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(I){ne(o,o.return,I)}if(o=y,p=o.updateQueue,p!==null){var x=o.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)gA(L[p],x)}catch(I){ne(o,o.return,I)}}a&&A&64&&MS(y),Pu(y,y.return);break;case 27:kS(y);case 26:case 5:Ma(p,y,a),a&&o===null&&A&4&&DS(y),Pu(y,y.return);break;case 12:Ma(p,y,a);break;case 13:Ma(p,y,a),a&&A&4&&zS(p,y);break;case 22:y.memoizedState===null&&Ma(p,y,a),Pu(y,y.return);break;case 30:break;default:Ma(p,y,a)}n=n.sibling}}function fy(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Au(a))}function py(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Au(e))}function Kn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)IS(e,n,a,o),n=n.sibling}function IS(e,n,a,o){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,a,o),p&2048&&Nu(9,n);break;case 1:Kn(e,n,a,o);break;case 3:Kn(e,n,a,o),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Au(e)));break;case 12:if(p&2048){Kn(e,n,a,o),e=n.stateNode;try{var y=n.memoizedProps,A=y.id,x=y.onPostCommit;typeof x=="function"&&x(A,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){ne(n,n.return,L)}}else Kn(e,n,a,o);break;case 13:Kn(e,n,a,o);break;case 23:break;case 22:y=n.stateNode,A=n.alternate,n.memoizedState!==null?y._visibility&2?Kn(e,n,a,o):Fu(e,n):y._visibility&2?Kn(e,n,a,o):(y._visibility|=2,Mo(e,n,a,o,(n.subtreeFlags&10256)!==0)),p&2048&&fy(A,n);break;case 24:Kn(e,n,a,o),p&2048&&py(n.alternate,n);break;default:Kn(e,n,a,o)}}function Mo(e,n,a,o,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,A=n,x=a,L=o,I=A.flags;switch(A.tag){case 0:case 11:case 15:Mo(y,A,x,L,p),Nu(8,A);break;case 23:break;case 22:var Y=A.stateNode;A.memoizedState!==null?Y._visibility&2?Mo(y,A,x,L,p):Fu(y,A):(Y._visibility|=2,Mo(y,A,x,L,p)),p&&I&2048&&fy(A.alternate,A);break;case 24:Mo(y,A,x,L,p),p&&I&2048&&py(A.alternate,A);break;default:Mo(y,A,x,L,p)}n=n.sibling}}function Fu(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,p=o.flags;switch(o.tag){case 22:Fu(a,o),p&2048&&fy(o.alternate,o);break;case 24:Fu(a,o),p&2048&&py(o.alternate,o);break;default:Fu(a,o)}n=n.sibling}}var Hu=8192;function Lo(e){if(e.subtreeFlags&Hu)for(e=e.child;e!==null;)jS(e),e=e.sibling}function jS(e){switch(e.tag){case 26:Lo(e),e.flags&Hu&&e.memoizedState!==null&&HC(Tn,e.memoizedState,e.memoizedProps);break;case 5:Lo(e);break;case 3:case 4:var n=Tn;Tn=tp(e.stateNode.containerInfo),Lo(e),Tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hu,Hu=16777216,Lo(e),Hu=n):Lo(e));break;default:Lo(e)}}function GS(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ve=o,VS(o,e)}GS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qS(e),e=e.sibling}function qS(e){switch(e.tag){case 0:case 11:case 15:zu(e),e.flags&2048&&Ca(9,e,e.return);break;case 3:zu(e);break;case 12:zu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jf(e)):zu(e);break;default:zu(e)}}function jf(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ve=o,VS(o,e)}GS(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ca(8,n,n.return),jf(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,jf(n));break;default:jf(n)}e=e.sibling}}function VS(e,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Au(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ve=o;else t:for(a=e;Ve!==null;){o=Ve;var p=o.sibling,y=o.return;if(FS(o),o===a){Ve=null;break t}if(p!==null){p.return=y,Ve=p;break t}Ve=y}}}var JT={getCacheForType:function(e){var n=ci(ke),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},tC=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Pt=null,Bt=0,Yt=0,qi=null,La=!1,Do=!1,gy=!1,ks=0,ve=0,Da=0,Ir=0,my=0,fn=0,Oo=0,Uu=null,Di=null,yy=!1,vy=0,Gf=1/0,qf=null,Oa=null,ei=0,ka=null,ko=null,No=0,by=0,Ay=null,XS=null,Bu=0,Sy=null;function Vi(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(B.T!==null){var e=So;return e!==0?e:Ry()}return o0()}function YS(){fn===0&&(fn=(Bt&536870912)===0||jt?s0():536870912);var e=dn.current;return e!==null&&(e.flags|=32),fn}function Xi(e,n,a){(e===ae&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Po(e,0),Na(e,Bt,fn,!1)),su(e,a),((Xt&2)===0||e!==ae)&&(e===ae&&((Xt&2)===0&&(Ir|=a),ve===4&&Na(e,Bt,fn,!1)),$n(e))}function KS(e,n,a){if((Xt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||nu(e,n),p=o?nC(e,n):wy(e,n,!0),y=o;do{if(p===0){Do&&!o&&Na(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!eC(a)){p=wy(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var x=e;p=Uu;var L=x.current.memoizedState.isDehydrated;if(L&&(Po(x,A).flags|=256),A=wy(x,A,!1),A!==2){if(gy&&!L){x.errorRecoveryDisabledLanes|=y,Ir|=y,p=4;break t}y=Di,Di=p,y!==null&&(Di===null?Di=y:Di.push.apply(Di,y))}p=A}if(y=!1,p!==2)continue}}if(p===1){Po(e,0),Na(e,n,0,!0);break}t:{switch(o=e,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Na(o,n,fn,!La);break t;case 2:Di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(p=vy+300-Je(),10<p)){if(Na(o,n,fn,!La),tf(o,0,!0)!==0)break t;o.timeoutHandle=_E($S.bind(null,o,a,Di,qf,yy,n,fn,Ir,Oo,La,y,2,-0,0),p);break t}$S(o,a,Di,qf,yy,n,fn,Ir,Oo,La,y,0,-0,0)}}break}while(!0);$n(e)}function $S(e,n,a,o,p,y,A,x,L,I,Y,Q,j,G){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Yu={stylesheets:null,count:0,unsuspend:FC},jS(n),Q=zC(),Q!==null)){e.cancelPendingCommit=Q(iE.bind(null,e,n,y,a,o,p,A,x,L,Y,1,j,G)),Na(e,y,A,!I);return}iE(e,n,y,a,o,p,A,x,L)}function eC(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var p=a[o],y=p.getSnapshot;p=p.value;try{if(!Bi(y(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Na(e,n,a,o){n&=~my,n&=~Ir,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var p=n;0<p;){var y=31-je(p),A=1<<y;o[y]=-1,p&=~A}a!==0&&r0(e,a,n)}function Vf(){return(Xt&6)===0?(Iu(0),!1):!0}function Ey(){if(Pt!==null){if(Yt===0)var e=Pt.return;else e=Pt,xs=Pr=null,Um(e),Co=null,Du=0,e=Pt;for(;e!==null;)RS(e.alternate,e),e=e.return;Pt=null}}function Po(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bC(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ey(),ae=e,Pt=a=Es(e.current,null),Bt=n,Yt=0,qi=null,La=!1,Do=nu(e,n),gy=!1,Oo=fn=my=Ir=Da=ve=0,Di=Uu=null,yy=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var p=31-je(o),y=1<<p;n|=e[p],o&=~y}return ks=n,ff(),a}function WS(e,n){Dt=null,B.H=Of,n===Eu||n===Ef?(n=fA(),Yt=3):n===uA?(n=fA(),Yt=4):Yt=n===pS?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qi=n,Pt===null&&(ve=1,Hf(e,on(n,e.current)))}function QS(){var e=B.H;return B.H=Of,e===null?Of:e}function ZS(){var e=B.A;return B.A=JT,e}function _y(){ve=4,La||(Bt&4194048)!==Bt&&dn.current!==null||(Do=!0),(Da&134217727)===0&&(Ir&134217727)===0||ae===null||Na(ae,Bt,fn,!1)}function wy(e,n,a){var o=Xt;Xt|=2;var p=QS(),y=ZS();(ae!==e||Bt!==n)&&(qf=null,Po(e,n)),n=!1;var A=ve;t:do try{if(Yt!==0&&Pt!==null){var x=Pt,L=qi;switch(Yt){case 8:Ey(),A=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var I=Yt;if(Yt=0,qi=null,Fo(e,x,L,I),a&&Do){A=0;break t}break;default:I=Yt,Yt=0,qi=null,Fo(e,x,L,I)}}iC(),A=ve;break}catch(Y){WS(e,Y)}while(!0);return n&&e.shellSuspendCounter++,xs=Pr=null,Xt=o,B.H=p,B.A=y,Pt===null&&(ae=null,Bt=0,ff()),A}function iC(){for(;Pt!==null;)JS(Pt)}function nC(e,n){var a=Xt;Xt|=2;var o=QS(),p=ZS();ae!==e||Bt!==n?(qf=null,Gf=Je()+500,Po(e,n)):Do=nu(e,n);t:do try{if(Yt!==0&&Pt!==null){n=Pt;var y=qi;e:switch(Yt){case 1:Yt=0,qi=null,Fo(e,n,y,1);break;case 2:case 9:if(hA(y)){Yt=0,qi=null,tE(n);break}n=function(){Yt!==2&&Yt!==9||ae!==e||(Yt=7),$n(e)},y.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:hA(y)?(Yt=0,qi=null,tE(n)):(Yt=0,qi=null,Fo(e,n,y,7));break;case 5:var A=null;switch(Pt.tag){case 26:A=Pt.memoizedState;case 5:case 27:var x=Pt;if(!A||PE(A)){Yt=0,qi=null;var L=x.sibling;if(L!==null)Pt=L;else{var I=x.return;I!==null?(Pt=I,Xf(I)):Pt=null}break e}}Yt=0,qi=null,Fo(e,n,y,5);break;case 6:Yt=0,qi=null,Fo(e,n,y,6);break;case 8:Ey(),ve=6;break t;default:throw Error(s(462))}}sC();break}catch(Y){WS(e,Y)}while(!0);return xs=Pr=null,B.H=o,B.A=p,Xt=a,Pt!==null?0:(ae=null,Bt=0,ff(),ve)}function sC(){for(;Pt!==null&&!Ie();)JS(Pt)}function JS(e){var n=TS(e.alternate,e,ks);e.memoizedProps=e.pendingProps,n===null?Xf(e):Pt=n}function tE(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=AS(a,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=AS(a,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:Um(n);default:RS(a,n),n=Pt=eA(n,ks),n=TS(a,n,ks)}e.memoizedProps=e.pendingProps,n===null?Xf(e):Pt=n}function Fo(e,n,a,o){xs=Pr=null,Um(n),Co=null,Du=0;var p=n.return;try{if(YT(e,p,n,a,Bt)){ve=1,Hf(e,on(a,e.current)),Pt=null;return}}catch(y){if(p!==null)throw Pt=p,y;ve=1,Hf(e,on(a,e.current)),Pt=null;return}n.flags&32768?(jt||o===1?e=!0:Do||(Bt&536870912)!==0?e=!1:(La=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),eE(n,e)):Xf(n)}function Xf(e){var n=e;do{if((n.flags&32768)!==0){eE(n,La);return}e=n.return;var a=$T(n.alternate,n,ks);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=e}while(n!==null);ve===0&&(ve=5)}function eE(e,n){do{var a=WT(e.alternate,e);if(a!==null){a.flags&=32767,Pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=a}while(e!==null);ve=6,Pt=null}function iE(e,n,a,o,p,y,A,x,L){e.cancelPendingCommit=null;do Yf();while(ei!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=pm,Fx(e,a,y,A,x,L),e===ae&&(Pt=ae=null,Bt=0),ko=n,ka=e,No=a,by=y,Ay=p,XS=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oC(bs,function(){return lE(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,p=V.p,V.p=2,A=Xt,Xt|=4;try{QT(e,n,a)}finally{Xt=A,V.p=p,B.T=o}}ei=1,nE(),sE(),aE()}}function nE(){if(ei===1){ei=0;var e=ka,n=ko,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=V.p;V.p=2;var p=Xt;Xt|=4;try{US(n,e);var y=Fy,A=V0(e.containerInfo),x=y.focusedElem,L=y.selectionRange;if(A!==x&&x&&x.ownerDocument&&q0(x.ownerDocument.documentElement,x)){if(L!==null&&cm(x)){var I=L.start,Y=L.end;if(Y===void 0&&(Y=I),"selectionStart"in x)x.selectionStart=I,x.selectionEnd=Math.min(Y,x.value.length);else{var Q=x.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var G=j.getSelection(),At=x.textContent.length,vt=Math.min(L.start,At),te=L.end===void 0?vt:Math.min(L.end,At);!G.extend&&vt>te&&(A=te,te=vt,vt=A);var F=G0(x,vt),N=G0(x,te);if(F&&N&&(G.rangeCount!==1||G.anchorNode!==F.node||G.anchorOffset!==F.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(F.node,F.offset),G.removeAllRanges(),vt>te?(G.addRange(U),G.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),G.addRange(U))}}}}for(Q=[],G=x;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Q.length;x++){var $=Q[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ap=!!Py,Fy=Py=null}finally{Xt=p,V.p=o,B.T=a}}e.current=n,ei=2}}function sE(){if(ei===2){ei=0;var e=ka,n=ko,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=V.p;V.p=2;var p=Xt;Xt|=4;try{PS(e,n.alternate,n)}finally{Xt=p,V.p=o,B.T=a}}ei=3}}function aE(){if(ei===4||ei===3){ei=0,Te();var e=ka,n=ko,a=No,o=XS;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ei=5:(ei=0,ko=ka=null,rE(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Oa=null),jg(a),n=n.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,p=V.p,V.p=2,B.T=null;try{for(var y=e.onRecoverableError,A=0;A<o.length;A++){var x=o[A];y(x.value,{componentStack:x.stack})}}finally{B.T=n,V.p=p}}(No&3)!==0&&Yf(),$n(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===Sy?Bu++:(Bu=0,Sy=e):Bu=0,Iu(0)}}function rE(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Au(n)))}function Yf(e){return nE(),sE(),aE(),lE()}function lE(){if(ei!==5)return!1;var e=ka,n=by;by=0;var a=jg(No),o=B.T,p=V.p;try{V.p=32>a?32:a,B.T=null,a=Ay,Ay=null;var y=ka,A=No;if(ei=0,ko=ka=null,No=0,(Xt&6)!==0)throw Error(s(331));var x=Xt;if(Xt|=4,qS(y.current),IS(y,y.current,A,a),Xt=x,Iu(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(wr,y)}catch{}return!0}finally{V.p=p,B.T=o,rE(e,n)}}function oE(e,n,a){n=on(a,n),n=Jm(e.stateNode,n,2),e=_a(e,n,2),e!==null&&(su(e,2),$n(e))}function ne(e,n,a){if(e.tag===3)oE(e,e,a);else for(;n!==null;){if(n.tag===3){oE(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Oa===null||!Oa.has(o))){e=on(a,e),a=dS(2),o=_a(n,a,2),o!==null&&(fS(a,o,n,e),su(o,2),$n(o));break}}n=n.return}}function xy(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new tC;var p=new Set;o.set(n,p)}else p=o.get(n),p===void 0&&(p=new Set,o.set(n,p));p.has(a)||(gy=!0,p.add(a),e=aC.bind(null,e,n,a),n.then(e,e))}function aC(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Bt&a)===a&&(ve===4||ve===3&&(Bt&62914560)===Bt&&300>Je()-vy?(Xt&2)===0&&Po(e,0):my|=a,Oo===Bt&&(Oo=0)),$n(e)}function cE(e,n){n===0&&(n=a0()),e=yo(e,n),e!==null&&(su(e,n),$n(e))}function rC(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),cE(e,a)}function lC(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),cE(e,a)}function oC(e,n){return qt(e,n)}var Kf=null,Ho=null,Ty=!1,$f=!1,Cy=!1,jr=0;function $n(e){e!==Ho&&e.next===null&&(Ho===null?Kf=Ho=e:Ho=Ho.next=e),$f=!0,Ty||(Ty=!0,uC())}function Iu(e,n){if(!Cy&&$f){Cy=!0;do for(var a=!1,o=Kf;o!==null;){if(e!==0){var p=o.pendingLanes;if(p===0)var y=0;else{var A=o.suspendedLanes,x=o.pingedLanes;y=(1<<31-je(42|e)+1)-1,y&=p&~(A&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,fE(o,y))}else y=Bt,y=tf(o,o===ae?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(y&3)===0||nu(o,y)||(a=!0,fE(o,y));o=o.next}while(a);Cy=!1}}function cC(){uE()}function uE(){$f=Ty=!1;var e=0;jr!==0&&(vC()&&(e=jr),jr=0);for(var n=Je(),a=null,o=Kf;o!==null;){var p=o.next,y=hE(o,n);y===0?(o.next=null,a===null?Kf=p:a.next=p,p===null&&(Ho=a)):(a=o,(e!==0||(y&3)!==0)&&($f=!0)),o=p}Iu(e)}function hE(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var A=31-je(y),x=1<<A,L=p[A];L===-1?((x&a)===0||(x&o)!==0)&&(p[A]=Px(x,n)):L<=n&&(e.expiredLanes|=x),y&=~x}if(n=ae,a=Bt,a=tf(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&oe(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||nu(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&oe(o),jg(a)){case 2:case 8:a=Wd;break;case 32:a=bs;break;case 268435456:a=Qd;break;default:a=bs}return o=dE.bind(null,e),a=qt(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&oe(o),e.callbackPriority=2,e.callbackNode=null,2}function dE(e,n){if(ei!==0&&ei!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yf()&&e.callbackNode!==a)return null;var o=Bt;return o=tf(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(KS(e,o,n),hE(e,Je()),e.callbackNode!=null&&e.callbackNode===a?dE.bind(null,e):null)}function fE(e,n){if(Yf())return null;KS(e,n,!0)}function uC(){AC(function(){(Xt&6)!==0?qt($d,cC):uE()})}function Ry(){return jr===0&&(jr=s0()),jr}function pE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rf(""+e)}function gE(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function hC(e,n,a,o,p){if(n==="submit"&&a&&a.stateNode===p){var y=pE((p[Ci]||null).action),A=o.submitter;A&&(n=(n=A[Ci]||null)?pE(n.formAction):A.getAttribute("formAction"),n!==null&&(y=n,A=null));var x=new uf("action","action",null,o,p);e.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var L=A?gE(p,A):new FormData(p);Km(a,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(x.preventDefault(),L=A?gE(p,A):new FormData(p),Km(a,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var My=0;My<fm.length;My++){var Ly=fm[My],dC=Ly.toLowerCase(),fC=Ly[0].toUpperCase()+Ly.slice(1);xn(dC,"on"+fC)}xn(K0,"onAnimationEnd"),xn($0,"onAnimationIteration"),xn(W0,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(LT,"onTransitionRun"),xn(DT,"onTransitionStart"),xn(OT,"onTransitionCancel"),xn(Q0,"onTransitionEnd"),ro("onMouseEnter",["mouseout","mouseover"]),ro("onMouseLeave",["mouseout","mouseover"]),ro("onPointerEnter",["pointerout","pointerover"]),ro("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function mE(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],p=o.event;o=o.listeners;t:{var y=void 0;if(n)for(var A=o.length-1;0<=A;A--){var x=o[A],L=x.instance,I=x.currentTarget;if(x=x.listener,L!==y&&p.isPropagationStopped())break t;y=x,p.currentTarget=I;try{y(p)}catch(Y){Ff(Y)}p.currentTarget=null,y=L}else for(A=0;A<o.length;A++){if(x=o[A],L=x.instance,I=x.currentTarget,x=x.listener,L!==y&&p.isPropagationStopped())break t;y=x,p.currentTarget=I;try{y(p)}catch(Y){Ff(Y)}p.currentTarget=null,y=L}}}}function Ft(e,n){var a=n[Gg];a===void 0&&(a=n[Gg]=new Set);var o=e+"__bubble";a.has(o)||(yE(n,e,2,!1),a.add(o))}function Dy(e,n,a){var o=0;n&&(o|=4),yE(a,e,o,n)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Oy(e){if(!e[Wf]){e[Wf]=!0,u0.forEach(function(a){a!=="selectionchange"&&(pC.has(a)||Dy(a,!1,e),Dy(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wf]||(n[Wf]=!0,Dy("selectionchange",!1,n))}}function yE(e,n,a,o){switch(IE(n)){case 2:var p=IC;break;case 8:p=jC;break;default:p=Xy}a=p.bind(null,n,a,e),p=void 0,!tm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),o?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function ky(e,n,a,o,p){var y=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var A=o.tag;if(A===3||A===4){var x=o.stateNode.containerInfo;if(x===p)break;if(A===4)for(A=o.return;A!==null;){var L=A.tag;if((L===3||L===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;x!==null;){if(A=no(x),A===null)return;if(L=A.tag,L===5||L===6||L===26||L===27){o=y=A;continue t}x=x.parentNode}}o=o.return}w0(function(){var I=y,Y=Zg(a),Q=[];t:{var j=Z0.get(e);if(j!==void 0){var G=uf,At=e;switch(e){case"keypress":if(of(a)===0)break t;case"keydown":case"keyup":G=oT;break;case"focusin":At="focus",G=sm;break;case"focusout":At="blur",G=sm;break;case"beforeblur":case"afterblur":G=sm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=hT;break;case K0:case $0:case W0:G=Jx;break;case Q0:G=fT;break;case"scroll":case"scrollend":G=Kx;break;case"wheel":G=gT;break;case"copy":case"cut":case"paste":G=eT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=M0;break;case"toggle":case"beforetoggle":G=yT}var vt=(n&4)!==0,te=!vt&&(e==="scroll"||e==="scrollend"),F=vt?j!==null?j+"Capture":null:j;vt=[];for(var N=I,U;N!==null;){var $=N;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||F===null||($=lu(N,F),$!=null&&vt.push(Gu(N,$,U))),te)break;N=N.return}0<vt.length&&(j=new G(j,At,null,a,Y),Q.push({event:j,listeners:vt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",j&&a!==Qg&&(At=a.relatedTarget||a.fromElement)&&(no(At)||At[io]))break t;if((G||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,G?(At=a.relatedTarget||a.toElement,G=I,At=At?no(At):null,At!==null&&(te=l(At),vt=At.tag,At!==te||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(G=null,At=I),G!==At)){if(vt=C0,$="onMouseLeave",F="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=M0,$="onPointerLeave",F="onPointerEnter",N="pointer"),te=G==null?j:ru(G),U=At==null?j:ru(At),j=new vt($,N+"leave",G,a,Y),j.target=te,j.relatedTarget=U,$=null,no(Y)===I&&(vt=new vt(F,N+"enter",At,a,Y),vt.target=U,vt.relatedTarget=te,$=vt),te=$,G&&At)e:{for(vt=G,F=At,N=0,U=vt;U;U=zo(U))N++;for(U=0,$=F;$;$=zo($))U++;for(;0<N-U;)vt=zo(vt),N--;for(;0<U-N;)F=zo(F),U--;for(;N--;){if(vt===F||F!==null&&vt===F.alternate)break e;vt=zo(vt),F=zo(F)}vt=null}else vt=null;G!==null&&vE(Q,j,G,vt,!1),At!==null&&te!==null&&vE(Q,te,At,vt,!0)}}t:{if(j=I?ru(I):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var ut=H0;else if(P0(j))if(z0)ut=CT;else{ut=xT;var kt=wT}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?I&&Wg(I.elementType)&&(ut=H0):ut=TT;if(ut&&(ut=ut(e,I))){F0(Q,ut,a,Y);break t}kt&&kt(e,j,I),e==="focusout"&&I&&j.type==="number"&&I.memoizedProps.value!=null&&$g(j,"number",j.value)}switch(kt=I?ru(I):window,e){case"focusin":(P0(kt)||kt.contentEditable==="true")&&(po=kt,um=I,gu=null);break;case"focusout":gu=um=po=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,X0(Q,a,Y);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":X0(Q,a,Y)}var pt;if(rm)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else fo?k0(e,a)&&(bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(L0&&a.locale!=="ko"&&(fo||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&fo&&(pt=x0()):(ba=Y,em="value"in ba?ba.value:ba.textContent,fo=!0)),kt=Qf(I,bt),0<kt.length&&(bt=new R0(bt,e,null,a,Y),Q.push({event:bt,listeners:kt}),pt?bt.data=pt:(pt=N0(a),pt!==null&&(bt.data=pt)))),(pt=bT?AT(e,a):ST(e,a))&&(bt=Qf(I,"onBeforeInput"),0<bt.length&&(kt=new R0("onBeforeInput","beforeinput",null,a,Y),Q.push({event:kt,listeners:bt}),kt.data=pt)),hC(Q,e,I,a,Y)}mE(Q,n)})}function Gu(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Qf(e,n){for(var a=n+"Capture",o=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=lu(e,a),p!=null&&o.unshift(Gu(e,p,y)),p=lu(e,n),p!=null&&o.push(Gu(e,p,y))),e.tag===3)return o;e=e.return}return[]}function zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vE(e,n,a,o,p){for(var y=n._reactName,A=[];a!==null&&a!==o;){var x=a,L=x.alternate,I=x.stateNode;if(x=x.tag,L!==null&&L===o)break;x!==5&&x!==26&&x!==27||I===null||(L=I,p?(I=lu(a,y),I!=null&&A.unshift(Gu(a,I,L))):p||(I=lu(a,y),I!=null&&A.push(Gu(a,I,L)))),a=a.return}A.length!==0&&e.push({event:n,listeners:A})}var gC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function bE(e){return(typeof e=="string"?e:""+e).replace(gC,`
`).replace(mC,"")}function AE(e,n){return n=bE(n),bE(e)===n}function Zf(){}function Jt(e,n,a,o,p,y){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||co(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&co(e,""+o);break;case"className":nf(e,"class",o);break;case"tabIndex":nf(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nf(e,a,o);break;case"style":E0(e,o,y);break;case"data":if(n!=="object"){nf(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=rf(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",p.name,p,null),Jt(e,n,"formEncType",p.formEncType,p,null),Jt(e,n,"formMethod",p.formMethod,p,null),Jt(e,n,"formTarget",p.formTarget,p,null)):(Jt(e,n,"encType",p.encType,p,null),Jt(e,n,"method",p.method,p,null),Jt(e,n,"target",p.target,p,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=rf(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zf);break;case"onScroll":o!=null&&Ft("scroll",e);break;case"onScrollEnd":o!=null&&Ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=rf(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ft("beforetoggle",e),Ft("toggle",e),ef(e,"popover",o);break;case"xlinkActuate":As(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":As(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":As(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":As(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":As(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":As(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":As(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":As(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":As(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ef(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xx.get(a)||a,ef(e,a,o))}}function Ny(e,n,a,o,p,y){switch(a){case"style":E0(e,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?co(e,o):(typeof o=="number"||typeof o=="bigint")&&co(e,""+o);break;case"onScroll":o!=null&&Ft("scroll",e);break;case"onScrollEnd":o!=null&&Ft("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),y=e[Ci]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof o=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,p);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ef(e,a,o)}}}function ii(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",e),Ft("load",e);var o=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var A=a[y];if(A!=null)switch(y){case"src":o=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,y,A,a,null)}}p&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":Ft("invalid",e);var x=y=A=p=null,L=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":p=Y;break;case"type":A=Y;break;case"checked":L=Y;break;case"defaultChecked":I=Y;break;case"value":y=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Jt(e,n,o,Y,a,null)}}v0(e,y,x,L,I,A,p,!1),sf(e);return;case"select":Ft("invalid",e),o=A=y=null;for(p in a)if(a.hasOwnProperty(p)&&(x=a[p],x!=null))switch(p){case"value":y=x;break;case"defaultValue":A=x;break;case"multiple":o=x;default:Jt(e,n,p,x,a,null)}n=y,a=A,e.multiple=!!o,n!=null?oo(e,!!o,n,!1):a!=null&&oo(e,!!o,a,!0);return;case"textarea":Ft("invalid",e),y=p=o=null;for(A in a)if(a.hasOwnProperty(A)&&(x=a[A],x!=null))switch(A){case"value":o=x;break;case"defaultValue":p=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Jt(e,n,A,x,a,null)}A0(e,o,p,y),sf(e);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,L,o,a,null)}return;case"dialog":Ft("beforetoggle",e),Ft("toggle",e),Ft("cancel",e),Ft("close",e);break;case"iframe":case"object":Ft("load",e);break;case"video":case"audio":for(o=0;o<ju.length;o++)Ft(ju[o],e);break;case"image":Ft("error",e),Ft("load",e);break;case"details":Ft("toggle",e);break;case"embed":case"source":case"link":Ft("error",e),Ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,I,o,a,null)}return;default:if(Wg(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Ny(e,n,Y,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&Jt(e,n,x,o,a,null))}function yC(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,A=null,x=null,L=null,I=null,Y=null;for(G in a){var Q=a[G];if(a.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":L=Q;default:o.hasOwnProperty(G)||Jt(e,n,G,null,o,Q)}}for(var j in o){var G=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(G!=null||Q!=null))switch(j){case"type":y=G;break;case"name":p=G;break;case"checked":I=G;break;case"defaultChecked":Y=G;break;case"value":A=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Q&&Jt(e,n,j,G,o,Q)}}Kg(e,A,x,L,I,Y,y,p);return;case"select":G=A=x=j=null;for(y in a)if(L=a[y],a.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":G=L;default:o.hasOwnProperty(y)||Jt(e,n,y,null,o,L)}for(p in o)if(y=o[p],L=a[p],o.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":j=y;break;case"defaultValue":x=y;break;case"multiple":A=y;default:y!==L&&Jt(e,n,p,y,o,L)}n=x,a=A,o=G,j!=null?oo(e,!!a,j,!1):!!o!=!!a&&(n!=null?oo(e,!!a,n,!0):oo(e,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(x in a)if(p=a[x],a.hasOwnProperty(x)&&p!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Jt(e,n,x,null,o,p)}for(A in o)if(p=o[A],y=a[A],o.hasOwnProperty(A)&&(p!=null||y!=null))switch(A){case"value":j=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Jt(e,n,A,p,o,y)}b0(e,j,G);return;case"option":for(var At in a)if(j=a[At],a.hasOwnProperty(At)&&j!=null&&!o.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Jt(e,n,At,null,o,j)}for(L in o)if(j=o[L],G=a[L],o.hasOwnProperty(L)&&j!==G&&(j!=null||G!=null))switch(L){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,L,j,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)j=a[vt],a.hasOwnProperty(vt)&&j!=null&&!o.hasOwnProperty(vt)&&Jt(e,n,vt,null,o,j);for(I in o)if(j=o[I],G=a[I],o.hasOwnProperty(I)&&j!==G&&(j!=null||G!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,I,j,o,G)}return;default:if(Wg(n)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&Ny(e,n,te,void 0,o,j);for(Y in o)j=o[Y],G=a[Y],!o.hasOwnProperty(Y)||j===G||j===void 0&&G===void 0||Ny(e,n,Y,j,o,G);return}}for(var F in a)j=a[F],a.hasOwnProperty(F)&&j!=null&&!o.hasOwnProperty(F)&&Jt(e,n,F,null,o,j);for(Q in o)j=o[Q],G=a[Q],!o.hasOwnProperty(Q)||j===G||j==null&&G==null||Jt(e,n,Q,j,o,G)}var Py=null,Fy=null;function Jf(e){return e.nodeType===9?e:e.ownerDocument}function SE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Hy(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zy=null;function vC(){var e=window.event;return e&&e.type==="popstate"?e===zy?!1:(zy=e,!0):(zy=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,AC=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(e){return wE.resolve(null).then(e).catch(SC)}:_E;function SC(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function xE(e,n){var a=n,o=0,p=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<o&&8>o){a=o;var A=e.ownerDocument;if(a&1&&qu(A.documentElement),a&2&&qu(A.body),a&4)for(a=A.head,qu(a),A=a.firstChild;A;){var x=A.nextSibling,L=A.nodeName;A[au]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&A.rel.toLowerCase()==="stylesheet"||a.removeChild(A),A=x}}if(p===0){e.removeChild(y),Zu(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:o=a.charCodeAt(0)-48;else o=0;a=y}while(a);Zu(n)}function Uy(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uy(a),qg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function EC(e,n,a,o){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[au])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function _C(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cn(e.nextSibling),e===null))return null;return e}function By(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wC(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Iy=null;function TE(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function CE(e,n,a){switch(n=Jf(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function qu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qg(e)}var pn=new Map,RE=new Set;function tp(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ns=V.d;V.d={f:xC,r:TC,D:CC,C:RC,L:MC,m:LC,X:OC,S:DC,M:kC};function xC(){var e=Ns.f(),n=Vf();return e||n}function TC(e){var n=so(e);n!==null&&n.tag===5&&n.type==="form"?KA(n):Ns.r(e)}var Uo=typeof document>"u"?null:document;function ME(e,n,a){var o=Uo;if(o&&typeof n=="string"&&n){var p=ln(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),RE.has(p)||(RE.add(p),e={rel:e,crossOrigin:a,href:n},o.querySelector(p)===null&&(n=o.createElement("link"),ii(n,"link",e),Ge(n),o.head.appendChild(n)))}}function CC(e){Ns.D(e),ME("dns-prefetch",e,null)}function RC(e,n){Ns.C(e,n),ME("preconnect",e,n)}function MC(e,n,a){Ns.L(e,n,a);var o=Uo;if(o&&e&&n){var p='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ln(a.imageSizes)+'"]')):p+='[href="'+ln(e)+'"]';var y=p;switch(n){case"style":y=Bo(e);break;case"script":y=Io(e)}pn.has(y)||(e=m({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),pn.set(y,e),o.querySelector(p)!==null||n==="style"&&o.querySelector(Vu(y))||n==="script"&&o.querySelector(Xu(y))||(n=o.createElement("link"),ii(n,"link",e),Ge(n),o.head.appendChild(n)))}}function LC(e,n){Ns.m(e,n);var a=Uo;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',y=p;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Io(e)}if(!pn.has(y)&&(e=m({rel:"modulepreload",href:e},n),pn.set(y,e),a.querySelector(p)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xu(y)))return}o=a.createElement("link"),ii(o,"link",e),Ge(o),a.head.appendChild(o)}}}function DC(e,n,a){Ns.S(e,n,a);var o=Uo;if(o&&e){var p=ao(o).hoistableStyles,y=Bo(e);n=n||"default";var A=p.get(y);if(!A){var x={loading:0,preload:null};if(A=o.querySelector(Vu(y)))x.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},a),(a=pn.get(y))&&jy(e,a);var L=A=o.createElement("link");Ge(L),ii(L,"link",e),L._p=new Promise(function(I,Y){L.onload=I,L.onerror=Y}),L.addEventListener("load",function(){x.loading|=1}),L.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ep(A,n,o)}A={type:"stylesheet",instance:A,count:1,state:x},p.set(y,A)}}}function OC(e,n){Ns.X(e,n);var a=Uo;if(a&&e){var o=ao(a).hoistableScripts,p=Io(e),y=o.get(p);y||(y=a.querySelector(Xu(p)),y||(e=m({src:e,async:!0},n),(n=pn.get(p))&&Gy(e,n),y=a.createElement("script"),Ge(y),ii(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function kC(e,n){Ns.M(e,n);var a=Uo;if(a&&e){var o=ao(a).hoistableScripts,p=Io(e),y=o.get(p);y||(y=a.querySelector(Xu(p)),y||(e=m({src:e,async:!0,type:"module"},n),(n=pn.get(p))&&Gy(e,n),y=a.createElement("script"),Ge(y),ii(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function LE(e,n,a,o){var p=(p=ct.current)?tp(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Bo(a.href),a=ao(p).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Bo(a.href);var y=ao(p).hoistableStyles,A=y.get(e);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,A),(y=p.querySelector(Vu(e)))&&!y._p&&(A.instance=y,A.state.loading=5),pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pn.set(e,a),y||NC(p,e,a,A.state))),n&&o===null)throw Error(s(528,""));return A}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Io(a),a=ao(p).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Bo(e){return'href="'+ln(e)+'"'}function Vu(e){return'link[rel="stylesheet"]['+e+"]"}function DE(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function NC(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ii(n,"link",a),Ge(n),e.head.appendChild(n))}function Io(e){return'[src="'+ln(e)+'"]'}function Xu(e){return"script[async]"+e}function OE(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return n.instance=o,Ge(o),o;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ge(o),ii(o,"style",p),ep(o,a.precedence,e),n.instance=o;case"stylesheet":p=Bo(a.href);var y=e.querySelector(Vu(p));if(y)return n.state.loading|=4,n.instance=y,Ge(y),y;o=DE(a),(p=pn.get(p))&&jy(o,p),y=(e.ownerDocument||e).createElement("link"),Ge(y);var A=y;return A._p=new Promise(function(x,L){A.onload=x,A.onerror=L}),ii(y,"link",o),n.state.loading|=4,ep(y,a.precedence,e),n.instance=y;case"script":return y=Io(a.src),(p=e.querySelector(Xu(y)))?(n.instance=p,Ge(p),p):(o=a,(p=pn.get(y))&&(o=m({},a),Gy(o,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ge(p),ii(p,"link",o),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ep(o,a.precedence,e));return n.instance}function ep(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=o.length?o[o.length-1]:null,y=p,A=0;A<o.length;A++){var x=o[A];if(x.dataset.precedence===n)y=x;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function jy(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Gy(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ip=null;function kE(e,n,a){if(ip===null){var o=new Map,p=ip=new Map;p.set(a,o)}else p=ip,o=p.get(a),o||(o=new Map,p.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var y=a[p];if(!(y[au]||y[oi]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(n)||"";A=e+A;var x=o.get(A);x?x.push(y):o.set(A,[y])}}return o}function NE(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function PC(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function PE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yu=null;function FC(){}function HC(e,n,a){if(Yu===null)throw Error(s(475));var o=Yu;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Bo(a.href),y=e.querySelector(Vu(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=np.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=y,Ge(y);return}y=e.ownerDocument||e,a=DE(a),(p=pn.get(p))&&jy(a,p),y=y.createElement("link"),Ge(y);var A=y;A._p=new Promise(function(x,L){A.onload=x,A.onerror=L}),ii(y,"link",a),n.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=np.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function zC(){if(Yu===null)throw Error(s(475));var e=Yu;return e.stylesheets&&e.count===0&&qy(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&qy(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function np(){if(this.count--,this.count===0){if(this.stylesheets)qy(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sp=null;function qy(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sp=new Map,n.forEach(UC,e),sp=null,np.call(e))}function UC(e,n){if(!(n.state.loading&4)){var a=sp.get(e);if(a)var o=a.get(null);else{a=new Map,sp.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var A=p[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),o=A)}o&&a.set(null,o)}p=n.instance,A=p.getAttribute("data-precedence"),y=a.get(A)||o,y===o&&a.set(null,p),a.set(A,p),this.count++,o=np.bind(this),p.addEventListener("load",o),p.addEventListener("error",o),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Ku={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function BC(e,n,a,o,p,y,A,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.hiddenUpdates=Bg(null),this.identifierPrefix=o,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function FE(e,n,a,o,p,y,A,x,L,I,Y,Q){return e=new BC(e,n,a,A,x,L,I,Q),n=1,y===!0&&(n|=24),y=Ii(3,null,null,n),e.current=y,y.stateNode=e,n=xm(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:o,isDehydrated:a,cache:n},Mm(y),e}function HE(e){return e?(e=vo,e):vo}function zE(e,n,a,o,p,y){p=HE(p),o.context===null?o.context=p:o.pendingContext=p,o=Ea(n),o.payload={element:a},y=y===void 0?null:y,y!==null&&(o.callback=y),a=_a(e,o,n),a!==null&&(Xi(a,e,n),wu(a,e,n))}function UE(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vy(e,n){UE(e,n),(e=e.alternate)&&UE(e,n)}function BE(e){if(e.tag===13){var n=yo(e,67108864);n!==null&&Xi(n,e,67108864),Vy(e,67108864)}}var ap=!0;function IC(e,n,a,o){var p=B.T;B.T=null;var y=V.p;try{V.p=2,Xy(e,n,a,o)}finally{V.p=y,B.T=p}}function jC(e,n,a,o){var p=B.T;B.T=null;var y=V.p;try{V.p=8,Xy(e,n,a,o)}finally{V.p=y,B.T=p}}function Xy(e,n,a,o){if(ap){var p=Yy(o);if(p===null)ky(e,n,o,rp,a),jE(e,o);else if(qC(p,e,n,a,o))o.stopPropagation();else if(jE(e,o),n&4&&-1<GC.indexOf(e)){for(;p!==null;){var y=so(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=xr(y.pendingLanes);if(A!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var L=1<<31-je(A);x.entanglements[1]|=L,A&=~L}$n(y),(Xt&6)===0&&(Gf=Je()+500,Iu(0))}}break;case 13:x=yo(y,2),x!==null&&Xi(x,y,2),Vf(),Vy(y,2)}if(y=Yy(o),y===null&&ky(e,n,o,rp,a),y===p)break;p=y}p!==null&&o.stopPropagation()}else ky(e,n,o,null,a)}}function Yy(e){return e=Zg(e),Ky(e)}var rp=null;function Ky(e){if(rp=null,e=no(e),e!==null){var n=l(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=c(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return rp=e,null}function IE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case $d:return 2;case Wd:return 8;case bs:case Hg:return 32;case Qd:return 268435456;default:return 32}default:return 32}}var $y=!1,Fa=null,Ha=null,za=null,$u=new Map,Wu=new Map,Ua=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(e,n){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":$u.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(n.pointerId)}}function Qu(e,n,a,o,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:y,targetContainers:[p]},n!==null&&(n=so(n),n!==null&&BE(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function qC(e,n,a,o,p){switch(n){case"focusin":return Fa=Qu(Fa,e,n,a,o,p),!0;case"dragenter":return Ha=Qu(Ha,e,n,a,o,p),!0;case"mouseover":return za=Qu(za,e,n,a,o,p),!0;case"pointerover":var y=p.pointerId;return $u.set(y,Qu($u.get(y)||null,e,n,a,o,p)),!0;case"gotpointercapture":return y=p.pointerId,Wu.set(y,Qu(Wu.get(y)||null,e,n,a,o,p)),!0}return!1}function GE(e){var n=no(e.target);if(n!==null){var a=l(n);if(a!==null){if(n=a.tag,n===13){if(n=c(a),n!==null){e.blockedOn=n,Hx(e.priority,function(){if(a.tag===13){var o=Vi();o=Ig(o);var p=yo(a,o);p!==null&&Xi(p,a,o),Vy(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lp(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yy(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Qg=o,a.target.dispatchEvent(o),Qg=null}else return n=so(a),n!==null&&BE(n),e.blockedOn=a,!1;n.shift()}return!0}function qE(e,n,a){lp(e)&&a.delete(n)}function VC(){$y=!1,Fa!==null&&lp(Fa)&&(Fa=null),Ha!==null&&lp(Ha)&&(Ha=null),za!==null&&lp(za)&&(za=null),$u.forEach(qE),Wu.forEach(qE)}function op(e,n){e.blockedOn===n&&(e.blockedOn=null,$y||($y=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,VC)))}var cp=null;function VE(e){cp!==e&&(cp=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){cp===e&&(cp=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],p=e[n+2];if(typeof o!="function"){if(Ky(o||a)===null)continue;break}var y=so(a);y!==null&&(e.splice(n,3),n-=3,Km(y,{pending:!0,data:p,method:a.method,action:o},o,p))}}))}function Zu(e){function n(L){return op(L,e)}Fa!==null&&op(Fa,e),Ha!==null&&op(Ha,e),za!==null&&op(za,e),$u.forEach(n),Wu.forEach(n);for(var a=0;a<Ua.length;a++){var o=Ua[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ua.length&&(a=Ua[0],a.blockedOn===null);)GE(a),a.blockedOn===null&&Ua.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var p=a[o],y=a[o+1],A=p[Ci]||null;if(typeof y=="function")A||VE(a);else if(A){var x=null;if(y&&y.hasAttribute("formAction")){if(p=y,A=y[Ci]||null)x=A.formAction;else if(Ky(p)!==null)continue}else x=A.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),VE(a)}}}function Wy(e){this._internalRoot=e}up.prototype.render=Wy.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Vi();zE(a,o,e,n,null,null)},up.prototype.unmount=Wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zE(e.current,2,null,e,null,null),Vf(),n[io]=null}};function up(e){this._internalRoot=e}up.prototype.unstable_scheduleHydration=function(e){if(e){var n=o0();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ua.length&&n!==0&&n<Ua[a].priority;a++);Ua.splice(a,0,e),a===0&&GE(e)}};var XE=t.version;if(XE!=="19.1.0")throw Error(s(527,XE,"19.1.0"));V.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=f(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var XC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{wr=hp.inject(XC),Ce=hp}catch{}}return th.createRoot=function(e,n){if(!r(e))throw Error(s(299));var a=!1,o="",p=oS,y=cS,A=uS,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=FE(e,1,!1,null,null,a,o,p,y,A,x,null),e[io]=n.current,Oy(e),new Wy(n)},th.hydrateRoot=function(e,n,a){if(!r(e))throw Error(s(299));var o=!1,p="",y=oS,A=cS,x=uS,L=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),n=FE(e,1,!0,n,a??null,o,p,y,A,x,L,I),n.context=HE(null),a=n.current,o=Vi(),o=Ig(o),p=Ea(o),p.callback=null,_a(a,p,o),a=o,n.current.lanes=a,su(n,a),$n(n),e[io]=n.current,Oy(e),new up(n)},th.version="19.1.0",th}var n_;function sR(){if(n_)return tv.exports;n_=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),tv.exports=nR(),tv.exports}var aR=sR(),eh={},s_;function rR(){if(s_)return eh;s_=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.parse=c,eh.serialize=g;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,S){const E=new l,T=v.length;if(T<2)return E;const M=(S==null?void 0:S.decode)||m;let R=0;do{const D=v.indexOf("=",R);if(D===-1)break;const k=v.indexOf(";",R),P=k===-1?T:k;if(D>P){R=v.lastIndexOf(";",D-1)+1;continue}const z=d(v,R,D),q=f(v,D,z),X=v.slice(z,q);if(E[X]===void 0){let W=d(v,D+1,P),tt=f(v,P,W);const st=M(v.slice(W,tt));E[X]=st}R=P+1}while(R<T);return E}function d(v,S,E){do{const T=v.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<E);return E}function f(v,S,E){for(;S>E;){const T=v.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return E}function g(v,S,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!h.test(v))throw new TypeError(`argument name is invalid: ${v}`);const M=T(S);if(!t.test(M))throw new TypeError(`argument val is invalid: ${S}`);let R=v+"="+M;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!i.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return r.call(v)==="[object Date]"}return eh}rR();var a_="popstate";function lR(h={}){function t(s,r){let{pathname:l,search:c,hash:d}=s.location;return fv("",{pathname:l,search:c,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(s,r){return typeof r=="string"?r:xh(r)}return cR(t,i,null,h)}function me(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function gs(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oR(){return Math.random().toString(36).substring(2,10)}function r_(h,t){return{usr:h.state,key:h.key,idx:t}}function fv(h,t,i=null,s){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof t=="string"?tu(t):t,state:i,key:t&&t.key||s||oR()}}function xh({pathname:h="/",search:t="",hash:i=""}){return t&&t!=="?"&&(h+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(h+=i.charAt(0)==="#"?i:"#"+i),h}function tu(h){let t={};if(h){let i=h.indexOf("#");i>=0&&(t.hash=h.substring(i),h=h.substring(0,i));let s=h.indexOf("?");s>=0&&(t.search=h.substring(s),h=h.substring(0,s)),h&&(t.pathname=h)}return t}function cR(h,t,i,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,c=r.history,d="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function b(){d="POP";let M=m(),R=M==null?null:M-g;g=M,f&&f({action:d,location:T.location,delta:R})}function v(M,R){d="PUSH";let D=fv(T.location,M,R);g=m()+1;let k=r_(D,g),P=T.createHref(D);try{c.pushState(k,"",P)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(P)}l&&f&&f({action:d,location:T.location,delta:1})}function S(M,R){d="REPLACE";let D=fv(T.location,M,R);g=m();let k=r_(D,g),P=T.createHref(D);c.replaceState(k,"",P),l&&f&&f({action:d,location:T.location,delta:0})}function E(M){return uR(M)}let T={get action(){return d},get location(){return h(r,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(a_,b),f=M,()=>{r.removeEventListener(a_,b),f=null}},createHref(M){return t(r,M)},createURL:E,encodeLocation(M){let R=E(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:S,go(M){return c.go(M)}};return T}function uR(h,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),me(i,"No window.location.(origin|href) available to create URL");let s=typeof h=="string"?h:xh(h);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function V_(h,t,i="/"){return hR(h,t,i,!1)}function hR(h,t,i,s){let r=typeof t=="string"?tu(t):t,l=ga(r.pathname||"/",i);if(l==null)return null;let c=X_(h);dR(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let g=_R(l);d=SR(c[f],g,s)}return d}function X_(h,t=[],i=[],s=""){let r=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(me(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=ha([s,f.relativePath]),m=i.concat(f);l.children&&l.children.length>0&&(me(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),X_(l.children,t,m,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:bR(g,l.index),routesMeta:m})};return h.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,c);else for(let f of Y_(l.path))r(l,c,f)}),t}function Y_(h){let t=h.split("/");if(t.length===0)return[];let[i,...s]=t,r=i.endsWith("?"),l=i.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let c=Y_(s.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),r&&d.push(...c),d.map(f=>h.startsWith("/")&&f===""?"/":f)}function dR(h){h.sort((t,i)=>t.score!==i.score?i.score-t.score:AR(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var fR=/^:[\w-]+$/,pR=3,gR=2,mR=1,yR=10,vR=-2,l_=h=>h==="*";function bR(h,t){let i=h.split("/"),s=i.length;return i.some(l_)&&(s+=vR),t&&(s+=gR),i.filter(r=>!l_(r)).reduce((r,l)=>r+(fR.test(l)?pR:l===""?mR:yR),s)}function AR(h,t){return h.length===t.length&&h.slice(0,-1).every((s,r)=>s===t[r])?h[h.length-1]-t[t.length-1]:0}function SR(h,t,i=!1){let{routesMeta:s}=h,r={},l="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],g=d===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",b=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),v=f.route;if(!b&&g&&i&&!s[s.length-1].route.index&&(b=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:ha([l,b.pathname]),pathnameBase:CR(ha([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=ha([l,b.pathnameBase]))}return c}function Zp(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[i,s]=ER(h.path,h.caseSensitive,h.end),r=t.match(i);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((g,{paramName:m,isOptional:b},v)=>{if(m==="*"){let E=d[v]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const S=d[v];return b&&!S?g[m]=void 0:g[m]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:h}}function ER(h,t=!1,i=!0){gs(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let s=[],r="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(s.push({paramName:"*"}),r+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":h!==""&&h!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function _R(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),h}}function ga(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=h.charAt(i);return s&&s!=="/"?null:h.slice(i)||"/"}function wR(h,t="/"){let{pathname:i,search:s="",hash:r=""}=typeof h=="string"?tu(h):h;return{pathname:i?i.startsWith("/")?i:xR(i,t):t,search:RR(s),hash:MR(r)}}function xR(h,t){let i=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function sv(h,t,i,s){return`Cannot include a '${h}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TR(h){return h.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function K_(h){let t=TR(h);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function $_(h,t,i,s=!1){let r;typeof h=="string"?r=tu(h):(r={...h},me(!r.pathname||!r.pathname.includes("?"),sv("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),sv("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),sv("#","search","hash",r)));let l=h===""||r.pathname==="",c=l?"/":r.pathname,d;if(c==null)d=i;else{let b=t.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}d=b>=0?t[b]:"/"}let f=wR(r,d),g=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var ha=h=>h.join("/").replace(/\/\/+/g,"/"),CR=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,MR=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function LR(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var W_=["POST","PUT","PATCH","DELETE"];new Set(W_);var DR=["GET",...W_];new Set(DR);var eu=H.createContext(null);eu.displayName="DataRouter";var _g=H.createContext(null);_g.displayName="DataRouterState";var Q_=H.createContext({isTransitioning:!1});Q_.displayName="ViewTransition";var OR=H.createContext(new Map);OR.displayName="Fetchers";var kR=H.createContext(null);kR.displayName="Await";var ms=H.createContext(null);ms.displayName="Navigation";var jd=H.createContext(null);jd.displayName="Location";var ys=H.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Fb=H.createContext(null);Fb.displayName="RouteError";function NR(h,{relative:t}={}){me(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(ms),{hash:r,pathname:l,search:c}=qd(h,{relative:t}),d=l;return i!=="/"&&(d=l==="/"?i:ha([i,l])),s.createHref({pathname:d,search:c,hash:r})}function Gd(){return H.useContext(jd)!=null}function Sr(){return me(Gd(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(jd).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J_(h){H.useContext(ms).static||H.useLayoutEffect(h)}function t1(){let{isDataRoute:h}=H.useContext(ys);return h?$R():PR()}function PR(){me(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let h=H.useContext(eu),{basename:t,navigator:i}=H.useContext(ms),{matches:s}=H.useContext(ys),{pathname:r}=Sr(),l=JSON.stringify(K_(s)),c=H.useRef(!1);return J_(()=>{c.current=!0}),H.useCallback((f,g={})=>{if(gs(c.current,Z_),!c.current)return;if(typeof f=="number"){i.go(f);return}let m=$_(f,JSON.parse(l),r,g.relative==="path");h==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ha([t,m.pathname])),(g.replace?i.replace:i.push)(m,g.state,g)},[t,i,l,r,h])}var FR=H.createContext(null);function HR(h){let t=H.useContext(ys).outlet;return t&&H.createElement(FR.Provider,{value:h},t)}function qd(h,{relative:t}={}){let{matches:i}=H.useContext(ys),{pathname:s}=Sr(),r=JSON.stringify(K_(i));return H.useMemo(()=>$_(h,JSON.parse(r),s,t==="path"),[h,r,s,t])}function zR(h,t){return e1(h,t)}function e1(h,t,i,s){var R;me(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=H.useContext(ms),{matches:l}=H.useContext(ys),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let D=m&&m.path||"";i1(f,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Sr(),v;if(t){let D=typeof t=="string"?tu(t):t;me(g==="/"||((R=D.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=b;let S=v.pathname||"/",E=S;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=V_(h,{pathname:E});gs(m||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),gs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=GR(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:ha([g,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ha([g,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,i,s);return t&&M?H.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function UR(){let h=KR(),t=LR(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),i=h instanceof Error?h.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",h),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),i?H.createElement("pre",{style:r},i):null,c)}var BR=H.createElement(UR,null),IR=class extends H.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,t){return t.location!==h.location||t.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:t.error,location:t.location,revalidation:h.revalidation||t.revalidation}}componentDidCatch(h,t){console.error("React Router caught the following error during render",h,t)}render(){return this.state.error!==void 0?H.createElement(ys.Provider,{value:this.props.routeContext},H.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jR({routeContext:h,match:t,children:i}){let s=H.useContext(eu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(ys.Provider,{value:h},i)}function GR(h,t=[],i=null,s=null){if(h==null){if(!i)return null;if(i.errors)h=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)h=i.matches;else return null}let r=h,l=i==null?void 0:i.errors;if(l!=null){let f=r.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,d=-1;if(i)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:m,errors:b}=i,v=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){c=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,g,m)=>{let b,v=!1,S=null,E=null;i&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||BR,c&&(d<0&&m===0?(i1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):d===m&&(v=!0,E=g.route.hydrateFallbackElement||null)));let T=t.concat(r.slice(0,m+1)),M=()=>{let R;return b?R=S:v?R=E:g.route.Component?R=H.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=f,H.createElement(jR,{match:g,routeContext:{outlet:f,matches:T,isDataRoute:i!=null},children:R})};return i&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?H.createElement(IR,{location:i.location,revalidation:i.revalidation,component:S,error:b,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function Hb(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qR(h){let t=H.useContext(eu);return me(t,Hb(h)),t}function VR(h){let t=H.useContext(_g);return me(t,Hb(h)),t}function XR(h){let t=H.useContext(ys);return me(t,Hb(h)),t}function zb(h){let t=XR(h),i=t.matches[t.matches.length-1];return me(i.route.id,`${h} can only be used on routes that contain a unique "id"`),i.route.id}function YR(){return zb("useRouteId")}function KR(){var s;let h=H.useContext(Fb),t=VR("useRouteError"),i=zb("useRouteError");return h!==void 0?h:(s=t.errors)==null?void 0:s[i]}function $R(){let{router:h}=qR("useNavigate"),t=zb("useNavigate"),i=H.useRef(!1);return J_(()=>{i.current=!0}),H.useCallback(async(r,l={})=>{gs(i.current,Z_),i.current&&(typeof r=="number"?h.navigate(r):await h.navigate(r,{fromRouteId:t,...l}))},[h,t])}var o_={};function i1(h,t,i){!t&&!o_[h]&&(o_[h]=!0,gs(!1,i))}H.memo(WR);function WR({routes:h,future:t,state:i}){return e1(h,void 0,i,t)}function QR(h){return HR(h.context)}function bp(h){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZR({basename:h="/",children:t=null,location:i,navigationType:s="POP",navigator:r,static:l=!1}){me(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=h.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof i=="string"&&(i=tu(i));let{pathname:f="/",search:g="",hash:m="",state:b=null,key:v="default"}=i,S=H.useMemo(()=>{let E=ga(f,c);return E==null?null:{location:{pathname:E,search:g,hash:m,state:b,key:v},navigationType:s}},[c,f,g,m,b,v,s]);return gs(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:H.createElement(ms.Provider,{value:d},H.createElement(jd.Provider,{children:t,value:S}))}function JR({children:h,location:t}){return zR(pv(h),t)}function pv(h,t=[]){let i=[];return H.Children.forEach(h,(s,r)=>{if(!H.isValidElement(s))return;let l=[...t,r];if(s.type===H.Fragment){i.push.apply(i,pv(s.props.children,l));return}me(s.type===bp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pv(s.props.children,l)),i.push(c)}),i}var Ap="get",Sp="application/x-www-form-urlencoded";function wg(h){return h!=null&&typeof h.tagName=="string"}function tM(h){return wg(h)&&h.tagName.toLowerCase()==="button"}function eM(h){return wg(h)&&h.tagName.toLowerCase()==="form"}function iM(h){return wg(h)&&h.tagName.toLowerCase()==="input"}function nM(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function sM(h,t){return h.button===0&&(!t||t==="_self")&&!nM(h)}var dp=null;function aM(){if(dp===null)try{new FormData(document.createElement("form"),0),dp=!1}catch{dp=!0}return dp}var rM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function av(h){return h!=null&&!rM.has(h)?(gs(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):h}function lM(h,t){let i,s,r,l,c;if(eM(h)){let d=h.getAttribute("action");s=d?ga(d,t):null,i=h.getAttribute("method")||Ap,r=av(h.getAttribute("enctype"))||Sp,l=new FormData(h)}else if(tM(h)||iM(h)&&(h.type==="submit"||h.type==="image")){let d=h.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=h.getAttribute("formaction")||d.getAttribute("action");if(s=f?ga(f,t):null,i=h.getAttribute("formmethod")||d.getAttribute("method")||Ap,r=av(h.getAttribute("formenctype"))||av(d.getAttribute("enctype"))||Sp,l=new FormData(d,h),!aM()){let{name:g,type:m,value:b}=h;if(m==="image"){let v=g?`${g}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else g&&l.append(g,b)}}else{if(wg(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ap,s=null,r=Sp,c=h}return l&&r==="text/plain"&&(c=l,l=void 0),{action:s,method:i.toLowerCase(),encType:r,formData:l,body:c}}function Ub(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}async function oM(h,t){if(h.id in t)return t[h.id];try{let i=await import(h.module);return t[h.id]=i,i}catch(i){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cM(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function uM(h,t,i){let s=await Promise.all(h.map(async r=>{let l=t.routes[r.route.id];if(l){let c=await oM(l,i);return c.links?c.links():[]}return[]}));return pM(s.flat(1).filter(cM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function c_(h,t,i,s,r,l){let c=(f,g)=>i[g]?f.route.id!==i[g].route.id:!0,d=(f,g)=>{var m;return i[g].pathname!==f.pathname||((m=i[g].route.path)==null?void 0:m.endsWith("*"))&&i[g].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,g)=>c(f,g)||d(f,g)):l==="data"?t.filter((f,g)=>{var b;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(h,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hM(h,t,{includeHydrateFallback:i}={}){return dM(h.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function dM(h){return[...new Set(h)]}function fM(h){let t={},i=Object.keys(h).sort();for(let s of i)t[s]=h[s];return t}function pM(h,t){let i=new Set;return new Set(t),h.reduce((s,r)=>{let l=JSON.stringify(fM(r));return i.has(l)||(i.add(l),s.push({key:l,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gM=new Set([100,101,204,205]);function mM(h,t){let i=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return i.pathname==="/"?i.pathname="_root.data":t&&ga(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function n1(){let h=H.useContext(eu);return Ub(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function yM(){let h=H.useContext(_g);return Ub(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Bb=H.createContext(void 0);Bb.displayName="FrameworkContext";function s1(){let h=H.useContext(Bb);return Ub(h,"You must render this element inside a <HydratedRouter> element"),h}function vM(h,t){let i=H.useContext(Bb),[s,r]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:b}=t,v=H.useRef(null);H.useEffect(()=>{if(h==="render"&&c(!0),h==="viewport"){let T=R=>{R.forEach(D=>{c(D.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[h]),H.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let S=()=>{r(!0)},E=()=>{r(!1),c(!1)};return i?h!=="intent"?[l,v,{}]:[l,v,{onFocus:ih(d,S),onBlur:ih(f,E),onMouseEnter:ih(g,S),onMouseLeave:ih(m,E),onTouchStart:ih(b,S)}]:[!1,v,{}]}function ih(h,t){return i=>{h&&h(i),i.defaultPrevented||t(i)}}function bM({page:h,...t}){let{router:i}=n1(),s=H.useMemo(()=>V_(i.routes,h,i.basename),[i.routes,h,i.basename]);return s?H.createElement(SM,{page:h,matches:s,...t}):null}function AM(h){let{manifest:t,routeModules:i}=s1(),[s,r]=H.useState([]);return H.useEffect(()=>{let l=!1;return uM(h,t,i).then(c=>{l||r(c)}),()=>{l=!0}},[h,t,i]),s}function SM({page:h,matches:t,...i}){let s=Sr(),{manifest:r,routeModules:l}=s1(),{basename:c}=n1(),{loaderData:d,matches:f}=yM(),g=H.useMemo(()=>c_(h,t,f,r,s,"data"),[h,t,f,r,s]),m=H.useMemo(()=>c_(h,t,f,r,s,"assets"),[h,t,f,r,s]),b=H.useMemo(()=>{if(h===s.pathname+s.search+s.hash)return[];let E=new Set,T=!1;if(t.forEach(R=>{var k;let D=r.routes[R.route.id];!D||!D.hasLoader||(!g.some(P=>P.route.id===R.route.id)&&R.route.id in d&&((k=l[R.route.id])!=null&&k.shouldRevalidate)||D.hasClientLoader?T=!0:E.add(R.route.id))}),E.size===0)return[];let M=mM(h,c);return T&&E.size>0&&M.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[c,d,s,r,g,t,h,l]),v=H.useMemo(()=>hM(m,r),[m,r]),S=AM(m);return H.createElement(H.Fragment,null,b.map(E=>H.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),v.map(E=>H.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),S.map(({key:E,link:T})=>H.createElement("link",{key:E,...T})))}function EM(...h){return t=>{h.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var a1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a1&&(window.__reactRouterVersion="7.6.2")}catch{}function _M({basename:h,children:t,window:i}){let s=H.useRef();s.current==null&&(s.current=lR({window:i,v5Compat:!0}));let r=s.current,[l,c]=H.useState({action:r.action,location:r.location}),d=H.useCallback(f=>{H.startTransition(()=>c(f))},[c]);return H.useLayoutEffect(()=>r.listen(d),[r,d]),H.createElement(ZR,{basename:h,children:t,location:l.location,navigationType:l.action,navigator:r})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l1=H.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:r,reloadDocument:l,replace:c,state:d,target:f,to:g,preventScrollReset:m,viewTransition:b,...v},S){let{basename:E}=H.useContext(ms),T=typeof g=="string"&&r1.test(g),M,R=!1;if(typeof g=="string"&&T&&(M=g,a1))try{let tt=new URL(window.location.href),st=g.startsWith("//")?new URL(tt.protocol+g):new URL(g),nt=ga(st.pathname,E);st.origin===tt.origin&&nt!=null?g=nt+st.search+st.hash:R=!0}catch{gs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=NR(g,{relative:r}),[k,P,z]=vM(s,v),q=CM(g,{replace:c,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:b});function X(tt){t&&t(tt),tt.defaultPrevented||q(tt)}let W=H.createElement("a",{...v,...z,href:M||D,onClick:R||l?t:X,ref:EM(S,P),target:f,"data-discover":!T&&i==="render"?"true":void 0});return k&&!T?H.createElement(H.Fragment,null,W,H.createElement(bM,{page:D})):W});l1.displayName="Link";var wM=H.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:r=!1,style:l,to:c,viewTransition:d,children:f,...g},m){let b=qd(c,{relative:g.relative}),v=Sr(),S=H.useContext(_g),{navigator:E,basename:T}=H.useContext(ms),M=S!=null&&OM(b)&&d===!0,R=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,D=v.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(D=D.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase()),k&&T&&(k=ga(k,T)||k);const P=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let z=D===R||!r&&D.startsWith(R)&&D.charAt(P)==="/",q=k!=null&&(k===R||!r&&k.startsWith(R)&&k.charAt(R.length)==="/"),X={isActive:z,isPending:q,isTransitioning:M},W=z?t:void 0,tt;typeof s=="function"?tt=s(X):tt=[s,z?"active":null,q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let st=typeof l=="function"?l(X):l;return H.createElement(l1,{...g,"aria-current":W,className:tt,ref:m,style:st,to:c,viewTransition:d},typeof f=="function"?f(X):f)});wM.displayName="NavLink";var xM=H.forwardRef(({discover:h="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:r,state:l,method:c=Ap,action:d,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:b,...v},S)=>{let E=LM(),T=DM(d,{relative:g}),M=c.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&r1.test(d),D=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,z=(P==null?void 0:P.getAttribute("formmethod"))||c;E(P||k.currentTarget,{fetcherKey:t,method:z,navigate:i,replace:r,state:l,relative:g,preventScrollReset:m,viewTransition:b})};return H.createElement("form",{ref:S,method:M,action:T,onSubmit:s?f:D,...v,"data-discover":!R&&h==="render"?"true":void 0})});xM.displayName="Form";function TM(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(h){let t=H.useContext(eu);return me(t,TM(h)),t}function CM(h,{target:t,replace:i,state:s,preventScrollReset:r,relative:l,viewTransition:c}={}){let d=t1(),f=Sr(),g=qd(h,{relative:l});return H.useCallback(m=>{if(sM(m,t)){m.preventDefault();let b=i!==void 0?i:xh(f)===xh(g);d(h,{replace:b,state:s,preventScrollReset:r,relative:l,viewTransition:c})}},[f,d,g,i,s,t,h,r,l,c])}var RM=0,MM=()=>`__${String(++RM)}__`;function LM(){let{router:h}=o1("useSubmit"),{basename:t}=H.useContext(ms),i=YR();return H.useCallback(async(s,r={})=>{let{action:l,method:c,encType:d,formData:f,body:g}=lM(s,t);if(r.navigate===!1){let m=r.fetcherKey||MM();await h.fetch(m,i,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await h.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[h,t,i])}function DM(h,{relative:t}={}){let{basename:i}=H.useContext(ms),s=H.useContext(ys);me(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...qd(h||".",{relative:t})},c=Sr();if(h==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();l.search=m?`?${m}`:""}}return(!h||h===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:ha([i,l.pathname])),xh(l)}function OM(h,t={}){let i=H.useContext(Q_);me(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=o1("useViewTransitionState"),r=qd(h,{relative:t.relative});if(!i.isTransitioning)return!1;let l=ga(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=ga(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Zp(r.pathname,c)!=null||Zp(r.pathname,l)!=null}[...gM];var c1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u_=Xl.createContext&&Xl.createContext(c1),kM=["attr","size","title"];function NM(h,t){if(h==null)return{};var i=PM(h,t),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(h);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(h,s)&&(i[s]=h[s])}return i}function PM(h,t){if(h==null)return{};var i={};for(var s in h)if(Object.prototype.hasOwnProperty.call(h,s)){if(t.indexOf(s)>=0)continue;i[s]=h[s]}return i}function Jp(){return Jp=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(h[s]=i[s])}return h},Jp.apply(this,arguments)}function h_(h,t){var i=Object.keys(h);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(h);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),i.push.apply(i,s)}return i}function tg(h){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(i),!0).forEach(function(s){FM(h,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(i)):h_(Object(i)).forEach(function(s){Object.defineProperty(h,s,Object.getOwnPropertyDescriptor(i,s))})}return h}function FM(h,t,i){return t=HM(t),t in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}function HM(h){var t=zM(h,"string");return typeof t=="symbol"?t:t+""}function zM(h,t){if(typeof h!="object"||!h)return h;var i=h[Symbol.toPrimitive];if(i!==void 0){var s=i.call(h,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(h)}function u1(h){return h&&h.map((t,i)=>Xl.createElement(t.tag,tg({key:i},t.attr),u1(t.child)))}function h1(h){return t=>Xl.createElement(UM,Jp({attr:tg({},h.attr)},t),u1(h.child))}function UM(h){var t=i=>{var{attr:s,size:r,title:l}=h,c=NM(h,kM),d=r||i.size||"1em",f;return i.className&&(f=i.className),h.className&&(f=(f?f+" ":"")+h.className),Xl.createElement("svg",Jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,c,{className:f,style:tg(tg({color:h.color||i.color},i.style),h.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Xl.createElement("title",null,l),h.children)};return u_!==void 0?Xl.createElement(u_.Consumer,null,i=>t(i)):t(c1)}function BM(h){return h1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(h)}function IM(h){return h1({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(h)}function jM(){const h=t1(),t=Sr(),[i,s]=H.useState(!1);var r=i?250:60;r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r*.8:r;const c=()=>s(!i),d={marginBottom:"10px",background:"none",border:"none",color:"#ccc",cursor:"pointer",fontSize:"18px",justifyContent:"center",transition:"width 0.3s",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center",paddingBottom:"5px",paddingTop:"5px",boxSizing:"border-box",width:"90%",textOverflow:"ellipsis"},f={display:"flex",justifyContent:"center"};return rt.jsxs("div",{style:{display:"flex"},children:[rt.jsx("div",{style:{width:r,height:"100%",background:"#382240",color:"#fff",transition:"width 0.3s ease",overflow:"hidden",padding:"10px",position:"fixed",boxSizing:"border-box",zIndex:1e3,display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:rt.jsxs("ul",{style:{listStyleType:"none",margin:0,paddingLeft:0,paddingRight:0,boxSizing:"border-box",width:"100%",transition:"width 0.3s ease"},children:[rt.jsx("li",{style:{...f},children:rt.jsx("button",{onClick:c,style:{...d,marginBottom:"40px"},children:i?"←":"→"})}),rt.jsx("li",{style:{...f},children:rt.jsx("button",{onClick:()=>{h("/"),i&&c()},style:{...d,fontWeight:t.pathname==="/"?"bold":"normal"},children:i?"Home":rt.jsx(BM,{})})}),rt.jsx("li",{style:{...f},children:rt.jsx("button",{onClick:()=>{h("/resume"),i&&c()},style:{...d,fontWeight:t.pathname==="/resume"?"bold":"normal"},children:i?"Resume/CV":rt.jsx(IM,{})})}),rt.jsx("li",{style:{...f},children:rt.jsx("hr",{style:{borderTop:"1px solid white",opacity:"70%",width:"90%",transition:"width 0.3s ease"}})})]})}),rt.jsx("div",{style:{padding:"20px",marginLeft:i?r/1.2:0,transition:"margin-left 0.3s",display:"flex",flexGrow:1,justifyContent:"center",height:"100vh",boxSizing:"border-box",scrollPaddingBottom:"20px"}})]})}function GM(){return rt.jsxs("div",{style:{display:"flex"},children:[rt.jsx(jM,{}),rt.jsx("div",{style:{flexGrow:1,padding:"20px"},children:rt.jsx(QR,{})})]})}function qM({targetDateString:h}){const[t,i]=H.useState(null);return H.useEffect(()=>{const s=new Date,l=new Date(h).getTime()-s.getTime(),c=Math.ceil(l/(1e3*60*60*24));i(c)},[h]),rt.jsx("div",{style:{display:"flex",justifyContent:"center"},children:t>0?rt.jsxs("p",{style:{fontWeight:"bold"},children:[t," day",t!==1?"s":""," until graduation!"]}):rt.jsx("p",{style:{fontWeight:"bold"},children:"I have officially graduated!"})})}function VM(){return rt.jsxs("div",{style:{marginTop:"40px"},children:[rt.jsx("div",{style:{display:"flex",justifyContent:"center"},children:rt.jsx("a",{href:"https://www.linkedin.com/in/justin-everett-6b629a253/",target:"_blank",children:rt.jsx("img",{src:"/PersonalWebpage/WebsitePlaceHolder.jpg",alt:"LinkedIn",style:{width:"200px",maxWidth:"100%",borderRadius:"10%"}})})}),rt.jsx("h1",{style:{textAlign:"center"},children:"Justin Everett"}),rt.jsxs("div",{className:"card",children:[rt.jsx("div",{children:rt.jsx(qM,{targetDateString:"2025-07-31"})}),rt.jsx("p",{style:{textAlign:"center"},children:rt.jsx("code",{children:"Use the sidebar to the left to navigate"})})]}),rt.jsx("p",{className:"read-the-docs",style:{textAlign:"center"},children:"Click on the image of me to visit my LinkedIn profile!"})]})}const XM="modulepreload",YM=function(h){return"/PersonalWebpage/"+h},d_={},fp=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){let c=function(g){return Promise.all(g.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=c(i.map(g=>{if(g=YM(g),g in d_)return;d_[g]=!0;const m=g.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":XM,m||(v.as="script"),v.crossOrigin="",v.href=g,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((S,E)=>{v.addEventListener("load",S),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var Eh={};Eh.d=(h,t)=>{for(var i in t)Eh.o(t,i)&&!Eh.o(h,i)&&Object.defineProperty(h,i,{enumerable:!0,get:t[i]})};Eh.o=(h,t)=>Object.prototype.hasOwnProperty.call(h,t);var Tt=globalThis.pdfjsLib={};Eh.d(Tt,{AbortException:()=>to,AnnotationEditorLayer:()=>Tb,AnnotationEditorParamsType:()=>Et,AnnotationEditorType:()=>Mt,AnnotationEditorUIManager:()=>Kl,AnnotationLayer:()=>VL,AnnotationMode:()=>Ga,ColorPicker:()=>sg,DOMSVGFactory:()=>Zb,DrawLayer:()=>Lb,FeatureTest:()=>wi,GlobalWorkerOptions:()=>ua,ImageKind:()=>Ep,InvalidPDFException:()=>f1,MissingPDFException:()=>Jl,OPS:()=>Mn,OutputScale:()=>bv,PDFDataRangeTransport:()=>cw,PDFDateString:()=>Vb,PDFWorker:()=>Zo,PasswordResponses:()=>QM,PermissionFlag:()=>WM,PixelsPerInch:()=>yr,RenderingCancelledException:()=>Gb,TextLayer:()=>Yv,UnexpectedResponseException:()=>Rg,Util:()=>dt,VerbosityLevel:()=>xg,XfaLayer:()=>hw,build:()=>xL,createValidAbsoluteUrl:()=>e2,fetchData:()=>Lg,getDocument:()=>mL,getFilenameFromUrl:()=>u2,getPdfFilenameFromUrl:()=>h2,getXfaPageViewport:()=>d2,isDataScheme:()=>Dg,isPdfFile:()=>qb,noContextMenu:()=>wn,normalizeUnicode:()=>l2,setLayerDimensions:()=>Yl,shadow:()=>Ut,version:()=>wL});const vi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),d1=[1,0,0,1,0,0],gv=[.001,0,0,.001,0,0],KM=1e7,rv=1.35,nn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ga={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$M="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},WM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ep={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},nh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xg={ERRORS:0,WARNINGS:1,INFOS:5},Mn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},QM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tg=xg.WARNINGS;function ZM(h){Number.isInteger(h)&&(Tg=h)}function JM(){return Tg}function Cg(h){Tg>=xg.INFOS&&console.log(`Info: ${h}`)}function Ot(h){Tg>=xg.WARNINGS&&console.log(`Warning: ${h}`)}function le(h){throw new Error(h)}function Ue(h,t){h||le(t)}function t2(h){switch(h==null?void 0:h.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function e2(h,t=null,i=null){if(!h)return null;try{if(i&&typeof h=="string"){if(i.addDefaultProtocol&&h.startsWith("www.")){const r=h.match(/\./g);(r==null?void 0:r.length)>=2&&(h=`http://${h}`)}if(i.tryConvertEncoding)try{h=r2(h)}catch{}}const s=t?new URL(h,t):new URL(h);if(t2(s))return s}catch{}return null}function Ut(h,t,i,s=!1){return Object.defineProperty(h,t,{value:i,enumerable:!s,configurable:!0,writable:!1}),i}const Er=function(){function t(i,s){this.message=i,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class mv extends Er{constructor(t,i){super(t,"PasswordException"),this.code=i}}class yv extends Er{constructor(t,i){super(t,"UnknownErrorException"),this.details=i}}class f1 extends Er{constructor(t){super(t,"InvalidPDFException")}}class Jl extends Er{constructor(t){super(t,"MissingPDFException")}}class Rg extends Er{constructor(t,i){super(t,"UnexpectedResponseException"),this.status=i}}class i2 extends Er{constructor(t){super(t,"FormatError")}}class to extends Er{constructor(t){super(t,"AbortException")}}function p1(h){(typeof h!="object"||(h==null?void 0:h.length)===void 0)&&le("Invalid argument for bytesToString");const t=h.length,i=8192;if(t<i)return String.fromCharCode.apply(null,h);const s=[];for(let r=0;r<t;r+=i){const l=Math.min(r+i,t),c=h.subarray(r,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function Mg(h){typeof h!="string"&&le("Invalid argument for stringToBytes");const t=h.length,i=new Uint8Array(t);for(let s=0;s<t;++s)i[s]=h.charCodeAt(s)&255;return i}function n2(h){return String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,h&255)}function Ib(h){const t=Object.create(null);for(const[i,s]of h)t[i]=s;return t}function s2(){const h=new Uint8Array(4);return h[0]=1,new Uint32Array(h.buffer,0,1)[0]===1}function a2(){try{return new Function(""),!0}catch{return!1}}class wi{static get isLittleEndian(){return Ut(this,"isLittleEndian",s2())}static get isEvalSupported(){return Ut(this,"isEvalSupported",a2())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ut(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ut(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,i;return Ut(this,"isCSSRoundSupported",(i=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:i.call(t,"width: round(1.5px, 1px)"))}}const lv=Array.from(Array(256).keys(),h=>h.toString(16).padStart(2,"0"));var fa,_p,vv;class dt{static makeHexColor(t,i,s){return`#${lv[t]}${lv[i]}${lv[s]}`}static scaleMinMax(t,i){let s;t[0]?(t[0]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=t[0],i[2]*=t[0],t[3]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=t[3],i[3]*=t[3]):(s=i[0],i[0]=i[1],i[1]=s,s=i[2],i[2]=i[3],i[3]=s,t[1]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=t[1],i[3]*=t[1],t[2]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=t[2],i[2]*=t[2]),i[0]+=t[4],i[1]+=t[5],i[2]+=t[4],i[3]+=t[5]}static transform(t,i){return[t[0]*i[0]+t[2]*i[1],t[1]*i[0]+t[3]*i[1],t[0]*i[2]+t[2]*i[3],t[1]*i[2]+t[3]*i[3],t[0]*i[4]+t[2]*i[5]+t[4],t[1]*i[4]+t[3]*i[5]+t[5]]}static applyTransform(t,i){const s=t[0]*i[0]+t[1]*i[2]+i[4],r=t[0]*i[1]+t[1]*i[3]+i[5];return[s,r]}static applyInverseTransform(t,i){const s=i[0]*i[3]-i[1]*i[2],r=(t[0]*i[3]-t[1]*i[2]+i[2]*i[5]-i[4]*i[3])/s,l=(-t[0]*i[1]+t[1]*i[0]+i[4]*i[1]-i[5]*i[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,i){const s=this.applyTransform(t,i),r=this.applyTransform(t.slice(2,4),i),l=this.applyTransform([t[0],t[3]],i),c=this.applyTransform([t[2],t[1]],i);return[Math.min(s[0],r[0],l[0],c[0]),Math.min(s[1],r[1],l[1],c[1]),Math.max(s[0],r[0],l[0],c[0]),Math.max(s[1],r[1],l[1],c[1])]}static inverseTransform(t){const i=t[0]*t[3]-t[1]*t[2];return[t[3]/i,-t[1]/i,-t[2]/i,t[0]/i,(t[2]*t[5]-t[4]*t[3])/i,(t[4]*t[1]-t[5]*t[0])/i]}static singularValueDecompose2dScale(t){const i=[t[0],t[2],t[1],t[3]],s=t[0]*i[0]+t[1]*i[2],r=t[0]*i[1]+t[1]*i[3],l=t[2]*i[0]+t[3]*i[2],c=t[2]*i[1]+t[3]*i[3],d=(s+c)/2,f=Math.sqrt((s+c)**2-4*(s*c-l*r))/2,g=d+f||1,m=d-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const i=t.slice(0);return t[0]>t[2]&&(i[0]=t[2],i[2]=t[0]),t[1]>t[3]&&(i[1]=t[3],i[3]=t[1]),i}static intersect(t,i){const s=Math.max(Math.min(t[0],t[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(i[0],i[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(i[1],i[3]));return l>c?null:[s,l,r,c]}static bezierBoundingBox(t,i,s,r,l,c,d,f,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],i,f),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],i,f)):g=[Math.min(t,d),Math.min(i,f),Math.max(t,d),Math.max(i,f)],w(this,fa,vv).call(this,t,s,l,d,i,r,c,f,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),g),w(this,fa,vv).call(this,t,s,l,d,i,r,c,f,3*(-i+3*(r-c)+f),6*(i-2*r+c),3*(r-i),g),g}}fa=new WeakSet,_p=function(t,i,s,r,l,c,d,f,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,S=v*g,E=b*(b*(b*t+3*g*i)+3*v*s)+S*r,T=b*(b*(b*l+3*g*c)+3*v*d)+S*f;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],T),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],T)},vv=function(t,i,s,r,l,c,d,f,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,fa,_p).call(this,t,i,s,r,l,c,d,f,-b/m,v);return}const S=m**2-4*b*g;if(S<0)return;const E=Math.sqrt(S),T=2*g;w(this,fa,_p).call(this,t,i,s,r,l,c,d,f,(-m+E)/T,v),w(this,fa,_p).call(this,t,i,s,r,l,c,d,f,(-m-E)/T,v)},C(dt,fa);function r2(h){return decodeURIComponent(escape(h))}let ov=null,f_=null;function l2(h){return ov||(ov=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,f_=new Map([["ﬅ","ſt"]])),h.replaceAll(ov,(t,i,s)=>i?i.normalize("NFKC"):f_.get(s))}function o2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const h=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(h);else for(let t=0;t<32;t++)h[t]=Math.floor(Math.random()*255);return p1(h)}const jb="pdfjs_internal_id_",Ps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function c2(h){return Uint8Array.prototype.toBase64?h.toBase64():btoa(p1(h))}const Hs="http://www.w3.org/2000/svg",Kr=class Kr{};St(Kr,"CSS",96),St(Kr,"PDF",72),St(Kr,"PDF_TO_CSS_UNITS",Kr.CSS/Kr.PDF);let yr=Kr;async function Lg(h,t="text"){if(rh(h,document.baseURI)){const i=await fetch(h);if(!i.ok)throw new Error(i.statusText);switch(t){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,s)=>{const r=new XMLHttpRequest;r.open("GET",h,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Vd{constructor({viewBox:t,scale:i,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=l;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,b,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let S,E,T,M;g===0?(S=Math.abs(f-t[1])*i+r,E=Math.abs(d-t[0])*i+l,T=(t[3]-t[1])*i,M=(t[2]-t[0])*i):(S=Math.abs(d-t[0])*i+r,E=Math.abs(f-t[1])*i+l,T=(t[2]-t[0])*i,M=(t[3]-t[1])*i),this.transform=[g*i,m*i,b*i,v*i,S-g*i*d-b*i*f,E-m*i*d-v*i*f],this.width=T,this.height=M}get rawDims(){const{viewBox:t}=this;return Ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:i=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Vd({viewBox:this.viewBox.slice(),scale:t,rotation:i,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,i){return dt.applyTransform([t,i],this.transform)}convertToViewportRectangle(t){const i=dt.applyTransform([t[0],t[1]],this.transform),s=dt.applyTransform([t[2],t[3]],this.transform);return[i[0],i[1],s[0],s[1]]}convertToPdfPoint(t,i){return dt.applyInverseTransform([t,i],this.transform)}}class Gb extends Er{constructor(t,i=0){super(t,"RenderingCancelledException"),this.extraDelay=i}}function Dg(h){const t=h.length;let i=0;for(;i<t&&h[i].trim()==="";)i++;return h.substring(i,i+5).toLowerCase()==="data:"}function qb(h){return typeof h=="string"&&/\.pdf$/i.test(h)}function u2(h){return[h]=h.split(/[#?]/,1),h.substring(h.lastIndexOf("/")+1)}function h2(h,t="document.pdf"){if(typeof h!="string")return t;if(Dg(h))return Ot('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(h);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class p_{constructor(){St(this,"started",Object.create(null));St(this,"times",[])}time(t){t in this.started&&Ot(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ot(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let i=0;for(const{name:s}of this.times)i=Math.max(s.length,i);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(i)} ${l-r}ms
`);return t.join("")}}function rh(h,t){try{const{protocol:i}=t?new URL(h,t):new URL(h);return i==="http:"||i==="https:"}catch{return!1}}function wn(h){h.preventDefault()}function g_(h){console.log("Deprecated API usage: "+h)}var Ch;class Vb{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,Ch)||_(this,Ch,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=u(this,Ch).exec(t);if(!i)return null;const s=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(i[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const g=i[7]||"Z";let m=parseInt(i[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(i[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(c+=m,d+=b):g==="+"&&(c-=m,d-=b),new Date(Date.UTC(s,r,l,c,d,f))}}Ch=new WeakMap,C(Vb,Ch);function d2(h,{scale:t=1,rotation:i=0}){const{width:s,height:r}=h.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new Vd({viewBox:l,scale:t,rotation:i})}function Xb(h){if(h.startsWith("#")){const t=parseInt(h.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return h.startsWith("rgb(")?h.slice(4,-1).split(",").map(t=>parseInt(t)):h.startsWith("rgba(")?h.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ot(`Not a valid color format: "${h}"`),[0,0,0])}function f2(h){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const i of h.keys()){t.style.color=i;const s=window.getComputedStyle(t).color;h.set(i,Xb(s))}t.remove()}function ge(h){const{a:t,b:i,c:s,d:r,e:l,f:c}=h.getTransform();return[t,i,s,r,l,c]}function Fs(h){const{a:t,b:i,c:s,d:r,e:l,f:c}=h.getTransform().invertSelf();return[t,i,s,r,l,c]}function Yl(h,t,i=!1,s=!0){if(t instanceof Vd){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=h,d=wi.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${l}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!i||t.rotation%180===0?(c.width=m,c.height=b):(c.width=b,c.height=m)}s&&h.setAttribute("data-main-rotation",t.rotation)}class bv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var qa,Wr,Ln,Qr,Rh,Mh,rg,g1,xi,m1,y1,wp,v1,Sv;const zs=class zs{constructor(t){C(this,xi);C(this,qa,null);C(this,Wr,null);C(this,Ln);C(this,Qr,null);C(this,Rh,null);_(this,Ln,t),u(zs,Mh)||_(zs,Mh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,qa,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const i=u(this,Ln)._uiManager._signal;t.addEventListener("contextmenu",wn,{signal:i}),t.addEventListener("pointerdown",w(zs,rg,g1),{signal:i});const s=_(this,Qr,document.createElement("div"));s.className="buttons",t.append(s);const r=u(this,Ln).toolbarPosition;if(r){const{style:l}=t,c=u(this,Ln)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,xi,v1).call(this),t}get div(){return u(this,qa)}hide(){var t;u(this,qa).classList.add("hidden"),(t=u(this,Wr))==null||t.hideDropdown()}show(){var t;u(this,qa).classList.remove("hidden"),(t=u(this,Rh))==null||t.shown()}async addAltText(t){const i=await t.render();w(this,xi,wp).call(this,i),u(this,Qr).prepend(i,u(this,xi,Sv)),_(this,Rh,t)}addColorPicker(t){_(this,Wr,t);const i=t.renderButton();w(this,xi,wp).call(this,i),u(this,Qr).prepend(i,u(this,xi,Sv))}remove(){var t;u(this,qa).remove(),(t=u(this,Wr))==null||t.destroy(),_(this,Wr,null)}};qa=new WeakMap,Wr=new WeakMap,Ln=new WeakMap,Qr=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,rg=new WeakSet,g1=function(t){t.stopPropagation()},xi=new WeakSet,m1=function(t){u(this,Ln)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},y1=function(t){u(this,Ln)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},wp=function(t){const i=u(this,Ln)._uiManager._signal;t.addEventListener("focusin",w(this,xi,m1).bind(this),{capture:!0,signal:i}),t.addEventListener("focusout",w(this,xi,y1).bind(this),{capture:!0,signal:i}),t.addEventListener("contextmenu",wn,{signal:i})},v1=function(){const{editorType:t,_uiManager:i}=u(this,Ln),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",u(zs,Mh)[t]),w(this,xi,wp).call(this,s),s.addEventListener("click",r=>{i.delete()},{signal:i._signal}),u(this,Qr).append(s)},Sv=function(){const t=document.createElement("div");return t.className="divider",t},C(zs,rg),C(zs,Mh,null);let Av=zs;var Lh,Zr,Jr,br,b1,A1,S1;class p2{constructor(t){C(this,br);C(this,Lh,null);C(this,Zr,null);C(this,Jr);_(this,Jr,t)}show(t,i,s){const[r,l]=w(this,br,A1).call(this,i,s),{style:c}=u(this,Zr)||_(this,Zr,w(this,br,b1).call(this));t.append(u(this,Zr)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Zr).remove()}}Lh=new WeakMap,Zr=new WeakMap,Jr=new WeakMap,br=new WeakSet,b1=function(){const t=_(this,Zr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",wn,{signal:u(this,Jr)._signal});const i=_(this,Lh,document.createElement("div"));return i.className="buttons",t.append(i),w(this,br,S1).call(this),t},A1=function(t,i){let s=0,r=0;for(const l of t){const c=l.y+l.height;if(c<s)continue;const d=l.x+(i?l.width:0);if(c>s){r=d,s=c;continue}i?d>r&&(r=d):d<r&&(r=d)}return[i?1-r:r,s]},S1=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");t.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=u(this,Jr)._signal;t.addEventListener("contextmenu",wn,{signal:s}),t.addEventListener("click",()=>{u(this,Jr).highlightSelection("floating_button")},{signal:s}),u(this,Lh).append(t)};function eg(h,t,i){for(const s of i)t.addEventListener(s,h[s].bind(h))}function g2(h){return Math.round(Math.min(255,Math.max(1,255*h))).toString(16).padStart(2,"0")}var lg;class m2{constructor(){C(this,lg,0)}get id(){return`${$M}${Ai(this,lg)._++}`}}lg=new WeakMap;var ec,Dh,fi,ic,xp;const e0=class e0{constructor(){C(this,ic);C(this,ec,o2());C(this,Dh,0);C(this,fi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:i,name:s,size:r,type:l}=t;return w(this,ic,xp).call(this,`${i}_${s}_${r}_${l}`,t)}async getFromUrl(t){return w(this,ic,xp).call(this,t,t)}async getFromBlob(t,i){const s=await i;return w(this,ic,xp).call(this,t,s)}async getFromId(t){u(this,fi)||_(this,fi,new Map);const i=u(this,fi).get(t);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:s}=i;return delete i.blobPromise,this.getFromBlob(i.id,s)}return this.getFromUrl(i.url)}getFromCanvas(t,i){u(this,fi)||_(this,fi,new Map);let s=u(this,fi).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${u(this,ec)}_${Ai(this,Dh)._++}`,refCounter:1,isSvg:!1},u(this,fi).set(t,s),u(this,fi).set(s.id,s),s}getSvgUrl(t){const i=u(this,fi).get(t);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(t){var r;u(this,fi)||_(this,fi,new Map);const i=u(this,fi).get(t);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:s}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),i.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),i.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,ec)}_`)}};ec=new WeakMap,Dh=new WeakMap,fi=new WeakMap,ic=new WeakSet,xp=async function(t,i){u(this,fi)||_(this,fi,new Map);let s=u(this,fi).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,ec)}_${Ai(this,Dh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(s.url=i,r=await Lg(i,"blob")):i instanceof File?r=s.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const l=e0._isSVGFittingCanvas,c=new FileReader,d=new Image,f=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},c.onload=async()=>{const b=s.svgUrl=c.result;d.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=c.onerror=m});c.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return u(this,fi).set(t,s),s&&u(this,fi).set(s.id,s),s};let Ev=e0;var Ke,Va,Oh,$e;class y2{constructor(t=128){C(this,Ke,[]);C(this,Va,!1);C(this,Oh);C(this,$e,-1);_(this,Oh,t)}add({cmd:t,undo:i,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(r&&t(),u(this,Va))return;const f={cmd:t,undo:i,post:s,type:l};if(u(this,$e)===-1){u(this,Ke).length>0&&(u(this,Ke).length=0),_(this,$e,0),u(this,Ke).push(f);return}if(c&&u(this,Ke)[u(this,$e)].type===l){d&&(f.undo=u(this,Ke)[u(this,$e)].undo),u(this,Ke)[u(this,$e)]=f;return}const g=u(this,$e)+1;g===u(this,Oh)?u(this,Ke).splice(0,1):(_(this,$e,g),g<u(this,Ke).length&&u(this,Ke).splice(g)),u(this,Ke).push(f)}undo(){if(u(this,$e)===-1)return;_(this,Va,!0);const{undo:t,post:i}=u(this,Ke)[u(this,$e)];t(),i==null||i(),_(this,Va,!1),_(this,$e,u(this,$e)-1)}redo(){if(u(this,$e)<u(this,Ke).length-1){_(this,$e,u(this,$e)+1),_(this,Va,!0);const{cmd:t,post:i}=u(this,Ke)[u(this,$e)];t(),i==null||i(),_(this,Va,!1)}}hasSomethingToUndo(){return u(this,$e)!==-1}hasSomethingToRedo(){return u(this,$e)<u(this,Ke).length-1}destroy(){_(this,Ke,null)}}Ke=new WeakMap,Va=new WeakMap,Oh=new WeakMap,$e=new WeakMap;var og,E1;class Xd{constructor(t){C(this,og);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=wi.platform;for(const[s,r,l={}]of t)for(const c of s){const d=c.startsWith("mac+");i&&d?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!d&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,i){if(!this.allKeys.has(i.key))return;const s=this.callbacks.get(w(this,og,E1).call(this,i));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:d=null}}=s;d&&!d(t,i)||(r.bind(t,...c,i)(),l||(i.stopPropagation(),i.preventDefault()))}}og=new WeakSet,E1=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const cg=class cg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return f2(t),Ut(this,"_colors",t)}convert(t){const i=Xb(t);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[s,r]of this._colors)if(r.every((l,c)=>l===i[c]))return cg._colorsMapping.get(s);return i}getHexCode(t){const i=this._colors.get(t);return i?dt.makeHexColor(...i):t}};St(cg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _v=cg;var nc,Ki,Fe,si,sc,Bs,ac,Dn,Xa,rc,tl,Qn,On,el,kh,Nh,lc,Ph,Zn,Ya,oc,Ka,Jn,ug,$a,Fh,Wa,il,Hh,zh,We,Kt,Is,nl,Uh,Bh,Qa,ts,js,Ih,mn,at,Tp,wv,_1,w1,Cp,x1,T1,C1,xv,R1,Tv,Cv,M1,Si,Ia,L1,D1,Rv,O1,lh,Mv;const Wo=class Wo{constructor(t,i,s,r,l,c,d,f,g,m,b){C(this,at);C(this,nc,new AbortController);C(this,Ki,null);C(this,Fe,new Map);C(this,si,new Map);C(this,sc,null);C(this,Bs,null);C(this,ac,null);C(this,Dn,new y2);C(this,Xa,null);C(this,rc,0);C(this,tl,new Set);C(this,Qn,null);C(this,On,null);C(this,el,new Set);C(this,kh,!1);C(this,Nh,!1);C(this,lc,!1);C(this,Ph,null);C(this,Zn,null);C(this,Ya,null);C(this,oc,null);C(this,Ka,!1);C(this,Jn,null);C(this,ug,new m2);C(this,$a,!1);C(this,Fh,!1);C(this,Wa,null);C(this,il,null);C(this,Hh,null);C(this,zh,null);C(this,We,Mt.NONE);C(this,Kt,new Set);C(this,Is,null);C(this,nl,null);C(this,Uh,null);C(this,Bh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,Qa,[0,0]);C(this,ts,null);C(this,js,null);C(this,Ih,null);C(this,mn,null);const v=this._signal=u(this,nc).signal;_(this,js,t),_(this,Ih,i),_(this,sc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),w(this,at,x1).call(this),w(this,at,M1).call(this),w(this,at,xv).call(this),_(this,Bs,l.annotationStorage),_(this,Ph,l.filterFactory),_(this,nl,c),_(this,oc,d||null),_(this,kh,f),_(this,Nh,g),_(this,lc,m),_(this,zh,b||null),this.viewParameters={realScale:yr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Wo.prototype,i=c=>u(c,js).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Xd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&u(c,js).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&u(c,js).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var t,i,s,r;(t=u(this,mn))==null||t.resolve(),_(this,mn,null),(i=u(this,nc))==null||i.abort(),_(this,nc,null),this._signal=null;for(const l of u(this,si).values())l.destroy();u(this,si).clear(),u(this,Fe).clear(),u(this,el).clear(),_(this,Ki,null),u(this,Kt).clear(),u(this,Dn).destroy(),(s=u(this,sc))==null||s.destroy(),(r=u(this,Jn))==null||r.hide(),_(this,Jn,null),u(this,Zn)&&(clearTimeout(u(this,Zn)),_(this,Zn,null)),u(this,ts)&&(clearTimeout(u(this,ts)),_(this,ts,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,zh)}get useNewAltTextFlow(){return u(this,Nh)}get useNewAltTextWhenAddingImage(){return u(this,lc)}get hcmFilter(){return Ut(this,"hcmFilter",u(this,nl)?u(this,Ph).addHCMFilter(u(this,nl).foreground,u(this,nl).background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(u(this,js)).direction)}get highlightColors(){return Ut(this,"highlightColors",u(this,oc)?new Map(u(this,oc).split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,Hh,t)}editAltText(t,i=!1){var s;(s=u(this,sc))==null||s.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,lc,i);break}}onPageChanging({pageNumber:t}){_(this,rc,t-1)}focusMainContainer(){u(this,js).focus()}findParent(t,i){for(const s of u(this,si).values()){const{x:r,y:l,width:c,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&i>=l&&i<=l+d)return s}return null}disableUserSelect(t=!1){u(this,Ih).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,el).add(t)}removeShouldRescale(t){u(this,el).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*yr.PDF_TO_CSS_UNITS;for(const i of u(this,el))i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c}=i,d=i.toString(),g=w(this,at,Tp).call(this,i).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;i.empty();const b=w(this,at,wv).call(this,g),v=u(this,We)===Mt.NONE,S=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Mt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,Bs)&&!u(this,Bs).has(t.id)&&u(this,Bs).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,Ka)&&(_(this,Ka,!1),w(this,at,Cp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of u(this,Kt))if(i.div.contains(t)){_(this,il,[i,t]),i._focusEventsAllowed=!1;break}}focus(){if(!u(this,il))return;const[t,i]=u(this,il);_(this,il,null),i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){w(this,at,xv).call(this),w(this,at,Tv).call(this)}removeEditListeners(){w(this,at,R1).call(this),w(this,at,Cv).call(this)}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const s of u(this,On))if(s.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const i of t.dataTransfer.items)for(const s of u(this,On))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=u(this,Ki))==null||s.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of u(this,Kt)){const l=r.serialize(!0);l&&i.push(l)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:i}=t;for(const l of i.items)for(const c of u(this,On))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ot(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const g=await r.deserialize(f);if(!g)return;l.push(g)}const c=()=>{for(const f of l)w(this,at,Rv).call(this,f);w(this,at,Mv).call(this,l)},d=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(l){Ot(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,We)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&Wo._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Ka)&&(_(this,Ka,!1),w(this,at,Cp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,at,T1).call(this),w(this,at,Tv).call(this),w(this,at,Si).call(this,{isEditing:u(this,We)!==Mt.NONE,isEmpty:w(this,at,lh).call(this),hasSomethingToUndo:u(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Dn).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,at,C1).call(this),w(this,at,Cv).call(this),w(this,at,Si).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,On)){_(this,On,t);for(const i of u(this,On))w(this,at,Ia).call(this,i.defaultPropertiesToUpdate)}}getId(){return u(this,ug).id}get currentLayer(){return u(this,si).get(u(this,rc))}getLayer(t){return u(this,si).get(t)}get currentPageIndex(){return u(this,rc)}addLayer(t){u(this,si).set(t.pageIndex,t),u(this,$a)?t.enable():t.disable()}removeLayer(t){u(this,si).delete(t.pageIndex)}async updateMode(t,i=null,s=!1){if(u(this,We)!==t&&!(u(this,mn)&&(await u(this,mn).promise,!u(this,mn)))){if(_(this,mn,Promise.withResolvers()),_(this,We,t),t===Mt.NONE){this.setEditingState(!1),w(this,at,D1).call(this),u(this,mn).resolve();return}this.setEditingState(!0),await w(this,at,L1).call(this),this.unselectAll();for(const r of u(this,si).values())r.updateMode(t);if(!i){s&&this.addNewEditorFromKeyboard(),u(this,mn).resolve();return}for(const r of u(this,Fe).values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,mn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==u(this,We)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){var s;if(u(this,On)){switch(t){case Et.CREATE:this.currentLayer.addNewEditor();return;case Et.HIGHLIGHT_DEFAULT_COLOR:(s=u(this,Hh))==null||s.updateColor(i);break;case Et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Uh)||_(this,Uh,new Map)).set(t,i),this.showAllEditors("highlight",i);break}for(const r of u(this,Kt))r.updateParams(t,i);for(const r of u(this,On))r.updateDefaultParams(t,i)}}showAllEditors(t,i,s=!1){var l;for(const c of u(this,Fe).values())c.editorType===t&&c.show(i);(((l=u(this,Uh))==null?void 0:l.get(Et.HIGHLIGHT_SHOW_ALL))??!0)!==i&&w(this,at,Ia).call(this,[[Et.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(u(this,Fh)!==t){_(this,Fh,t);for(const i of u(this,si).values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}getEditors(t){const i=[];for(const s of u(this,Fe).values())s.pageIndex===t&&i.push(s);return i}getEditor(t){return u(this,Fe).get(t)}addEditor(t){u(this,Fe).set(t.id,t)}removeEditor(t){var i;t.div.contains(document.activeElement)&&(u(this,Zn)&&clearTimeout(u(this,Zn)),_(this,Zn,setTimeout(()=>{this.focusMainContainer(),_(this,Zn,null)},0))),u(this,Fe).delete(t.id),this.unselect(t),(!t.annotationElementId||!u(this,tl).has(t.annotationElementId))&&((i=u(this,Bs))==null||i.remove(t.id))}addDeletedAnnotationElement(t){u(this,tl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,tl).has(t)}removeDeletedAnnotationElement(t){u(this,tl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Ki)!==t&&(_(this,Ki,t),t&&w(this,at,Ia).call(this,t.propertiesToUpdate))}updateUI(t){u(this,at,O1)===t&&w(this,at,Ia).call(this,t.propertiesToUpdate)}toggleSelected(t){if(u(this,Kt).has(t)){u(this,Kt).delete(t),t.unselect(),w(this,at,Si).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Kt).add(t),t.select(),w(this,at,Ia).call(this,t.propertiesToUpdate),w(this,at,Si).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const i of u(this,Kt))i!==t&&i.unselect();u(this,Kt).clear(),u(this,Kt).add(t),t.select(),w(this,at,Ia).call(this,t.propertiesToUpdate),w(this,at,Si).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,Kt).has(t)}get firstSelectedEditor(){return u(this,Kt).values().next().value}unselect(t){t.unselect(),u(this,Kt).delete(t),w(this,at,Si).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Kt).size!==0}get isEnterHandled(){return u(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Dn).undo(),w(this,at,Si).call(this,{hasSomethingToUndo:u(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,at,lh).call(this)})}redo(){u(this,Dn).redo(),w(this,at,Si).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Dn).hasSomethingToRedo(),isEmpty:w(this,at,lh).call(this)})}addCommands(t){u(this,Dn).add(t),w(this,at,Si).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,at,lh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...u(this,Kt)],i=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)w(this,at,Rv).call(this,r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Ki))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Ki)||this.hasSelection}selectAll(){for(const t of u(this,Kt))t.commit();w(this,at,Mv).call(this,u(this,Fe).values())}unselectAll(){if(!(u(this,Ki)&&(u(this,Ki).commitOrRemove(),u(this,We)!==Mt.NONE))&&this.hasSelection){for(const t of u(this,Kt))t.unselect();u(this,Kt).clear(),w(this,at,Si).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,Qa)[0]+=t,u(this,Qa)[1]+=i;const[r,l]=u(this,Qa),c=[...u(this,Kt)],d=1e3;u(this,ts)&&clearTimeout(u(this,ts)),_(this,ts,setTimeout(()=>{_(this,ts,null),u(this,Qa)[0]=u(this,Qa)[1]=0,this.addCommands({cmd:()=>{for(const f of c)u(this,Fe).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)u(this,Fe).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},d));for(const f of c)f.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,Qn,new Map);for(const t of u(this,Kt))u(this,Qn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Qn))return!1;this.disableUserSelect(!1);const t=u(this,Qn);_(this,Qn,null);let i=!1;for(const[{x:r,y:l,pageIndex:c},d]of t)d.newX=r,d.newY=l,d.newPageIndex=c,i||(i=r!==d.savedX||l!==d.savedY||c!==d.savedPageIndex);if(!i)return!1;const s=(r,l,c,d)=>{if(u(this,Fe).has(r.id)){const f=u(this,si).get(d);f?r._setParentAndPosition(f,l,c):(r.pageIndex=d,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:d}]of t)s(r,l,c,d)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:d}]of t)s(r,l,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(u(this,Qn))for(const s of u(this,Qn).keys())s.drag(t,i)}rebuild(t){if(t.parent===null){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Ki)===t}getActive(){return u(this,Ki)}getMode(){return u(this,We)}get imageManager(){return Ut(this,"imageManager",new Ev)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let g=0,m=i.rangeCount;g<m;g++)if(!t.contains(i.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,b,v)=>({x:(m-r)/c,y:1-(g+b-s)/l,width:v/c,height:b/l});break;case"180":d=(g,m,b,v)=>({x:1-(g+b-s)/l,y:1-(m+v-r)/c,width:b/l,height:v/c});break;case"270":d=(g,m,b,v)=>({x:1-(m+v-r)/c,y:(g-s)/l,width:v/c,height:b/l});break;default:d=(g,m,b,v)=>({x:(g-s)/l,y:(m-r)/c,width:b/l,height:v/c});break}const f=[];for(let g=0,m=i.rangeCount;g<m;g++){const b=i.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:S,width:E,height:T}of b.getClientRects())E===0||T===0||f.push(d(v,S,E,T))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:i}){(u(this,ac)||_(this,ac,new Map)).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){var i;(i=u(this,ac))==null||i.delete(t)}renderAnnotationElement(t){var r;const i=(r=u(this,ac))==null?void 0:r.get(t.data.id);if(!i)return;const s=u(this,Bs).getRawValue(i);s&&(u(this,We)===Mt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};nc=new WeakMap,Ki=new WeakMap,Fe=new WeakMap,si=new WeakMap,sc=new WeakMap,Bs=new WeakMap,ac=new WeakMap,Dn=new WeakMap,Xa=new WeakMap,rc=new WeakMap,tl=new WeakMap,Qn=new WeakMap,On=new WeakMap,el=new WeakMap,kh=new WeakMap,Nh=new WeakMap,lc=new WeakMap,Ph=new WeakMap,Zn=new WeakMap,Ya=new WeakMap,oc=new WeakMap,Ka=new WeakMap,Jn=new WeakMap,ug=new WeakMap,$a=new WeakMap,Fh=new WeakMap,Wa=new WeakMap,il=new WeakMap,Hh=new WeakMap,zh=new WeakMap,We=new WeakMap,Kt=new WeakMap,Is=new WeakMap,nl=new WeakMap,Uh=new WeakMap,Bh=new WeakMap,Qa=new WeakMap,ts=new WeakMap,js=new WeakMap,Ih=new WeakMap,mn=new WeakMap,at=new WeakSet,Tp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},wv=function(t){const{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(const s of u(this,si).values())if(s.hasTextLayer(t))return s;return null},_1=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=w(this,at,Tp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(u(this,Jn)||_(this,Jn,new p2(this)),u(this,Jn).show(s,r,this.direction==="ltr"))},w1=function(){var l,c,d;const t=document.getSelection();if(!t||t.isCollapsed){u(this,Is)&&((l=u(this,Jn))==null||l.hide(),_(this,Is,null),w(this,at,Si).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=t;if(i===u(this,Is))return;const r=w(this,at,Tp).call(this,t).closest(".textLayer");if(!r){u(this,Is)&&((c=u(this,Jn))==null||c.hide(),_(this,Is,null),w(this,at,Si).call(this,{hasSelectedText:!1}));return}if((d=u(this,Jn))==null||d.hide(),_(this,Is,i),w(this,at,Si).call(this,{hasSelectedText:!0}),!(u(this,We)!==Mt.HIGHLIGHT&&u(this,We)!==Mt.NONE)&&(u(this,We)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Ka,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=u(this,We)===Mt.HIGHLIGHT?w(this,at,wv).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&w(this,at,Cp).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},Cp=function(t=""){u(this,We)===Mt.HIGHLIGHT?this.highlightSelection(t):u(this,kh)&&w(this,at,_1).call(this)},x1=function(){document.addEventListener("selectionchange",w(this,at,w1).bind(this),{signal:this._signal})},T1=function(){if(u(this,Ya))return;_(this,Ya,new AbortController);const t=this.combinedSignal(u(this,Ya));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},C1=function(){var t;(t=u(this,Ya))==null||t.abort(),_(this,Ya,null)},xv=function(){if(u(this,Wa))return;_(this,Wa,new AbortController);const t=this.combinedSignal(u(this,Wa));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},R1=function(){var t;(t=u(this,Wa))==null||t.abort(),_(this,Wa,null)},Tv=function(){if(u(this,Xa))return;_(this,Xa,new AbortController);const t=this.combinedSignal(u(this,Xa));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Cv=function(){var t;(t=u(this,Xa))==null||t.abort(),_(this,Xa,null)},M1=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Si=function(t){Object.entries(t).some(([s,r])=>u(this,Bh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Bh),t)}),u(this,We)===Mt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,at,Ia).call(this,[[Et.HIGHLIGHT_FREE,!0]]))},Ia=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},L1=async function(){if(!u(this,$a)){_(this,$a,!0);const t=[];for(const i of u(this,si).values())t.push(i.enable());await Promise.all(t);for(const i of u(this,Fe).values())i.enable()}},D1=function(){if(this.unselectAll(),u(this,$a)){_(this,$a,!1);for(const t of u(this,si).values())t.disable();for(const t of u(this,Fe).values())t.disable()}},Rv=function(t){const i=u(this,si).get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},O1=function(){let t=null;for(t of u(this,Kt));return t},lh=function(){if(u(this,Fe).size===0)return!0;if(u(this,Fe).size===1)for(const t of u(this,Fe).values())return t.isEmpty();return!1},Mv=function(t){for(const i of u(this,Kt))i.unselect();u(this,Kt).clear();for(const i of t)i.isEmpty()||(u(this,Kt).add(i),i.select());w(this,at,Si).call(this,{hasSelectedEditor:this.hasSelection})},St(Wo,"TRANSLATE_SMALL",1),St(Wo,"TRANSLATE_BIG",10);let Kl=Wo;var Qe,es,kn,cc,is,$i,uc,ns,Ni,Gs,sl,ss,Za,Gn,oh,Rp;const Ei=class Ei{constructor(t){C(this,Gn);C(this,Qe,null);C(this,es,!1);C(this,kn,null);C(this,cc,null);C(this,is,null);C(this,$i,null);C(this,uc,!1);C(this,ns,null);C(this,Ni,null);C(this,Gs,null);C(this,sl,null);C(this,ss,!1);_(this,Ni,t),_(this,ss,t._uiManager.useNewAltTextFlow),u(Ei,Za)||_(Ei,Za,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ei._l10n??(Ei._l10n=t)}async render(){const t=_(this,kn,document.createElement("button"));t.className="altText",t.tabIndex="0";const i=_(this,cc,document.createElement("span"));t.append(i),u(this,ss)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(Ei,Za).missing),i.setAttribute("data-l10n-id",u(Ei,Za)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,Ni)._uiManager._signal;t.addEventListener("contextmenu",wn,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),u(this,Ni)._uiManager.editAltText(u(this,Ni)),u(this,ss)&&u(this,Ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Gn,oh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(_(this,uc,!0),r(l))},{signal:s}),await w(this,Gn,Rp).call(this),t}finish(){u(this,kn)&&(u(this,kn).focus({focusVisible:u(this,uc)}),_(this,uc,!1))}isEmpty(){return u(this,ss)?u(this,Qe)===null:!u(this,Qe)&&!u(this,es)}hasData(){return u(this,ss)?u(this,Qe)!==null||!!u(this,Gs):this.isEmpty()}get guessedText(){return u(this,Gs)}async setGuessedText(t){u(this,Qe)===null&&(_(this,Gs,t),_(this,sl,await Ei._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,Gn,Rp).call(this))}toggleAltTextBadge(t=!1){var i;if(!u(this,ss)||u(this,Qe)){(i=u(this,ns))==null||i.remove(),_(this,ns,null);return}if(!u(this,ns)){const s=_(this,ns,document.createElement("div"));s.className="noAltTextBadge",u(this,Ni).div.append(s)}u(this,ns).classList.toggle("hidden",!t)}serialize(t){let i=u(this,Qe);return!t&&u(this,Gs)===i&&(i=u(this,sl)),{altText:i,decorative:u(this,es),guessedText:u(this,Gs),textWithDisclaimer:u(this,sl)}}get data(){return{altText:u(this,Qe),decorative:u(this,es)}}set data({altText:t,decorative:i,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(_(this,Gs,s),_(this,sl,r)),!(u(this,Qe)===t&&u(this,es)===i)&&(l||(_(this,Qe,t),_(this,es,i)),w(this,Gn,Rp).call(this))}toggle(t=!1){u(this,kn)&&(!t&&u(this,$i)&&(clearTimeout(u(this,$i)),_(this,$i,null)),u(this,kn).disabled=!t)}shown(){u(this,Ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Gn,oh)}})}destroy(){var t,i;(t=u(this,kn))==null||t.remove(),_(this,kn,null),_(this,cc,null),_(this,is,null),(i=u(this,ns))==null||i.remove(),_(this,ns,null)}};Qe=new WeakMap,es=new WeakMap,kn=new WeakMap,cc=new WeakMap,is=new WeakMap,$i=new WeakMap,uc=new WeakMap,ns=new WeakMap,Ni=new WeakMap,Gs=new WeakMap,sl=new WeakMap,ss=new WeakMap,Za=new WeakMap,Gn=new WeakSet,oh=function(){return u(this,Qe)&&"added"||u(this,Qe)===null&&this.guessedText&&"review"||"missing"},Rp=async function(){var r,l,c;const t=u(this,kn);if(!t)return;if(u(this,ss)){if(t.classList.toggle("done",!!u(this,Qe)),t.setAttribute("data-l10n-id",u(Ei,Za)[u(this,Gn,oh)]),(r=u(this,cc))==null||r.setAttribute("data-l10n-id",u(Ei,Za)[`${u(this,Gn,oh)}-label`]),!u(this,Qe)){(l=u(this,is))==null||l.remove();return}}else{if(!u(this,Qe)&&!u(this,es)){t.classList.remove("done"),(c=u(this,is))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=u(this,is);if(!i){_(this,is,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${u(this,Ni).id}`;const d=100,f=u(this,Ni)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(u(this,$i)),_(this,$i,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,$i,setTimeout(()=>{_(this,$i,null),u(this,is).classList.add("show"),u(this,Ni)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;u(this,$i)&&(clearTimeout(u(this,$i)),_(this,$i,null)),(g=u(this,is))==null||g.classList.remove("show")},{signal:f})}u(this,es)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=u(this,Qe)),i.parentNode||t.append(i);const s=u(this,Ni).getImageForAltText();s==null||s.setAttribute("aria-describedby",i.id)},C(Ei,Za,null),St(Ei,"_l10n",null);let ig=Ei;var al,Nn,fe,hc,rl,ai,ll,Ja,jh,ol,tr,Gh,cl,qs,as,dc,fc,yn,qh,hg,Lt,Lv,Vh,Dv,Ov,k1,N1,kv,Nv,Pv,P1,Fv,F1,H1,z1,Hv,ch;const Vt=class Vt{constructor(t){C(this,Lt);C(this,al,null);C(this,Nn,null);C(this,fe,null);C(this,hc,!1);C(this,rl,!1);C(this,ai,null);C(this,ll,null);C(this,Ja,null);C(this,jh,"");C(this,ol,!1);C(this,tr,null);C(this,Gh,!1);C(this,cl,!1);C(this,qs,!1);C(this,as,null);C(this,dc,0);C(this,fc,0);C(this,yn,null);St(this,"_editToolbar",null);St(this,"_initialOptions",Object.create(null));St(this,"_initialData",null);St(this,"_isVisible",!0);St(this,"_uiManager",null);St(this,"_focusEventsAllowed",!0);C(this,qh,!1);C(this,hg,Vt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,c];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Vt.prototype._resizeWithKeyboard,i=Kl.TRANSLATE_SMALL,s=Kl.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new Xd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Vt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const i=new v2({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});i.annotationElementId=t.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(t,i){if(Vt._l10n??(Vt._l10n=t),Vt._l10nResizer||(Vt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Vt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Vt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,i){le("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,qh)}set _isDraggable(t){var i;_(this,qh,t),(i=this.div)==null||i.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(t*2),this.y+=this.width*t/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(t*2),this.y-=this.width*t/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,hg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Lt,ch).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,ol)?_(this,ol,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=t.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,i,s,r){const[l,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(i+r)/c,this.fixAndSetPosition()}translate(t,i){w(this,Lt,Lv).call(this,this.parentDimensions,t,i)}translateInPage(t,i){u(this,tr)||_(this,tr,[this.x,this.y]),w(this,Lt,Lv).call(this,this.pageDimensions,t,i),this.div.scrollIntoView({block:"nearest"})}drag(t,i){u(this,tr)||_(this,tr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,tr)&&(u(this,tr)[0]!==this.x||u(this,tr)[1]!==this.y)}getBaseTranslation(){const[t,i]=this.parentDimensions,{_borderLineWidth:s}=Vt,r=s/t,l=s/i;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[i,s]=this.pageDimensions;let{x:r,y:l,width:c,height:d}=this;if(c*=i,d*=s,r*=i,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(i-c,r)),l=Math.max(0,Math.min(s-d,l));break;case 90:r=Math.max(0,Math.min(i-d,r)),l=Math.min(s,Math.max(c,l));break;case 180:r=Math.min(i,Math.max(c,r)),l=Math.min(s,Math.max(d,l));break;case 270:r=Math.min(i,Math.max(d,r)),l=Math.max(0,Math.min(s-c,l));break}this.x=r/=i,this.y=l/=s;const[f,g]=this.getBaseTranslation();r+=f,l+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,i){var s;return w(s=Vt,Vh,Dv).call(s,t,i,this.parentRotation)}pageTranslationToScreen(t,i){var s;return w(s=Vt,Vh,Dv).call(s,t,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[i,s]}=this;return[i*t,s*t]}setDims(t,i){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,u(this,rl)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:i,width:s}=t,r=s.endsWith("%"),l=!u(this,rl)&&i.endsWith("%");if(r&&l)return;const[c,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!u(this,rl)&&!l&&(t.height=`${(100*parseFloat(i)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=u(this,fe))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,cl)?this._editToolbar:(this._editToolbar=new Av(this),this.div.append(this._editToolbar.render()),u(this,fe)&&await this._editToolbar.addAltText(u(this,fe)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,fe))==null||t.destroy())}addContainer(t){var s;const i=(s=this._editToolbar)==null?void 0:s.div;i?i.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,fe)||(ig.initialize(Vt._l10n),_(this,fe,new ig(this)),u(this,al)&&(u(this,fe).data=u(this,al),_(this,al,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,fe))==null?void 0:t.data}set altTextData(t){u(this,fe)&&(u(this,fe).data=t)}get guessedAltText(){var t;return(t=u(this,fe))==null?void 0:t.guessedText}async setGuessedAltText(t){var i;await((i=u(this,fe))==null?void 0:i.setGuessedText(t))}serializeAltText(t){var i;return(i=u(this,fe))==null?void 0:i.serialize(t)}hasAltText(){return!!u(this,fe)&&!u(this,fe).isEmpty()}hasAltTextData(){var t;return((t=u(this,fe))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,hc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Lt,Fv).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),eg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:i}=wi.platform;if(t.button!==0||t.ctrlKey&&i){t.preventDefault();return}if(_(this,ol,!0),this._isDraggable){w(this,Lt,P1).call(this,t);return}w(this,Lt,Pv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,as)&&clearTimeout(u(this,as)),_(this,as,setTimeout(()=>{var t;_(this,as,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,i,s){t.changeParent(this),this.x=i,this.y=s,this.fixAndSetPosition()}getRect(t,i,s=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[d,f]=this.pageTranslation,g=t/r,m=i/r,b=this.x*l,v=this.y*c,S=this.width*l,E=this.height*c;switch(s){case 0:return[b+g+d,c-v-m-E+f,b+g+S+d,c-v-m+f];case 90:return[b+m+d,c-v+g+f,b+m+E+d,c-v+g+S+f];case 180:return[b-g-S+d,c-v+m+f,b-g+d,c-v+m+E+f];case 270:return[b-m-E+d,c-v-g-S+f,b-m+d,c-v-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,i){const[s,r,l,c]=t,d=l-s,f=c-r;switch(this.rotation){case 0:return[s,i-c,d,f];case 90:return[s,i-r,f,d];case 180:return[l,i-r,d,f];case 270:return[l,i-c,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,cl,!0)}disableEditMode(){_(this,cl,!1)}isInEditMode(){return u(this,cl)}shouldGetKeyboardEvents(){return u(this,qs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Lt,Fv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,i=null){le("An editor must be serializable")}static async deserialize(t,i,s){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,al,t.accessibilityData);const[l,c]=r.pageDimensions,[d,f,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=d/l,r.y=f/c,r.width=g/l,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=u(this,Ja))==null||t.abort(),_(this,Ja,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,as)&&(clearTimeout(u(this,as)),_(this,as,null)),w(this,Lt,ch).call(this),this.removeEditToolbar(),u(this,yn)){for(const i of u(this,yn).values())clearTimeout(i);_(this,yn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Lt,k1).call(this),u(this,ai).classList.remove("hidden"),eg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,ll,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=u(this,ai).children;if(!u(this,Nn)){_(this,Nn,Array.from(i));const c=w(this,Lt,F1).bind(this),d=w(this,Lt,H1).bind(this),f=this._uiManager._signal;for(const g of u(this,Nn)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:f}),g.addEventListener("blur",d,{signal:f}),g.addEventListener("focus",w(this,Lt,z1).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",Vt._l10nResizer[m])}}const s=u(this,Nn)[0];let r=0;for(const c of i){if(c===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(u(this,Nn).length/4);if(l!==r){if(l<r)for(let d=0;d<r-l;d++)u(this,ai).append(u(this,ai).firstChild);else if(l>r)for(let d=0;d<l-r;d++)u(this,ai).firstChild.before(u(this,ai).lastChild);let c=0;for(const d of i){const g=u(this,Nn)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Vt._l10nResizer[g])}}w(this,Lt,Hv).call(this,0),_(this,qs,!0),u(this,ai).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,i){u(this,qs)&&w(this,Lt,Nv).call(this,u(this,jh),{movementX:t,movementY:i})}_stopResizingWithKeyboard(){w(this,Lt,ch).call(this),this.div.focus()}select(){var t,i,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(s=u(this,fe))==null||s.toggleAltTextBadge(!1)}unselect(){var t,i,s,r,l;(t=u(this,ai))==null||t.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=u(this,fe))==null||l.toggleAltTextBadge(!0)}updateParams(t,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Gh)}set isEditing(t){_(this,Gh,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,i){_(this,rl,!0);const s=t/i,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,i=!1){if(i){u(this,yn)||_(this,yn,new Map);const{action:s}=t;let r=u(this,yn).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),u(this,yn).delete(s),u(this,yn).size===0&&_(this,yn,null)},Vt._telemetryTimeout),u(this,yn).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,hc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,hc,!0)}renderAnnotationElement(t){let i=t.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),t.container.prepend(i);else if(i.nodeName==="CANVAS"){const s=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),s.before(i)}return i}resetAnnotationElement(t){const{firstChild:i}=t.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};al=new WeakMap,Nn=new WeakMap,fe=new WeakMap,hc=new WeakMap,rl=new WeakMap,ai=new WeakMap,ll=new WeakMap,Ja=new WeakMap,jh=new WeakMap,ol=new WeakMap,tr=new WeakMap,Gh=new WeakMap,cl=new WeakMap,qs=new WeakMap,as=new WeakMap,dc=new WeakMap,fc=new WeakMap,yn=new WeakMap,qh=new WeakMap,hg=new WeakMap,Lt=new WeakSet,Lv=function([t,i],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/i,this.fixAndSetPosition()},Vh=new WeakSet,Dv=function(t,i,s){switch(s){case 90:return[i,-t];case 180:return[-t,-i];case 270:return[-i,t];default:return[t,i]}},Ov=function(t){switch(t){case 90:{const[i,s]=this.pageDimensions;return[0,-i/s,s/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,s]=this.pageDimensions;return[0,i/s,-s/i,0]}default:return[1,0,0,1]}},k1=function(){if(u(this,ai))return;_(this,ai,document.createElement("div")),u(this,ai).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const s of t){const r=document.createElement("div");u(this,ai).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",w(this,Lt,N1).bind(this,s),{signal:i}),r.addEventListener("contextmenu",wn,{signal:i}),r.tabIndex=-1}this.div.prepend(u(this,ai))},N1=function(t,i){var E;i.preventDefault();const{isMac:s}=wi.platform;if(i.button!==0||i.ctrlKey&&s)return;(E=u(this,fe))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Lt,Nv).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",wn,{signal:c});const d=this.x,f=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const S=()=>{var T;l.abort(),this.parent.togglePointerEvents(!0),(T=u(this,fe))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,Lt,kv).call(this,d,f,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},kv=function(t,i,s,r){const l=this.x,c=this.y,d=this.width,f=this.height;l===t&&c===i&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=l,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=i;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},Nv=function(t,i){const[s,r]=this.parentDimensions,l=this.x,c=this.y,d=this.width,f=this.height,g=Vt.MIN_SIZE/s,m=Vt.MIN_SIZE/r,b=V=>Math.round(V*1e4)/1e4,v=w(this,Lt,Ov).call(this,this.rotation),S=(V,Z)=>[v[0]*V+v[2]*Z,v[1]*V+v[3]*Z],E=w(this,Lt,Ov).call(this,360-this.rotation),T=(V,Z)=>[E[0]*V+E[2]*Z,E[1]*V+E[3]*Z];let M,R,D=!1,k=!1;switch(t){case"topLeft":D=!0,M=(V,Z)=>[0,0],R=(V,Z)=>[V,Z];break;case"topMiddle":M=(V,Z)=>[V/2,0],R=(V,Z)=>[V/2,Z];break;case"topRight":D=!0,M=(V,Z)=>[V,0],R=(V,Z)=>[0,Z];break;case"middleRight":k=!0,M=(V,Z)=>[V,Z/2],R=(V,Z)=>[0,Z/2];break;case"bottomRight":D=!0,M=(V,Z)=>[V,Z],R=(V,Z)=>[0,0];break;case"bottomMiddle":M=(V,Z)=>[V/2,Z],R=(V,Z)=>[V/2,0];break;case"bottomLeft":D=!0,M=(V,Z)=>[0,Z],R=(V,Z)=>[V,0];break;case"middleLeft":k=!0,M=(V,Z)=>[0,Z/2],R=(V,Z)=>[V,Z/2];break}const P=M(d,f),z=R(d,f);let q=S(...z);const X=b(l+q[0]),W=b(c+q[1]);let tt=1,st=1,[nt,gt]=this.screenToPageTranslation(i.movementX,i.movementY);if([nt,gt]=T(nt/s,gt/r),D){const V=Math.hypot(d,f);tt=st=Math.max(Math.min(Math.hypot(z[0]-P[0]-nt,z[1]-P[1]-gt)/V,1/d,1/f),g/d,m/f)}else k?tt=Math.max(g,Math.min(1,Math.abs(z[0]-P[0]-nt)))/d:st=Math.max(m,Math.min(1,Math.abs(z[1]-P[1]-gt)))/f;const yt=b(d*tt),ft=b(f*st);q=S(...R(yt,ft));const ht=X-q[0],B=W-q[1];this.width=yt,this.height=ft,this.x=ht,this.y=B,this.setDims(s*yt,r*ft),this.fixAndSetPosition()},Pv=function(t){const{isMac:i}=wi.platform;t.ctrlKey&&!i||t.shiftKey||t.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},P1=function(t){const{isSelected:i}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(i){this.div.classList.add("moving"),_(this,dc,t.clientX),_(this,fc,t.clientY);const c=d=>{const{clientX:f,clientY:g}=d,[m,b]=this.screenToPageTranslation(f-u(this,dc),g-u(this,fc));_(this,dc,f),_(this,fc,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),i&&this.div.classList.remove("moving"),_(this,ol,!1),this._uiManager.endDragSession()||w(this,Lt,Pv).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},Fv=function(){if(u(this,Ja)||!this.div)return;_(this,Ja,new AbortController);const t=this._uiManager.combinedSignal(u(this,Ja));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},F1=function(t){Vt._resizerKeyboardManager.exec(this,t)},H1=function(t){var i;u(this,qs)&&((i=t.relatedTarget)==null?void 0:i.parentNode)!==u(this,ai)&&w(this,Lt,ch).call(this)},z1=function(t){_(this,jh,u(this,qs)?t:"")},Hv=function(t){if(u(this,Nn))for(const i of u(this,Nn))i.tabIndex=t},ch=function(){if(_(this,qs,!1),w(this,Lt,Hv).call(this,-1),u(this,ll)){const{savedX:t,savedY:i,savedWidth:s,savedHeight:r}=u(this,ll);w(this,Lt,kv).call(this,t,i,s,r),_(this,ll,null)}},C(Vt,Vh),St(Vt,"_l10n",null),St(Vt,"_l10nResizer",null),St(Vt,"_borderLineWidth",-1),St(Vt,"_colorManager",new _v),St(Vt,"_zIndex",1),St(Vt,"_telemetryTimeout",1e3);let Wt=Vt;class v2 extends Wt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const m_=3285377520,gn=4294901760,Wn=65535;class U1{constructor(t){this.h1=t?t&4294967295:m_,this.h2=t?t&4294967295:m_}update(t){let i,s;if(typeof t=="string"){i=new Uint8Array(t.length*2),s=0;for(let T=0,M=t.length;T<M;T++){const R=t.charCodeAt(T);R<=255?i[s++]=R:(i[s++]=R>>>8,i[s++]=R&255)}}else if(ArrayBuffer.isView(t))i=t.slice(),s=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,c=new Uint32Array(i.buffer,0,r);let d=0,f=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,S=b&Wn,E=v&Wn;for(let T=0;T<r;T++)T&1?(d=c[T],d=d*b&gn|d*S&Wn,d=d<<15|d>>>17,d=d*v&gn|d*E&Wn,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(f=c[T],f=f*b&gn|f*S&Wn,f=f<<15|f>>>17,f=f*v&gn|f*E&Wn,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=i[r*4+2]<<16;case 2:d^=i[r*4+1]<<8;case 1:d^=i[r*4],d=d*b&gn|d*S&Wn,d=d<<15|d>>>17,d=d*v&gn|d*E&Wn,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,i=this.h2;return t^=i>>>1,t=t*3981806797&gn|t*36045&Wn,i=i*4283543511&gn|((i<<16|t>>>16)*2950163797&gn)>>>16,t^=i>>>1,t=t*444984403&gn|t*60499&Wn,i=i*3301882366&gn|((i<<16|t>>>16)*3120437893&gn)>>>16,t^=i>>>1,(t>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const zv=Object.freeze({map:null,hash:"",transfer:void 0});var ul,hl,Ze,dg,B1;class Yb{constructor(){C(this,dg);C(this,ul,!1);C(this,hl,null);C(this,Ze,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,i){const s=u(this,Ze).get(t);return s===void 0?i:Object.assign(i,s)}getRawValue(t){return u(this,Ze).get(t)}remove(t){if(u(this,Ze).delete(t),u(this,Ze).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of u(this,Ze).values())if(i instanceof Wt)return;this.onAnnotationEditor(null)}}setValue(t,i){const s=u(this,Ze).get(t);let r=!1;if(s!==void 0)for(const[l,c]of Object.entries(i))s[l]!==c&&(r=!0,s[l]=c);else r=!0,u(this,Ze).set(t,i);r&&w(this,dg,B1).call(this),i instanceof Wt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(t){return u(this,Ze).has(t)}getAll(){return u(this,Ze).size>0?Ib(u(this,Ze)):null}setAll(t){for(const[i,s]of Object.entries(t))this.setValue(i,s)}get size(){return u(this,Ze).size}resetModified(){u(this,ul)&&(_(this,ul,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new I1(this)}get serializable(){if(u(this,Ze).size===0)return zv;const t=new Map,i=new U1,s=[],r=Object.create(null);let l=!1;for(const[c,d]of u(this,Ze)){const f=d instanceof Wt?d.serialize(!1,r):d;f&&(t.set(c,f),i.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:i.hexdigest(),transfer:s}:zv}get editorStats(){let t=null;const i=new Map;for(const s of u(this,Ze).values()){if(!(s instanceof Wt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;i.has(l)||i.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let g=c.get(d);g||(g=new Map,c.set(d,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[s,r]of i)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,hl,null)}get modifiedIds(){if(u(this,hl))return u(this,hl);const t=[];for(const i of u(this,Ze).values())!(i instanceof Wt)||!i.annotationElementId||!i.serialize()||t.push(i.annotationElementId);return _(this,hl,{ids:new Set(t),hash:t.join(",")})}}ul=new WeakMap,hl=new WeakMap,Ze=new WeakMap,dg=new WeakSet,B1=function(){u(this,ul)||(_(this,ul,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xh;class I1 extends Yb{constructor(i){super();C(this,Xh);const{map:s,hash:r,transfer:l}=i.serializable,c=structuredClone(s,l?{transfer:l}:null);_(this,Xh,{map:c,hash:r,transfer:l})}get print(){le("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Xh)}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}Xh=new WeakMap;var pc;class b2{constructor({ownerDocument:t=globalThis.document,styleElement:i=null}){C(this,pc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(t,i.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,pc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:i}){if(!(!t||u(this,pc).has(t.loadedName))){if(Ue(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,c=new FontFace(s,r,l);this.addNativeFontFace(c);try{await c.load(),u(this,pc).add(s),i==null||i(t)}catch{Ot(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}le("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ot(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const i=t.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var i;const t=!!((i=this._document)!=null&&i.fonts);return Ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(vi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ut(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function i(){for(Ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:i,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,i){function s(P,z){return P.charCodeAt(z)<<24|P.charCodeAt(z+1)<<16|P.charCodeAt(z+2)<<8|P.charCodeAt(z+3)&255}function r(P,z,q,X){const W=P.substring(0,z),tt=P.substring(z+q);return W+X+tt}let l,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let g=0;function m(P,z){if(++g>30){Ot("Load test font never loaded."),z();return}if(f.font="30px "+P,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(m.bind(null,P,z))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const E=16,T=1482184792;let M=s(v,E);for(l=0,c=b.length-3;l<c;l+=4)M=M-T+s(b,l)|0;l<b.length&&(M=M-T+s(b+"XXX",l)|0),v=r(v,E,4,n2(M));const R=`url(data:font/opentype;base64,${btoa(v)});`,D=`@font-face {font-family:"${b}";src:${R}}`;this.insertRule(D);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const P of[t.loadedName,b]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=P,k.append(z)}this._document.body.append(k),m(b,()=>{k.remove(),i.complete()})}}pc=new WeakMap;class A2{constructor(t,{disableFontFace:i=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=i===!0,this._inspectFont=s}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(i=this._inspectFont)==null||i.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${c2(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),i}getPathGenerator(t,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let s;try{s=t.get(this.loadedName+"_path_"+i)}catch(l){Ot(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[i]=function(l,c){};const r=[];for(let l=0,c=s.length;l<c;)switch(s[l++]){case Ps.BEZIER_CURVE_TO:{const[d,f,g,m,b,v]=s.slice(l,l+6);r.push(S=>S.bezierCurveTo(d,f,g,m,b,v)),l+=6}break;case Ps.MOVE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.moveTo(d,f)),l+=2}break;case Ps.LINE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.lineTo(d,f)),l+=2}break;case Ps.QUADRATIC_CURVE_TO:{const[d,f,g,m]=s.slice(l,l+4);r.push(b=>b.quadraticCurveTo(d,f,g,m)),l+=4}break;case Ps.RESTORE:r.push(d=>d.restore());break;case Ps.SAVE:r.push(d=>d.save());break;case Ps.SCALE:Ue(r.length===2,"Scale command is only valid at the third position.");break;case Ps.TRANSFORM:{const[d,f,g,m,b,v]=s.slice(l,l+6);r.push(S=>S.transform(d,f,g,m,b,v)),l+=6}break;case Ps.TRANSLATE:{const[d,f]=s.slice(l,l+2);r.push(g=>g.translate(d,f)),l+=2}break}return this.compiledGlyphs[i]=function(c,d){r[0](c),r[1](c),c.scale(d,-d);for(let f=2,g=r.length;f<g;f++)r[f](c)}}}var Yh;class j1{constructor({enableHWA:t=!1}){C(this,Yh,!1);_(this,Yh,t)}create(t,i){if(t<=0||i<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,i);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,Yh)})}}reset(t,i,s){if(!t.canvas)throw new Error("Canvas is not specified");if(i<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=i,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,i){le("Abstract method `_createCanvas` called.")}}Yh=new WeakMap;class S2 extends j1{constructor({ownerDocument:t=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=t}_createCanvas(t,i){const s=this._document.createElement("canvas");return s.width=t,s.height=i,s}}class G1{constructor({baseUrl:t=null,isCompressed:i=!0}){this.baseUrl=t,this.isCompressed=i}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const i=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(i).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(t){le("Abstract method `_fetch` called.")}}class q1 extends G1{async _fetch(t){const i=await Lg(t,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):Mg(i)}}class V1{addFilter(t){return"none"}addHCMFilter(t,i){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,i,s,r,l){return"none"}destroy(t=!1){}}var dl,fl,rs,Vs,pi,fg,pl,lt,di,jo,Go,Mp,qo,X1,Uv,Vo,uh,hh,Bv,dh;class E2 extends V1{constructor({docId:i,ownerDocument:s=globalThis.document}){super();C(this,lt);C(this,dl);C(this,fl);C(this,rs);C(this,Vs);C(this,pi);C(this,fg);C(this,pl,0);_(this,Vs,i),_(this,pi,s)}addFilter(i){if(!i)return"none";let s=u(this,lt,di).get(i);if(s)return s;const[r,l,c]=w(this,lt,Mp).call(this,i),d=i.length===1?r:`${r}${l}${c}`;if(s=u(this,lt,di).get(d),s)return u(this,lt,di).set(i,s),s;const f=`g_${u(this,Vs)}_transfer_map_${Ai(this,pl)._++}`,g=w(this,lt,qo).call(this,f);u(this,lt,di).set(i,g),u(this,lt,di).set(d,g);const m=w(this,lt,Vo).call(this,f);return w(this,lt,hh).call(this,r,l,c,m),g}addHCMFilter(i,s){var E;const r=`${i}-${s}`,l="base";let c=u(this,lt,jo).get(l);if((c==null?void 0:c.key)===r||(c?((E=c.filter)==null||E.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},u(this,lt,jo).set(l,c)),!i||!s))return c.url;const d=w(this,lt,dh).call(this,i);i=dt.makeHexColor(...d);const f=w(this,lt,dh).call(this,s);if(s=dt.makeHexColor(...f),u(this,lt,Go).style.color="",i==="#000000"&&s==="#ffffff"||i===s)return c.url;const g=new Array(256);for(let T=0;T<=255;T++){const M=T/255;g[T]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),b=`g_${u(this,Vs)}_hcm_filter`,v=c.filter=w(this,lt,Vo).call(this,b);w(this,lt,hh).call(this,m,m,m,v),w(this,lt,Uv).call(this,v);const S=(T,M)=>{const R=d[T]/255,D=f[T]/255,k=new Array(M+1);for(let P=0;P<=M;P++)k[P]=R+P/M*(D-R);return k.join(",")};return w(this,lt,hh).call(this,S(0,5),S(1,5),S(2,5),v),c.url=w(this,lt,qo).call(this,b),c.url}addAlphaFilter(i){let s=u(this,lt,di).get(i);if(s)return s;const[r]=w(this,lt,Mp).call(this,[i]),l=`alpha_${r}`;if(s=u(this,lt,di).get(l),s)return u(this,lt,di).set(i,s),s;const c=`g_${u(this,Vs)}_alpha_map_${Ai(this,pl)._++}`,d=w(this,lt,qo).call(this,c);u(this,lt,di).set(i,d),u(this,lt,di).set(l,d);const f=w(this,lt,Vo).call(this,c);return w(this,lt,Bv).call(this,r,f),d}addLuminosityFilter(i){let s=u(this,lt,di).get(i||"luminosity");if(s)return s;let r,l;if(i?([r]=w(this,lt,Mp).call(this,[i]),l=`luminosity_${r}`):l="luminosity",s=u(this,lt,di).get(l),s)return u(this,lt,di).set(i,s),s;const c=`g_${u(this,Vs)}_luminosity_map_${Ai(this,pl)._++}`,d=w(this,lt,qo).call(this,c);u(this,lt,di).set(i,d),u(this,lt,di).set(l,d);const f=w(this,lt,Vo).call(this,c);return w(this,lt,X1).call(this,f),i&&w(this,lt,Bv).call(this,r,f),d}addHighlightHCMFilter(i,s,r,l,c){var D;const d=`${s}-${r}-${l}-${c}`;let f=u(this,lt,jo).get(i);if((f==null?void 0:f.key)===d||(f?((D=f.filter)==null||D.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},u(this,lt,jo).set(i,f)),!s||!r))return f.url;const[g,m]=[s,r].map(w(this,lt,dh).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,E]=[l,c].map(w(this,lt,dh).bind(this));v<b&&([b,v,S,E]=[v,b,E,S]),u(this,lt,Go).style.color="";const T=(k,P,z)=>{const q=new Array(256),X=(v-b)/z,W=k/255,tt=(P-k)/(255*z);let st=0;for(let nt=0;nt<=z;nt++){const gt=Math.round(b+nt*X),yt=W+nt*tt;for(let ft=st;ft<=gt;ft++)q[ft]=yt;st=gt+1}for(let nt=st;nt<256;nt++)q[nt]=q[st-1];return q.join(",")},M=`g_${u(this,Vs)}_hcm_${i}_filter`,R=f.filter=w(this,lt,Vo).call(this,M);return w(this,lt,Uv).call(this,R),w(this,lt,hh).call(this,T(S[0],E[0],5),T(S[1],E[1],5),T(S[2],E[2],5),R),f.url=w(this,lt,qo).call(this,M),f.url}destroy(i=!1){i&&u(this,lt,jo).size!==0||(u(this,rs)&&(u(this,rs).parentNode.parentNode.remove(),_(this,rs,null)),u(this,fl)&&(u(this,fl).clear(),_(this,fl,null)),_(this,pl,0))}}dl=new WeakMap,fl=new WeakMap,rs=new WeakMap,Vs=new WeakMap,pi=new WeakMap,fg=new WeakMap,pl=new WeakMap,lt=new WeakSet,di=function(){return u(this,fl)||_(this,fl,new Map)},jo=function(){return u(this,fg)||_(this,fg,new Map)},Go=function(){if(!u(this,rs)){const i=u(this,pi).createElement("div"),{style:s}=i;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=u(this,pi).createElementNS(Hs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,rs,u(this,pi).createElementNS(Hs,"defs")),i.append(r),r.append(u(this,rs)),u(this,pi).body.append(i)}return u(this,rs)},Mp=function(i){if(i.length===1){const g=i[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[s,r,l]=i,c=new Array(256),d=new Array(256),f=new Array(256);for(let g=0;g<256;g++)c[g]=s[g]/255,d[g]=r[g]/255,f[g]=l[g]/255;return[c.join(","),d.join(","),f.join(",")]},qo=function(i){if(u(this,dl)===void 0){_(this,dl,"");const s=u(this,pi).URL;s!==u(this,pi).baseURI&&(Dg(s)?Ot('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,dl,s.split("#",1)[0]))}return`url(${u(this,dl)}#${i})`},X1=function(i){const s=u(this,pi).createElementNS(Hs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(s)},Uv=function(i){const s=u(this,pi).createElementNS(Hs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(s)},Vo=function(i){const s=u(this,pi).createElementNS(Hs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",i),u(this,lt,Go).append(s),s},uh=function(i,s,r){const l=u(this,pi).createElementNS(Hs,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),i.append(l)},hh=function(i,s,r,l){const c=u(this,pi).createElementNS(Hs,"feComponentTransfer");l.append(c),w(this,lt,uh).call(this,c,"feFuncR",i),w(this,lt,uh).call(this,c,"feFuncG",s),w(this,lt,uh).call(this,c,"feFuncB",r)},Bv=function(i,s){const r=u(this,pi).createElementNS(Hs,"feComponentTransfer");s.append(r),w(this,lt,uh).call(this,r,"feFuncA",i)},dh=function(i){return u(this,lt,Go).style.color=i,Xb(getComputedStyle(u(this,lt,Go)).getPropertyValue("color"))};class Y1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${t}`;return this._fetch(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(t){le("Abstract method `_fetch` called.")}}class K1 extends Y1{async _fetch(t){const i=await Lg(t,"arraybuffer");return new Uint8Array(i)}}if(vi){var Iv=Promise.withResolvers(),_h=null;(async()=>{const t=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:i,https:s,url:r,canvas:l,path2d:c}))})().then(t=>{_h=t,Iv.resolve()},t=>{Ot(`loadPackages: ${t}`),_h=new Map,Iv.resolve()})}class vr{static get promise(){return Iv.promise}static get(t){return _h==null?void 0:_h.get(t)}}async function $1(h){const i=await vr.get("fs").promises.readFile(h);return new Uint8Array(i)}class _2 extends V1{}class w2 extends j1{_createCanvas(t,i){return vr.get("canvas").createCanvas(t,i)}}class x2 extends G1{async _fetch(t){return $1(t)}}class T2 extends Y1{async _fetch(t){return $1(t)}}const _i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function jv(h,t){if(!t)return;const i=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],i,s),h.clip(r)}class Kb{getPattern(){le("Abstract method `getPattern` called.")}}class C2 extends Kb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let i;this._type==="axial"?i=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)i.addColorStop(s[0],s[1]);return i}getPattern(t,i,s,r){let l;if(r===_i.STROKE||r===_i.FILL){const c=i.current.getClippedPathBoundingBox(r,ge(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,g=i.cachedCanvases.getCanvas("pattern",d,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=dt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...i.baseTransform),this.matrix&&m.transform(...this.matrix),jv(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(s);l.setTransform(b)}else jv(t,this._bbox),l=this._createGradient(t);return l}}function cv(h,t,i,s,r,l,c,d){const f=t.coords,g=t.colors,m=h.data,b=h.width*4;let v;f[i+1]>f[s+1]&&(v=i,i=s,s=v,v=l,l=c,c=v),f[s+1]>f[r+1]&&(v=s,s=r,r=v,v=c,c=d,d=v),f[i+1]>f[s+1]&&(v=i,i=s,s=v,v=l,l=c,c=v);const S=(f[i]+t.offsetX)*t.scaleX,E=(f[i+1]+t.offsetY)*t.scaleY,T=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,R=(f[r]+t.offsetX)*t.scaleX,D=(f[r+1]+t.offsetY)*t.scaleY;if(E>=D)return;const k=g[l],P=g[l+1],z=g[l+2],q=g[c],X=g[c+1],W=g[c+2],tt=g[d],st=g[d+1],nt=g[d+2],gt=Math.round(E),yt=Math.round(D);let ft,ht,B,V,Z,_t,O,K;for(let et=gt;et<=yt;et++){if(et<M){const xt=et<E?0:(E-et)/(E-M);ft=S-(S-T)*xt,ht=k-(k-q)*xt,B=P-(P-X)*xt,V=z-(z-W)*xt}else{let xt;et>D?xt=1:M===D?xt=0:xt=(M-et)/(M-D),ft=T-(T-R)*xt,ht=q-(q-tt)*xt,B=X-(X-st)*xt,V=W-(W-nt)*xt}let J;et<E?J=0:et>D?J=1:J=(E-et)/(E-D),Z=S-(S-R)*J,_t=k-(k-tt)*J,O=P-(P-st)*J,K=z-(z-nt)*J;const ot=Math.round(Math.min(ft,Z)),wt=Math.round(Math.max(ft,Z));let ct=b*et+ot*4;for(let xt=ot;xt<=wt;xt++)J=(ft-xt)/(ft-Z),J<0?J=0:J>1&&(J=1),m[ct++]=ht-(ht-_t)*J|0,m[ct++]=B-(B-O)*J|0,m[ct++]=V-(V-K)*J|0,m[ct++]=255}}function R2(h,t,i){const s=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,g=d-1;for(l=0;l<f;l++){let m=l*d;for(let b=0;b<g;b++,m++)cv(h,i,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),cv(h,i,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)cv(h,i,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class M2 extends Kb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,i,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/b,E=m/v,T={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/S,scaleY:1/E},M=b+2*2,R=v+2*2,D=s.getCanvas("mesh",M,R),k=D.context,P=k.createImageData(b,v);if(i){const q=P.data;for(let X=0,W=q.length;X<W;X+=4)q[X]=i[0],q[X+1]=i[1],q[X+2]=i[2],q[X+3]=255}for(const q of this._figures)R2(P,q,T);return k.putImageData(P,2,2),{canvas:D.canvas,offsetX:d-2*S,offsetY:f-2*E,scaleX:S,scaleY:E}}getPattern(t,i,s,r){jv(t,this._bbox);let l;if(r===_i.SHADING)l=dt.singularValueDecompose2dScale(ge(t));else if(l=dt.singularValueDecompose2dScale(i.baseTransform),this.matrix){const d=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*d[0],l[1]*d[1]]}const c=this._createMeshCanvas(l,r===_i.SHADING?null:this._background,i.cachedCanvases);return r!==_i.SHADING&&(t.setTransform(...i.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class L2 extends Kb{getPattern(){return"hotpink"}}function D2(h){switch(h[0]){case"RadialAxial":return new C2(h);case"Mesh":return new M2(h);case"Dummy":return new L2}throw new Error(`Unknown IR type: ${h[0]}`)}const y_={COLORED:1,UNCOLORED:2},pg=class pg{constructor(t,i,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:i,operatorList:s,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Cg("TilingType: "+l);const m=i[0],b=i[1],v=i[2],S=i[3],E=v-m,T=S-b,M=dt.singularValueDecompose2dScale(this.matrix),R=dt.singularValueDecompose2dScale(this.baseTransform),D=M[0]*R[0],k=M[1]*R[1];let P=E,z=T,q=!1,X=!1;const W=Math.ceil(f*D),tt=Math.ceil(g*k),st=Math.ceil(E*D),nt=Math.ceil(T*k);W>=st?P=f:q=!0,tt>=nt?z=g:X=!0;const gt=this.getSizeAndScale(P,this.ctx.canvas.width,D),yt=this.getSizeAndScale(z,this.ctx.canvas.height,k),ft=t.cachedCanvases.getCanvas("pattern",gt.size,yt.size),ht=ft.context,B=d.createCanvasGraphics(ht);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),ht.translate(-gt.scale*m,-yt.scale*b),B.transform(gt.scale,0,0,yt.scale,0,0),ht.save(),this.clipBbox(B,m,b,v,S),B.baseTransform=ge(B.ctx),B.executeOperatorList(s),B.endDrawing(),ht.restore(),q||X){const V=ft.canvas;q&&(P=f),X&&(z=g);const Z=this.getSizeAndScale(P,this.ctx.canvas.width,D),_t=this.getSizeAndScale(z,this.ctx.canvas.height,k),O=Z.size,K=_t.size,et=t.cachedCanvases.getCanvas("pattern-workaround",O,K),J=et.context,ot=q?Math.floor(E/f):0,wt=X?Math.floor(T/g):0;for(let ct=0;ct<=ot;ct++)for(let xt=0;xt<=wt;xt++)J.drawImage(V,O*ct,K*xt,O,K,0,0,O,K);return{canvas:et.canvas,scaleX:Z.scale,scaleY:_t.scale,offsetX:m,offsetY:b}}return{canvas:ft.canvas,scaleX:gt.scale,scaleY:yt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,i,s){const r=Math.max(pg.MAX_PATTERN_SIZE,i);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,i,s,r,l){const c=r-i,d=l-s;t.ctx.rect(i,s,c,d),t.current.updateRectMinMax(ge(t.ctx),[i,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,s){const r=t.ctx,l=t.current;switch(i){case y_.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case y_.UNCOLORED:const d=dt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,l.fillColor=d,l.strokeColor=d;break;default:throw new i2(`Unsupported paint type: ${i}`)}}getPattern(t,i,s,r){let l=s;r!==_i.SHADING&&(l=dt.transform(l,i.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(d),f}};St(pg,"MAX_PATTERN_SIZE",3e3);let Gv=pg;function O2({src:h,srcPos:t=0,dest:i,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const d=wi.isLittleEndian?4278190080:255,[f,g]=c?[l,d]:[d,l],m=s>>3,b=s&7,v=h.length;i=new Uint32Array(i.buffer);let S=0;for(let E=0;E<r;E++){for(const M=t+m;t<M;t++){const R=t<v?h[t]:255;i[S++]=R&128?g:f,i[S++]=R&64?g:f,i[S++]=R&32?g:f,i[S++]=R&16?g:f,i[S++]=R&8?g:f,i[S++]=R&4?g:f,i[S++]=R&2?g:f,i[S++]=R&1?g:f}if(b===0)continue;const T=t<v?h[t++]:255;for(let M=0;M<b;M++)i[S++]=T&1<<7-M?g:f}return{srcPos:t,destPos:S}}const v_=16,b_=100,k2=15,A_=10,S_=1e3,Hi=16;function N2(h,t){if(h._removeMirroring)throw new Error("Context is already forwarding operations.");h.__originalSave=h.save,h.__originalRestore=h.restore,h.__originalRotate=h.rotate,h.__originalScale=h.scale,h.__originalTranslate=h.translate,h.__originalTransform=h.transform,h.__originalSetTransform=h.setTransform,h.__originalResetTransform=h.resetTransform,h.__originalClip=h.clip,h.__originalMoveTo=h.moveTo,h.__originalLineTo=h.lineTo,h.__originalBezierCurveTo=h.bezierCurveTo,h.__originalRect=h.rect,h.__originalClosePath=h.closePath,h.__originalBeginPath=h.beginPath,h._removeMirroring=()=>{h.save=h.__originalSave,h.restore=h.__originalRestore,h.rotate=h.__originalRotate,h.scale=h.__originalScale,h.translate=h.__originalTranslate,h.transform=h.__originalTransform,h.setTransform=h.__originalSetTransform,h.resetTransform=h.__originalResetTransform,h.clip=h.__originalClip,h.moveTo=h.__originalMoveTo,h.lineTo=h.__originalLineTo,h.bezierCurveTo=h.__originalBezierCurveTo,h.rect=h.__originalRect,h.closePath=h.__originalClosePath,h.beginPath=h.__originalBeginPath,delete h._removeMirroring},h.save=function(){t.save(),this.__originalSave()},h.restore=function(){t.restore(),this.__originalRestore()},h.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},h.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},h.transform=function(s,r,l,c,d,f){t.transform(s,r,l,c,d,f),this.__originalTransform(s,r,l,c,d,f)},h.setTransform=function(s,r,l,c,d,f){t.setTransform(s,r,l,c,d,f),this.__originalSetTransform(s,r,l,c,d,f)},h.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},h.rotate=function(s){t.rotate(s),this.__originalRotate(s)},h.clip=function(s){t.clip(s),this.__originalClip(s)},h.moveTo=function(i,s){t.moveTo(i,s),this.__originalMoveTo(i,s)},h.lineTo=function(i,s){t.lineTo(i,s),this.__originalLineTo(i,s)},h.bezierCurveTo=function(i,s,r,l,c,d){t.bezierCurveTo(i,s,r,l,c,d),this.__originalBezierCurveTo(i,s,r,l,c,d)},h.rect=function(i,s,r,l){t.rect(i,s,r,l),this.__originalRect(i,s,r,l)},h.closePath=function(){t.closePath(),this.__originalClosePath()},h.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class P2{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,i,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,i,s)):(r=this.canvasFactory.create(i,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const i=this.cache[t];this.canvasFactory.destroy(i),delete this.cache[t]}}}function pp(h,t,i,s,r,l,c,d,f,g){const[m,b,v,S,E,T]=ge(h);if(b===0&&v===0){const D=c*m+E,k=Math.round(D),P=d*S+T,z=Math.round(P),q=(c+f)*m+E,X=Math.abs(Math.round(q)-k)||1,W=(d+g)*S+T,tt=Math.abs(Math.round(W)-z)||1;return h.setTransform(Math.sign(m),0,0,Math.sign(S),k,z),h.drawImage(t,i,s,r,l,0,0,X,tt),h.setTransform(m,b,v,S,E,T),[X,tt]}if(m===0&&S===0){const D=d*v+E,k=Math.round(D),P=c*b+T,z=Math.round(P),q=(d+g)*v+E,X=Math.abs(Math.round(q)-k)||1,W=(c+f)*b+T,tt=Math.abs(Math.round(W)-z)||1;return h.setTransform(0,Math.sign(b),Math.sign(v),0,k,z),h.drawImage(t,i,s,r,l,0,0,tt,X),h.setTransform(m,b,v,S,E,T),[tt,X]}h.drawImage(t,i,s,r,l,c,d,f,g);const M=Math.hypot(m,b),R=Math.hypot(v,S);return[M*f,R*g]}function F2(h){const{width:t,height:i}=h;if(t>S_||i>S_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(i+1)),d,f,g;const m=t+7&-8;let b=new Uint8Array(m*i),v=0;for(const R of h.data){let D=128;for(;D>0;)b[v++]=R&D?0:255,D>>=1}let S=0;for(v=0,b[v]!==0&&(c[0]=1,++S),f=1;f<t;f++)b[v]!==b[v+1]&&(c[f]=b[v]?2:1,++S),v++;for(b[v]!==0&&(c[f]=2,++S),d=1;d<i;d++){v=d*m,g=d*l,b[v-m]!==b[v]&&(c[g]=b[v]?1:8,++S);let R=(b[v]?4:0)+(b[v-m]?8:0);for(f=1;f<t;f++)R=(R>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),r[R]&&(c[g+f]=r[R],++S),v++;if(b[v-m]!==b[v]&&(c[g+f]=b[v]?2:4,++S),S>s)return null}for(v=m*(i-1),g=d*l,b[v]!==0&&(c[g]=8,++S),f=1;f<t;f++)b[v]!==b[v+1]&&(c[g+f]=b[v]?4:8,++S),v++;if(b[v]!==0&&(c[g+f]=4,++S),S>s)return null;const E=new Int32Array([0,l,-1,0,-l,0,0,0,1]),T=new Path2D;for(d=0;S&&d<=i;d++){let R=d*l;const D=R+t;for(;R<D&&!c[R];)R++;if(R===D)continue;T.moveTo(R%l,d);const k=R;let P=c[R];do{const z=E[P];do R+=z;while(!c[R]);const q=c[R];q!==5&&q!==10?(P=q,c[R]=0):(P=q&51*P>>4,c[R]&=P>>2|P<<2),T.lineTo(R%l,R/l|0),c[R]||--S}while(k!==R);--d}return b=null,c=null,function(R){R.save(),R.scale(1/t,-1/i),R.translate(0,-i),R.fill(T),R.beginPath(),R.restore()}}class E_{constructor(t,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d1,this.textMatrixScale=1,this.fontMatrix=gv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,i])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,i){this.x=t,this.y=i}updatePathMinMax(t,i,s){[i,s]=dt.applyTransform([i,s],t),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,i){const s=dt.applyTransform(i,t),r=dt.applyTransform(i.slice(2),t),l=dt.applyTransform([i[0],i[3]],t),c=dt.applyTransform([i[2],i[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,i){dt.scaleMinMax(t,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(t,i,s,r,l,c,d,f,g,m){const b=dt.bezierBoundingBox(i,s,r,l,c,d,f,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=_i.FILL,i=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===_i.STROKE){i||le("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(i),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=c,s[2]+=l,s[3]+=c}return s}updateClipFromPath(){const t=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=_i.FILL,i=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(t,i))}}function __(h,t){if(typeof ImageData<"u"&&t instanceof ImageData){h.putImageData(t,0,0);return}const i=t.height,s=t.width,r=i%Hi,l=(i-r)/Hi,c=r===0?l:l+1,d=h.createImageData(s,Hi);let f=0,g;const m=t.data,b=d.data;let v,S,E,T;if(t.kind===Ep.GRAYSCALE_1BPP){const M=m.byteLength,R=new Uint32Array(b.buffer,0,b.byteLength>>2),D=R.length,k=s+7>>3,P=4294967295,z=wi.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(E=v<l?Hi:r,g=0,S=0;S<E;S++){const q=M-f;let X=0;const W=q>k?s:q*8-7,tt=W&-8;let st=0,nt=0;for(;X<tt;X+=8)nt=m[f++],R[g++]=nt&128?P:z,R[g++]=nt&64?P:z,R[g++]=nt&32?P:z,R[g++]=nt&16?P:z,R[g++]=nt&8?P:z,R[g++]=nt&4?P:z,R[g++]=nt&2?P:z,R[g++]=nt&1?P:z;for(;X<W;X++)st===0&&(nt=m[f++],st=128),R[g++]=nt&st?P:z,st>>=1}for(;g<D;)R[g++]=0;h.putImageData(d,0,v*Hi)}}else if(t.kind===Ep.RGBA_32BPP){for(S=0,T=s*Hi*4,v=0;v<l;v++)b.set(m.subarray(f,f+T)),f+=T,h.putImageData(d,0,S),S+=Hi;v<c&&(T=s*r*4,b.set(m.subarray(f,f+T)),h.putImageData(d,0,S))}else if(t.kind===Ep.RGB_24BPP)for(E=Hi,T=s*E,v=0;v<c;v++){for(v>=l&&(E=r,T=s*E),g=0,S=T;S--;)b[g++]=m[f++],b[g++]=m[f++],b[g++]=m[f++],b[g++]=255;h.putImageData(d,0,v*Hi)}else throw new Error(`bad image kind: ${t.kind}`)}function w_(h,t){if(t.bitmap){h.drawImage(t.bitmap,0,0);return}const i=t.height,s=t.width,r=i%Hi,l=(i-r)/Hi,c=r===0?l:l+1,d=h.createImageData(s,Hi);let f=0;const g=t.data,m=d.data;for(let b=0;b<c;b++){const v=b<l?Hi:r;({srcPos:f}=O2({src:g,srcPos:f,dest:m,width:s,height:v,nonBlackColor:0})),h.putImageData(d,0,b*Hi)}}function sh(h,t){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of i)h[s]!==void 0&&(t[s]=h[s]);h.setLineDash!==void 0&&(t.setLineDash(h.getLineDash()),t.lineDashOffset=h.lineDashOffset)}function gp(h){if(h.strokeStyle=h.fillStyle="#000000",h.fillRule="nonzero",h.globalAlpha=1,h.lineWidth=1,h.lineCap="butt",h.lineJoin="miter",h.miterLimit=10,h.globalCompositeOperation="source-over",h.font="10px sans-serif",h.setLineDash!==void 0&&(h.setLineDash([]),h.lineDashOffset=0),!vi){const{filter:t}=h;t!=="none"&&t!==""&&(h.filter="none")}}function x_(h,t){if(t)return!0;const i=dt.singularValueDecompose2dScale(h);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*yr.PDF_TO_CSS_UNITS);return i[0]<=s&&i[1]<=s}const H2=["butt","round","square"],z2=["miter","round","bevel"],U2={},T_={};var Ar,qv,Vv;const i0=class i0{constructor(t,i,s,r,l,{optionalContentConfig:c,markedContentStack:d=null},f,g){C(this,Ar);this.ctx=t,this.current=new E_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new P2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,i=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):i}beginDrawing({transform:t,viewport:i,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ge(this.compositeCtx))}this.ctx.save(),gp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=ge(this.ctx)}executeOperatorList(t,i,s,r){const l=t.argsArray,c=t.fnArray;let d=i||0;const f=l.length;if(f===d)return d;const g=f-d>A_&&typeof s=="function",m=g?Date.now()+k2:0;let b=0;const v=this.commonObjs,S=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(E=c[d],E!==Mn.dependency)this[E].apply(this,l[d]);else for(const T of l[d]){const M=T.startsWith("g_")?v:S;if(!M.has(T))return M.get(T,s),d}if(d++,d===f)return d;if(g&&++b>A_){if(Date.now()>m)return s(),d;b=0}}}endDrawing(){w(this,Ar,qv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const i of t.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Ar,Vv).call(this)}_scaleImage(t,i){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),d=s,f=r,g="prescale1",m,b;for(;l>2&&d>1||c>2&&f>1;){let v=d,S=f;l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/v),c>2&&f>1&&(S=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/S),m=this.cachedCanvases.getCanvas(g,v,S),b=m.context,b.clearRect(0,0,v,S),b.drawImage(t,0,0,d,f,0,0,v,S),t=m.canvas,d=v,f=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const i=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,d=ge(i);let f,g,m,b;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;g=JSON.stringify(c?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const tt=f.get(g);if(tt&&!c){const st=Math.round(Math.min(d[0],d[2])+d[4]),nt=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:tt,offsetX:st,offsetY:nt}}m=tt}m||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),w_(b.context,t));let v=dt.transform(d,[1/s,0,0,-1/r,0,0]);v=dt.transform(v,[1,0,0,1,0,-r]);const[S,E,T,M]=dt.getAxialAlignedBoundingBox([0,0,s,r],v),R=Math.round(T-S)||1,D=Math.round(M-E)||1,k=this.cachedCanvases.getCanvas("fillCanvas",R,D),P=k.context,z=S,q=E;P.translate(-z,-q),P.transform(...v),m||(m=this._scaleImage(b.canvas,Fs(P)),m=m.img,f&&c&&f.set(g,m)),P.imageSmoothingEnabled=x_(ge(P),t.interpolate),pp(P,m,0,0,m.width,m.height,0,0,s,r),P.globalCompositeOperation="source-in";const X=dt.transform(Fs(P),[1,0,0,1,-z,-q]);return P.fillStyle=c?l.getPattern(i,this,X,_i.FILL):l,P.fillRect(0,0,s,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,k.canvas)),{canvas:k.canvas,offsetX:Math.round(z),offsetY:Math.round(q)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=H2[t]}setLineJoin(t){this.ctx.lineJoin=z2[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,i){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=i)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,s]of t)switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ge(this.suspendedCtx)),sh(this.suspendedCtx,l),N2(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),sh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,i,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,i,s,r){const l=r[0],c=r[1],d=r[2]-l,f=r[3]-c;d===0||f===0||(this.genericComposeSMask(i.context,s,d,f,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,i,s,r,l,c,d,f,g,m,b){let v=t.canvas,S=f-m,E=g-b;if(c){const M=dt.makeHexColor(...c);if(S<0||E<0||S+s>v.width||E+r>v.height){const R=this.cachedCanvases.getCanvas("maskExtension",s,r),D=R.context;D.drawImage(v,-S,-E),D.globalCompositeOperation="destination-atop",D.fillStyle=M,D.fillRect(0,0,s,r),D.globalCompositeOperation="source-over",v=R.canvas,S=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(S,E,s,r),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(S,E,s,r),t.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?i.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(d));const T=new Path2D;T.rect(f,g,s,r),i.clip(T),i.globalCompositeOperation="destination-in",i.drawImage(v,S,E,s,r,f,g,s,r),i.restore()}save(){this.inSMaskMode?(sh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),sh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,i,s,r,l,c){this.ctx.transform(t,i,s,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,i,s){const r=this.ctx,l=this.current;let c=l.x,d=l.y,f,g;const m=ge(r),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?s.slice(0):null;for(let S=0,E=0,T=t.length;S<T;S++)switch(t[S]|0){case Mn.rectangle:c=i[E++],d=i[E++];const M=i[E++],R=i[E++],D=c+M,k=d+R;r.moveTo(c,d),M===0||R===0?r.lineTo(D,k):(r.lineTo(D,d),r.lineTo(D,k),r.lineTo(c,k)),b||l.updateRectMinMax(m,[c,d,D,k]),r.closePath();break;case Mn.moveTo:c=i[E++],d=i[E++],r.moveTo(c,d),b||l.updatePathMinMax(m,c,d);break;case Mn.lineTo:c=i[E++],d=i[E++],r.lineTo(c,d),b||l.updatePathMinMax(m,c,d);break;case Mn.curveTo:f=c,g=d,c=i[E+4],d=i[E+5],r.bezierCurveTo(i[E],i[E+1],i[E+2],i[E+3],c,d),l.updateCurvePathMinMax(m,f,g,i[E],i[E+1],i[E+2],i[E+3],c,d,v),E+=6;break;case Mn.curveTo2:f=c,g=d,r.bezierCurveTo(c,d,i[E],i[E+1],i[E+2],i[E+3]),l.updateCurvePathMinMax(m,f,g,c,d,i[E],i[E+1],i[E+2],i[E+3],v),c=i[E+2],d=i[E+3],E+=4;break;case Mn.curveTo3:f=c,g=d,c=i[E+2],d=i[E+3],r.bezierCurveTo(i[E],i[E+1],c,d,c,d),l.updateCurvePathMinMax(m,f,g,i[E],i[E+1],c,d,c,d,v),E+=4;break;case Mn.closePath:r.closePath();break}b&&l.updateScalingPathMinMax(m,v),l.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const i=this.ctx,s=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(i.save(),i.strokeStyle=s.getPattern(i,this,Fs(i),_i.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(i.save(),i.fillStyle=s.getPattern(i,this,Fs(i),_i.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),l&&i.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=U2}eoClip(){this.pendingClip=T_}beginText(){this.current.textMatrix=d1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,i=this.ctx;if(t===void 0){i.beginPath();return}i.save(),i.beginPath();for(const s of t)i.setTransform(...s.transform),i.translate(s.x,s.y),s.addToPath(i,s.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,i){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||gv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ot("Invalid font matrix for font "+t),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${l}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let g=i;i<v_?g=v_:i>b_&&(g=b_),this.current.fontSizeScale=i/g,this.ctx.font=`${f} ${d} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,i){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}setTextMatrix(t,i,s,r,l,c){this.current.textMatrix=[t,i,s,r,l,c],this.current.textMatrixScale=Math.hypot(t,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,i,s,r){const l=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=f&hi.FILL_STROKE_MASK,b=!!(f&hi.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile;let S;(d.disableFontFace||b||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(l.save(),l.translate(i,s),l.beginPath(),S(l,g),r&&l.setTransform(...r),(m===hi.FILL||m===hi.FILL_STROKE)&&l.fill(),(m===hi.STROKE||m===hi.FILL_STROKE)&&l.stroke(),l.restore()):((m===hi.FILL||m===hi.FILL_STROKE)&&l.fillText(t,i,s),(m===hi.STROKE||m===hi.FILL_STROKE)&&l.strokeText(t,i,s)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ge(l),x:i,y:s,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const i=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){s=!0;break}return Ut(this,"isFontSubpixelAAEnabled",s)}showText(t){const i=this.current,s=i.font;if(s.isType3Font)return this.showType3Text(t);const r=i.fontSize;if(r===0)return;const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,g=i.fontDirection,m=i.textHScale*g,b=t.length,v=s.vertical,S=v?1:-1,E=s.defaultVMetrics,T=r*i.fontMatrix[0],M=i.textRenderingMode===hi.FILL&&!s.disableFontFace&&!i.patternFill;l.save(),l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),g>0?l.scale(m,-1):l.scale(m,1);let R;if(i.patternFill){l.save();const q=i.fillColor.getPattern(l,this,Fs(l),_i.FILL);R=ge(l),l.restore(),l.fillStyle=q}let D=i.lineWidth;const k=i.textMatrixScale;if(k===0||D===0){const q=i.textRenderingMode&hi.FILL_STROKE_MASK;(q===hi.STROKE||q===hi.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=k;if(c!==1&&(l.scale(c,c),D/=c),l.lineWidth=D,s.isInvalidPDFjsFont){const q=[];let X=0;for(const W of t)q.push(W.unicode),X+=W.width;l.fillText(q.join(""),0,0),i.x+=X*T*m,l.restore(),this.compose();return}let P=0,z;for(z=0;z<b;++z){const q=t[z];if(typeof q=="number"){P+=S*q*r/1e3;continue}let X=!1;const W=(q.isSpace?f:0)+d,tt=q.fontChar,st=q.accent;let nt,gt,yt=q.width;if(v){const ht=q.vmetric||E,B=-(q.vmetric?ht[1]:yt*.5)*T,V=ht[2]*T;yt=ht?-ht[0]:yt,nt=B/c,gt=(P+V)/c}else nt=P/c,gt=0;if(s.remeasure&&yt>0){const ht=l.measureText(tt).width*1e3/r*c;if(yt<ht&&this.isFontSubpixelAAEnabled){const B=yt/ht;X=!0,l.save(),l.scale(B,1),nt/=B}else yt!==ht&&(nt+=(yt-ht)/2e3*r/c)}if(this.contentVisible&&(q.isInFont||s.missingFile)){if(M&&!st)l.fillText(tt,nt,gt);else if(this.paintChar(tt,nt,gt,R),st){const ht=nt+r*st.offset.x/c,B=gt-r*st.offset.y/c;this.paintChar(st.fontChar,ht,B,R)}}const ft=v?yt*T-W*g:yt*T+W*g;P+=ft,X&&l.restore()}v?i.y-=P:i.x+=P*m,l.restore(),this.compose()}showType3Text(t){const i=this.ctx,s=this.current,r=s.font,l=s.fontSize,c=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,g=s.wordSpacing,m=s.textHScale*c,b=s.fontMatrix||gv,v=t.length,S=s.textRenderingMode===hi.INVISIBLE;let E,T,M,R;if(!(S||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...s.textMatrix),i.translate(s.x,s.y),i.scale(m,c),E=0;E<v;++E){if(T=t[E],typeof T=="number"){R=d*T*l/1e3,this.ctx.translate(R,0),s.x+=R*m;continue}const D=(T.isSpace?g:0)+f,k=r.charProcOperatorList[T.operatorListId];if(!k){Ot(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),i.scale(l,l),i.transform(...b),this.executeOperatorList(k),this.restore()),M=dt.applyTransform([T.width,0],b)[0]*l+D,i.translate(M,0),s.x+=M*m}i.restore(),this.processingType3=null}}setCharWidth(t,i){}setCharWidthAndBounds(t,i,s,r,l,c){this.ctx.rect(s,r,l-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let i;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ge(this.ctx),l={createCanvasGraphics:c=>new i0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new Gv(t,s,this.ctx,l,r)}else i=this._getPattern(t[1],t[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,i,s){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(t,i,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,i,s){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(t,i,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,i=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=D2(this.getObject(t)),this.cachedPatterns.set(t,s)),i&&(s.matrix=i),s}shadingFill(t){if(!this.contentVisible)return;const i=this.ctx;this.save();const s=this._getPattern(t);i.fillStyle=s.getPattern(i,this,Fs(i),_i.SHADING);const r=Fs(i);if(r){const{width:l,height:c}=i.canvas,[d,f,g,m]=dt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){le("Should not call beginInlineImage")}beginImageData(){le("Should not call beginImageData")}paintFormXObjectBegin(t,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ge(this.ctx),i)){const s=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],s,r),this.current.updateRectMinMax(ge(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Cg("TODO: Support non-isolated groups."),t.knockout&&Ot("Knockout groups not supported.");const s=ge(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(t.bbox,ge(i));const l=[0,0,i.canvas.width,i.canvas.height];r=dt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,g),v=b.context;v.translate(-c,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),sh(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ge(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=dt.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,i,s,r,l){if(w(this,Ar,qv).call(this),gp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d;const[f,g]=dt.singularValueDecompose2dScale(ge(this.ctx)),{viewportScale:m}=this,b=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:S,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),gp(this.ctx)}else gp(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],c,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new E_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Ar,Vv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(t.data,t),t.count=i;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=F2(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),c=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,i,s=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=ge(d);d.transform(i,s,r,l,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,b=c.length;m<b;m+=2){const v=dt.transform(f,[i,s,r,l,c[m],c[m+1]]),[S,E]=dt.applyTransform([0,0],v);d.drawImage(g.canvas,S,E)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:d,height:f,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(c,l);w_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,Fs(i),_i.FILL):s,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...g),i.scale(1,-1),pp(i,m.canvas,0,0,d,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const i=this.getObject(t);if(!i){Ot("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(t,i,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ot("Dependent image isn't ready yet");return}const c=l.width,d=l.height,f=[];for(let g=0,m=r.length;g<m;g+=2)f.push({transform:[i,0,0,s,r[g],r[g+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:i,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const i=t.width,s=t.height,r=this.ctx;if(this.save(),!vi){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/i,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,s).context;__(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,Fs(r));r.imageSmoothingEnabled=x_(ge(r),t.interpolate),pp(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,i,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,i){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;__(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of i)s.save(),s.transform(...l.transform),s.scale(1,-1),pp(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,i){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,i){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===T_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ge(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:i,b:s,c:r,d:l}=this.ctx.getTransform();let c,d;if(s===0&&r===0){const f=Math.abs(i),g=Math.abs(l);if(f===g)if(t===0)c=d=1/f;else{const m=f*t;c=d=m<1?1/m:1}else if(t===0)c=1/f,d=1/g;else{const m=f*t,b=g*t;c=m<1?1/m:1,d=b<1?1/b:1}}else{const f=Math.abs(i*l-s*r),g=Math.hypot(i,s),m=Math.hypot(r,l);if(t===0)c=m/f,d=g/f;else{const b=t*f;c=m>b?m/b:1,d=g>b?g/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:i}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(i.lineWidth=s||1,r===1&&l===1){i.stroke();return}const c=i.getLineDash();if(t&&i.save(),i.scale(r,l),c.length>0){const d=Math.max(r,l);i.setLineDash(c.map(f=>f/d)),i.lineDashOffset/=d}i.stroke(),t&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Ar=new WeakSet,qv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const i=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let Qo=i0;for(const h in Mn)Qo.prototype[h]!==void 0&&(Qo.prototype[Mn[h]]=Qo.prototype[h]);var Kh,$h;class ua{static get workerPort(){return u(this,Kh)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,Kh,t)}static get workerSrc(){return u(this,$h)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,$h,t)}}Kh=new WeakMap,$h=new WeakMap,C(ua,Kh,null),C(ua,$h,"");const mp={DATA:1,ERROR:2},Le={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yi(h){switch(h instanceof Error||typeof h=="object"&&h!==null||le('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),h.name){case"AbortException":return new to(h.message);case"MissingPDFException":return new Jl(h.message);case"PasswordException":return new mv(h.message,h.code);case"UnexpectedResponseException":return new Rg(h.message,h.status);case"UnknownErrorException":return new yv(h.message,h.details);default:return new yv(h.message,h.toString())}}var gc,_n,W1,Q1,Z1,Lp;class fh{constructor(t,i,s){C(this,_n);C(this,gc,new AbortController);this.sourceName=t,this.targetName=i,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",w(this,_n,W1).bind(this),{signal:u(this,gc).signal})}on(t,i){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=i}send(t,i,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:i},s)}sendWithPromise(t,i,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:i},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,i,s,r){const l=this.streamId++,c=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:d,action:t,streamId:l,data:i,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:c,targetName:d,stream:Le.PULL,streamId:l,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ue(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:d,stream:Le.CANCEL,streamId:l,reason:Yi(g)}),m.promise}},s)}destroy(){var t;(t=u(this,gc))==null||t.abort(),_(this,gc,null)}}gc=new WeakMap,_n=new WeakSet,W1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,_n,Z1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===mp.DATA)r.resolve(t.data);else if(t.callback===mp.ERROR)r.reject(Yi(t.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(c){c(i(t.data))}).then(function(c){l.postMessage({sourceName:s,targetName:r,callback:mp.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:r,callback:mp.ERROR,callbackId:t.callbackId,reason:Yi(c)})});return}if(t.streamId){w(this,_n,Q1).call(this,t);return}i(t.data)},Q1=function(t){const i=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this,d=this.actionHandler[t.action],f={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:Le.ENQUEUE,streamId:i,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Le.CLOSE,streamId:i}),delete c.streamSinks[i])},error(g){Ue(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Le.ERROR,streamId:i,reason:Yi(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(g){g(d(t.data,f))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:i,success:!0})},function(g){l.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:i,reason:Yi(g)})})},Z1=function(t){const i=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[i],d=this.streamSinks[i];switch(t.stream){case Le.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Yi(t.reason));break;case Le.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Yi(t.reason));break;case Le.PULL:if(!d){l.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:i,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=d.onPull)==null?void 0:g.call(d))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:i,reason:Yi(f)})});break;case Le.ENQUEUE:if(Ue(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Le.CLOSE:if(Ue(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),w(this,_n,Lp).call(this,c,i);break;case Le.ERROR:Ue(c,"error should have stream controller"),c.controller.error(Yi(t.reason)),w(this,_n,Lp).call(this,c,i);break;case Le.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Yi(t.reason)),w(this,_n,Lp).call(this,c,i);break;case Le.CANCEL:if(!d)break;new Promise(function(f){var g;f((g=d.onCancel)==null?void 0:g.call(d,Yi(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:i,reason:Yi(f)})}),d.sinkCapability.reject(Yi(t.reason)),d.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},Lp=async function(t,i){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var gl,Wh;class B2{constructor({parsedData:t,rawData:i}){C(this,gl);C(this,Wh);_(this,gl,t),_(this,Wh,i)}getRaw(){return u(this,Wh)}get(t){return u(this,gl).get(t)??null}getAll(){return Ib(u(this,gl))}has(t){return u(this,gl).has(t)}}gl=new WeakMap,Wh=new WeakMap;const Xo=Symbol("INTERNAL");var Qh,Zh,Jh,mc;class I2{constructor(t,{name:i,intent:s,usage:r,rbGroups:l}){C(this,Qh,!1);C(this,Zh,!1);C(this,Jh,!1);C(this,mc,!0);_(this,Qh,!!(t&nn.DISPLAY)),_(this,Zh,!!(t&nn.PRINT)),this.name=i,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(u(this,Jh))return u(this,mc);if(!u(this,mc))return!1;const{print:t,view:i}=this.usage;return u(this,Qh)?(i==null?void 0:i.viewState)!=="OFF":u(this,Zh)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,i,s=!1){t!==Xo&&le("Internal method `_setVisible` called."),_(this,Jh,s),_(this,mc,i)}}Qh=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,mc=new WeakMap;var er,$t,yc,vc,td,Xv;class j2{constructor(t,i=nn.DISPLAY){C(this,td);C(this,er,null);C(this,$t,new Map);C(this,yc,null);C(this,vc,null);if(this.renderingIntent=i,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,vc,t.order);for(const s of t.groups)u(this,$t).set(s.id,new I2(i,s));if(t.baseState==="OFF")for(const s of u(this,$t).values())s._setVisible(Xo,!1);for(const s of t.on)u(this,$t).get(s)._setVisible(Xo,!0);for(const s of t.off)u(this,$t).get(s)._setVisible(Xo,!1);_(this,yc,this.getHash())}}isVisible(t){if(u(this,$t).size===0)return!0;if(!t)return Cg("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,$t).has(t.id)?u(this,$t).get(t.id).visible:(Ot(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,td,Xv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const i of t.ids){if(!u(this,$t).has(i))return Ot(`Optional content group not found: ${i}`),!0;if(u(this,$t).get(i).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const i of t.ids){if(!u(this,$t).has(i))return Ot(`Optional content group not found: ${i}`),!0;if(!u(this,$t).get(i).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const i of t.ids){if(!u(this,$t).has(i))return Ot(`Optional content group not found: ${i}`),!0;if(!u(this,$t).get(i).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const i of t.ids){if(!u(this,$t).has(i))return Ot(`Optional content group not found: ${i}`),!0;if(u(this,$t).get(i).visible)return!1}return!0}return Ot(`Unknown optional content policy ${t.policy}.`),!0}return Ot(`Unknown group type ${t.type}.`),!0}setVisibility(t,i=!0,s=!0){var l;const r=u(this,$t).get(t);if(!r){Ot(`Optional content group not found: ${t}`);return}if(s&&i&&r.rbGroups.length)for(const c of r.rbGroups)for(const d of c)d!==t&&((l=u(this,$t).get(d))==null||l._setVisible(Xo,!1,!0));r._setVisible(Xo,!!i,!0),_(this,er,null)}setOCGState({state:t,preserveRB:i}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=u(this,$t).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!l.visible,i);break}}_(this,er,null)}get hasInitialVisibility(){return u(this,yc)===null||this.getHash()===u(this,yc)}getOrder(){return u(this,$t).size?u(this,vc)?u(this,vc).slice():[...u(this,$t).keys()]:null}getGroups(){return u(this,$t).size>0?Ib(u(this,$t)):null}getGroup(t){return u(this,$t).get(t)||null}getHash(){if(u(this,er)!==null)return u(this,er);const t=new U1;for(const[i,s]of u(this,$t))t.update(`${i}:${s.visible}`);return _(this,er,t.hexdigest())}}er=new WeakMap,$t=new WeakMap,yc=new WeakMap,vc=new WeakMap,td=new WeakSet,Xv=function(t){const i=t.length;if(i<2)return!0;const s=t[0];for(let r=1;r<i;r++){const l=t[r];let c;if(Array.isArray(l))c=w(this,td,Xv).call(this,l);else if(u(this,$t).has(l))c=u(this,$t).get(l).visible;else return Ot(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class G2{constructor(t,{disableRange:i=!1,disableStream:s=!1}){Ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:i}){const s=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var i,s,r,l;t.total===void 0?(s=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||s.call(i,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const i=this._rangeReaders.indexOf(t);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new q2(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=new V2(this,t,i);return this._pdfDataRangeTransport.requestDataRange(t,i),this._rangeReaders.push(s),s}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class q2{constructor(t,i,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=qb(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V2{constructor(t,i,s){this._stream=t,this._begin=i,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function X2(h){let t=!0,i=s("filename\\*","i").exec(h);if(i){i=i[1];let m=d(i);return m=unescape(m),m=f(m),m=g(m),l(m)}if(i=c(h),i){const m=g(i);return l(m)}if(i=s("filename","i").exec(h),i){i=i[1];let m=d(i);return m=g(m),l(m)}function s(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),S=Mg(b);b=v.decode(S),t=!1}catch{}}return b}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const b=[];let v;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,T,M,R]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[M,R]}const E=[];for(let T=0;T<b.length&&T in b;++T){let[M,R]=b[T];R=d(R),M&&(R=unescape(R),T===0&&(R=f(R))),E.push(R)}return E.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const S=b[v].indexOf('"');S!==-1&&(b[v]=b[v].slice(0,S),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function f(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),E=m.slice(b+1).replace(/^[^']*'/,"");return r(v,E)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,S,E){if(S==="q"||S==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,M){return String.fromCharCode(parseInt(M,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function $b(h,t){const i=new Headers;if(!h||!t||typeof t!="object")return i;for(const s in t){const r=t[s];r!==void 0&&i.append(s,r)}return i}function Wb({responseHeaders:h,isHttp:t,rangeChunkSize:i,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(h.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*i)||s||!t||h.get("Accept-Ranges")!=="bytes"||(h.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Qb(h){const t=h.get("Content-Disposition");if(t){let i=X2(t);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(qb(i))return i}return null}function Og(h,t){return h===404||h===0&&t.startsWith("file:")?new Jl('Missing PDF "'+t+'".'):new Rg(`Unexpected server response (${h}) while retrieving PDF "${t}".`,h)}function J1(h){return h===200||h===206}function tw(h,t,i){return{method:"GET",headers:h,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function ew(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:(Ot(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class C_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=$b(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Y2(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=new K2(this,t,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Y2{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const i=t.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const s=new Headers(t.headers),r=i.url;fetch(r,tw(s,this._withCredentials,this._abortController)).then(l=>{if(!J1(l.status))throw Og(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:d,suggestedLength:f}=Wb({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=Qb(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new to("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ew(t),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}class K2{constructor(t,i,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${i}-${s-1}`);const c=r.url;fetch(c,tw(l,this._withCredentials,this._abortController)).then(d=>{if(!J1(d.status))throw Og(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:ew(t),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}const uv=200,hv=206;function $2(h){const t=h.response;return typeof t!="string"?t:Mg(t).buffer}class W2{constructor({url:t,httpHeaders:i,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=$b(this.isHttp,i),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,i,s){const r={begin:t,end:i};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const i=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(i.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=hv):r.expectedStatus=uv,i.responseType="arraybuffer",t.onError&&(i.onerror=function(l){t.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,s),i.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,i.send(null),s}onProgress(t,i){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,i))}onStateChange(t,i){var f,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const l=r.status||uv;if(!(l===uv&&s.expectedStatus===hv)&&l!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=$2(r);if(l===hv){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const i=this.pendingRequests[t].xhr;delete this.pendingRequests[t],i.abort()}}class Q2{constructor(t){this._source=t,this._manager=new W2(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const i=this._rangeRequestReaders.indexOf(t);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Z2(this._manager,this._source),this._fullRequestReader}getRangeReader(t,i){const s=new J2(this._manager,t,i);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Z2{constructor(t,i){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,i=this._manager.getRequestXhr(t),s=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=Wb({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Qb(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Og(t,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var i;(i=this.onProgress)==null||i.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class J2{constructor(t,i,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(i,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const i=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Og(t,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const tL=/^[a-z][a-z0-9\-+.]+:/i;function eL(h){if(tL.test(h))return new URL(h);const t=vr.get("url");return new URL(t.pathToFileURL(h))}function iw(h,t,i){return h.protocol==="http:"?vr.get("http").request(h,{headers:t},i):vr.get("https").request(h,{headers:t},i)}class iL{constructor(t){this.source=t,this.url=eL(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=$b(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new aL(this):new nL(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new rL(this,t,i):new sL(this,t,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class nw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=t.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new to("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class nL extends nw{constructor(t){super(t);const i=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new Jl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:d}=Wb({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=Qb(l)};this._request=iw(this._url,i,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class sL extends sw{constructor(t,i,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${i}-${s-1}`;const l=c=>{if(c.statusCode===404){const d=new Jl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(c)};this._request=iw(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class aL extends nw{constructor(t){super(t);const i=vr.get("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Jl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class rL extends sw{constructor(t,i,s){super(t);const r=vr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:s-1}))}}const lL=1e5,Oi=30,oL=.8;var j_,ir,Pi,ed,id,ml,Xs,nd,sd,yl,bc,Ac,nr,Sc,ad,Ec,vl,rd,ld,Ae,bl,Al,od,sr,_c,ma,aw,rw,Kv,an,Dp,$v,lw,ow;let Yv=(Ae=class{constructor({textContentSource:t,container:i,viewport:s}){C(this,ma);C(this,ir,Promise.withResolvers());C(this,Pi,null);C(this,ed,!1);C(this,id,!!((j_=globalThis.FontInspector)!=null&&j_.enabled));C(this,ml,null);C(this,Xs,null);C(this,nd,0);C(this,sd,0);C(this,yl,null);C(this,bc,null);C(this,Ac,0);C(this,nr,0);C(this,Sc,Object.create(null));C(this,ad,[]);C(this,Ec,null);C(this,vl,[]);C(this,rd,new WeakMap);C(this,ld,null);var f;if(t instanceof ReadableStream)_(this,Ec,t);else if(typeof t=="object")_(this,Ec,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,Pi,_(this,bc,i)),_(this,nr,s.scale*(globalThis.devicePixelRatio||1)),_(this,Ac,s.rotation),_(this,Xs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:d}=s.rawDims;_(this,ld,[1,0,0,-1,-c,d+l]),_(this,sd,r),_(this,nd,l),w(f=Ae,an,lw).call(f),Yl(i,s),u(this,ir).promise.finally(()=>{u(Ae,_c).delete(this),_(this,Xs,null),_(this,Sc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:i}=wi.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&i?"Calibri, ":""}sans-serif`],["monospace",`${t&&i?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,yl).read().then(({value:i,done:s})=>{if(s){u(this,ir).resolve();return}u(this,ml)??_(this,ml,i.lang),Object.assign(u(this,Sc),i.styles),w(this,ma,aw).call(this,i.items),t()},u(this,ir).reject)};return _(this,yl,u(this,Ec).getReader()),u(Ae,_c).add(this),t(),u(this,ir).promise}update({viewport:t,onBefore:i=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==u(this,Ac)&&(i==null||i(),_(this,Ac,r),Yl(u(this,bc),{rotation:r})),s!==u(this,nr)){i==null||i(),_(this,nr,s);const c={div:null,properties:null,ctx:w(l=Ae,an,Dp).call(l,u(this,ml))};for(const d of u(this,vl))c.properties=u(this,rd).get(d),c.div=d,w(this,ma,Kv).call(this,c)}}cancel(){var i;const t=new to("TextLayer task cancelled.");(i=u(this,yl))==null||i.cancel(t).catch(()=>{}),_(this,yl,null),u(this,ir).reject(t)}get textDivs(){return u(this,vl)}get textContentItemsStr(){return u(this,ad)}static cleanup(){if(!(u(this,_c).size>0)){u(this,bl).clear();for(const{canvas:t}of u(this,Al).values())t.remove();u(this,Al).clear()}}},ir=new WeakMap,Pi=new WeakMap,ed=new WeakMap,id=new WeakMap,ml=new WeakMap,Xs=new WeakMap,nd=new WeakMap,sd=new WeakMap,yl=new WeakMap,bc=new WeakMap,Ac=new WeakMap,nr=new WeakMap,Sc=new WeakMap,ad=new WeakMap,Ec=new WeakMap,vl=new WeakMap,rd=new WeakMap,ld=new WeakMap,bl=new WeakMap,Al=new WeakMap,od=new WeakMap,sr=new WeakMap,_c=new WeakMap,ma=new WeakSet,aw=function(t){var r,l;if(u(this,ed))return;(l=u(this,Xs)).ctx??(l.ctx=w(r=Ae,an,Dp).call(r,u(this,ml)));const i=u(this,vl),s=u(this,ad);for(const c of t){if(i.length>lL){Ot("Ignoring additional textDivs for performance reasons."),_(this,ed,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=u(this,Pi);_(this,Pi,document.createElement("span")),u(this,Pi).classList.add("markedContent"),c.id!==null&&u(this,Pi).setAttribute("id",`${c.id}`),d.append(u(this,Pi))}else c.type==="endMarkedContent"&&_(this,Pi,u(this,Pi).parentNode);continue}s.push(c.str),w(this,ma,rw).call(this,c)}},rw=function(t){var T;const i=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,vl).push(i);const r=dt.transform(u(this,ld),t.transform);let l=Math.atan2(r[1],r[0]);const c=u(this,Sc)[t.fontName];c.vertical&&(l+=Math.PI/2);let d=u(this,id)&&c.fontSubstitution||c.fontFamily;d=Ae.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),g=f*w(T=Ae,an,ow).call(T,d,u(this,ml));let m,b;l===0?(m=r[4],b=r[5]-g):(m=r[4]+g*Math.sin(l),b=r[5]-g*Math.cos(l));const v="calc(var(--scale-factor)*",S=i.style;u(this,Pi)===u(this,bc)?(S.left=`${(100*m/u(this,sd)).toFixed(2)}%`,S.top=`${(100*b/u(this,nd)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${b.toFixed(2)}px)`),S.fontSize=`${v}${(u(Ae,sr)*f).toFixed(2)}px)`,S.fontFamily=d,s.fontSize=f,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,u(this,id)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),R=Math.abs(t.transform[3]);M!==R&&Math.max(M,R)/Math.min(M,R)>1.5&&(E=!0)}if(E&&(s.canvasWidth=c.vertical?t.height:t.width),u(this,rd).set(i,s),u(this,Xs).div=i,u(this,Xs).properties=s,w(this,ma,Kv).call(this,u(this,Xs)),s.hasText&&u(this,Pi).append(i),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),u(this,Pi).append(M)}},Kv=function(t){var d;const{div:i,properties:s,ctx:r}=t,{style:l}=i;let c="";if(u(Ae,sr)>1&&(c=`scale(${1/u(Ae,sr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:g,fontSize:m}=s;w(d=Ae,an,$v).call(d,r,m*u(this,nr),f);const{width:b}=r.measureText(i.textContent);b>0&&(c=`scaleX(${g*u(this,nr)/b}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)},an=new WeakSet,Dp=function(t=null){let i=u(this,Al).get(t||(t=""));if(!i){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),i=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Al).set(t,i),u(this,od).set(i,{size:0,family:""})}return i},$v=function(t,i,s){const r=u(this,od).get(t);i===r.size&&s===r.family||(t.font=`${i}px ${s}`,r.size=i,r.family=s)},lw=function(){if(u(this,sr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,sr,t.getBoundingClientRect().height),t.remove()},ow=function(t,i){const s=u(this,bl).get(t);if(s)return s;const r=w(this,an,Dp).call(this,i);r.canvas.width=r.canvas.height=Oi,w(this,an,$v).call(this,r,Oi,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(c){const m=c/(c+d);return u(this,bl).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Oi,Oi),r.strokeText("g",0,0);let f=r.getImageData(0,0,Oi,Oi).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/Oi);break}r.clearRect(0,0,Oi,Oi),r.strokeText("A",0,Oi),f=r.getImageData(0,0,Oi,Oi).data,c=0;for(let m=0,b=f.length;m<b;m+=4)if(f[m]>0){c=Oi-Math.floor(m/4/Oi);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+d):oL;return u(this,bl).set(t,g),g},C(Ae,an),C(Ae,bl,new Map),C(Ae,Al,new Map),C(Ae,od,new WeakMap),C(Ae,sr,null),C(Ae,_c,new Set),Ae);class Th{static textContent(t){const i=[],s={items:i,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const d=l.name;if(d==="#text")c=l.value;else if(Th.shouldBuildText(d))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const g of l.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const cL=65536,uL=100,hL=5e3,dL=vi?w2:S2,fL=vi?x2:q1,pL=vi?_2:E2,gL=vi?T2:K1;function mL(h={}){typeof h=="string"||h instanceof URL?h={url:h}:(h instanceof ArrayBuffer||ArrayBuffer.isView(h))&&(h={data:h});const t=new Wv,{docId:i}=t,s=h.url?yL(h.url):null,r=h.data?vL(h.data):null,l=h.httpHeaders||null,c=h.withCredentials===!0,d=h.password??null,f=h.range instanceof cw?h.range:null,g=Number.isInteger(h.rangeChunkSize)&&h.rangeChunkSize>0?h.rangeChunkSize:cL;let m=h.worker instanceof Zo?h.worker:null;const b=h.verbosity,v=typeof h.docBaseUrl=="string"&&!Dg(h.docBaseUrl)?h.docBaseUrl:null,S=typeof h.cMapUrl=="string"?h.cMapUrl:null,E=h.cMapPacked!==!1,T=h.CMapReaderFactory||fL,M=typeof h.standardFontDataUrl=="string"?h.standardFontDataUrl:null,R=h.StandardFontDataFactory||gL,D=h.stopAtErrors!==!0,k=Number.isInteger(h.maxImageSize)&&h.maxImageSize>-1?h.maxImageSize:-1,P=h.isEvalSupported!==!1,z=typeof h.isOffscreenCanvasSupported=="boolean"?h.isOffscreenCanvasSupported:!vi,q=typeof h.isChrome=="boolean"?h.isChrome:!wi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),X=Number.isInteger(h.canvasMaxAreaInBytes)?h.canvasMaxAreaInBytes:-1,W=typeof h.disableFontFace=="boolean"?h.disableFontFace:vi,tt=h.fontExtraProperties===!0,st=h.enableXfa===!0,nt=h.ownerDocument||globalThis.document,gt=h.disableRange===!0,yt=h.disableStream===!0,ft=h.disableAutoFetch===!0,ht=h.pdfBug===!0,B=h.CanvasFactory||dL,V=h.FilterFactory||pL,Z=h.enableHWA===!0,_t=f?f.length:h.length??NaN,O=typeof h.useSystemFonts=="boolean"?h.useSystemFonts:!vi&&!W,K=typeof h.useWorkerFetch=="boolean"?h.useWorkerFetch:T===q1&&R===K1&&S&&M&&rh(S,document.baseURI)&&rh(M,document.baseURI);h.canvasFactory&&g_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),h.filterFactory&&g_("`filterFactory`-instance option, please use `FilterFactory` instead.");const et=null;ZM(b);const J={canvasFactory:new B({ownerDocument:nt,enableHWA:Z}),filterFactory:new V({docId:i,ownerDocument:nt}),cMapReaderFactory:K?null:new T({baseUrl:S,isCompressed:E}),standardFontDataFactory:K?null:new R({baseUrl:M})};if(!m){const ct={verbosity:b,port:ua.workerPort};m=ct.port?Zo.fromPort(ct):new Zo(ct),t._worker=m}const ot={docId:i,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:ft,rangeChunkSize:g,length:_t,docBaseUrl:v,enableXfa:st,evaluatorOptions:{maxImageSize:k,disableFontFace:W,ignoreErrors:D,isEvalSupported:P,isOffscreenCanvasSupported:z,isChrome:q,canvasMaxAreaInBytes:X,fontExtraProperties:tt,useSystemFonts:O,cMapUrl:K?S:null,standardFontDataUrl:K?M:null}},wt={disableFontFace:W,fontExtraProperties:tt,ownerDocument:nt,pdfBug:ht,styleElement:et,loadingParams:{disableAutoFetch:ft,enableXfa:st}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=m.messageHandler.sendWithPromise("GetDocRequest",ot,r?[r.buffer]:null);let xt;if(f)xt=new G2(f,{disableRange:gt,disableStream:yt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let zt;vi?zt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&rh(s)?C_:iL:zt=rh(s)?C_:Q2,xt=new zt({url:s,length:_t,httpHeaders:l,withCredentials:c,rangeChunkSize:g,disableRange:gt,disableStream:yt})}return ct.then(zt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const xe=new fh(i,zt,m.port),Qt=new EL(xe,t,xt,wt,J);t._transport=Qt,xe.send("Ready",null)})}).catch(t._capability.reject),t}function yL(h){if(h instanceof URL)return h.href;try{return new URL(h,window.location).href}catch{if(vi&&typeof h=="string")return h}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vL(h){if(vi&&typeof Buffer<"u"&&h instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength)return h;if(typeof h=="string")return Mg(h);if(h instanceof ArrayBuffer||ArrayBuffer.isView(h)||typeof h=="object"&&!isNaN(h==null?void 0:h.length))return new Uint8Array(h);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function R_(h){return typeof h=="object"&&Number.isInteger(h==null?void 0:h.num)&&h.num>=0&&Number.isInteger(h==null?void 0:h.gen)&&h.gen>=0}var gg;const mg=class mg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ai(mg,gg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gg=new WeakMap,C(mg,gg,0);let Wv=mg,cw=class{constructor(t,i,s=!1,r=null){this.length=t,this.initialData=i,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,i){for(const s of this._rangeListeners)s(t,i)}onDataProgress(t,i){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,i)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,i){le("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class bL{constructor(t,i){this._pdfInfo=t,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ar,Ys,Sn,Yo,Op;class AL{constructor(t,i,s,r=!1){C(this,Sn);C(this,ar,null);C(this,Ys,!1);this._pageIndex=t,this._pageInfo=i,this._transport=s,this._stats=r?new p_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new uw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:i=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new Vd({viewBox:this.view,scale:t,rotation:i,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:i,intent:s="display",annotationMode:r=Ga.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var P,z;(P=this._stats)==null||P.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,b),{renderingIntent:S,cacheKey:E}=v;_(this,Ys,!1),w(this,Sn,Op).call(this),d||(d=this._transport.getOptionalContentConfig(S));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const M=!!(S&nn.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(z=this._stats)==null||z.time("Page Request"),this._pumpOperatorList(v));const R=q=>{var X;T.renderTasks.delete(D),(this._maybeCleanupAfterRender||M)&&_(this,Ys,!0),w(this,Sn,Yo).call(this,!M),q?(D.capability.reject(q),this._abortOperatorList({intentState:T,reason:q instanceof Error?q:new Error(q)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new Zv({callback:R,params:{canvasContext:t,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(T.renderTasks||(T.renderTasks=new Set)).add(D);const k=D.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([q,X])=>{var W;if(this.destroyed){R();return}if((W=this._stats)==null||W.time("Rendering"),!(X.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:q,optionalContentConfig:X}),D.operatorListChanged()}).catch(R),k}getOperatorList({intent:t="display",annotationMode:i=Ga.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,i,s,r,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Th.textContent(s));const i=this.streamTextContent(t);return new Promise(function(s,r){function l(){c.read().then(function({value:f,done:g}){if(g){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),l()},r)}const c=i.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const s of i.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,Ys,!1),w(this,Sn,Op).call(this),Promise.all(t)}cleanup(t=!1){_(this,Ys,!0);const i=w(this,Sn,Yo).call(this,!1);return t&&i&&this._stats&&(this._stats=new p_),i}_startRenderPage(t,i){var r,l;const s=this._intentStates.get(i);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,i){for(let s=0,r=t.length;s<r;s++)i.operatorList.fnArray.push(t.fnArray[s]),i.operatorList.argsArray.push(t.argsArray[s]);i.operatorList.lastChunk=t.lastChunk,i.operatorList.separateAnnots=t.separateAnnots;for(const s of i.renderTasks)s.operatorListChanged();t.lastChunk&&w(this,Sn,Yo).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:i,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:c}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:i,annotationStorage:l,modifiedIds:r},c).getReader(),g=this._intentStates.get(i);g.streamReader=f;const m=()=>{f.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,Sn,Yo).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:i,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(i instanceof Gb){let r=uL;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:i,force:!0})},r);return}}if(t.streamReader.cancel(new to(i.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ar=new WeakMap,Ys=new WeakMap,Sn=new WeakSet,Yo=function(t=!1){if(w(this,Sn,Op).call(this),!u(this,Ys)||this.destroyed)return!1;if(t)return _(this,ar,setTimeout(()=>{_(this,ar,null),w(this,Sn,Yo).call(this,!1)},hL)),!1;for(const{renderTasks:i,operatorList:s}of this._intentStates.values())if(i.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Ys,!1),!0},Op=function(){u(this,ar)&&(clearTimeout(u(this,ar)),_(this,ar,null))};var Ks,yg;class SL{constructor(){C(this,Ks,new Map);C(this,yg,Promise.resolve())}postMessage(t,i){const s={data:structuredClone(t,i?{transfer:i}:null)};u(this,yg).then(()=>{for(const[r]of u(this,Ks))r.call(this,s)})}addEventListener(t,i,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ot("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,i);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}u(this,Ks).set(i,r)}removeEventListener(t,i){const s=u(this,Ks).get(i);s==null||s(),u(this,Ks).delete(i)}terminate(){for(const[,t]of u(this,Ks))t==null||t();u(this,Ks).clear()}}Ks=new WeakMap,yg=new WeakMap;var vg,Sl,El,wc,kp,xc,Np;const ue=class ue{constructor({name:t=null,port:i=null,verbosity:s=JM()}={}){C(this,wc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=u(ue,El))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(u(ue,El)||_(ue,El,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return vi?Promise.all([vr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new fh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,wc,kp).call(this)}_initialize(){if(u(ue,Sl)||u(ue,xc,Np)){this._setupFakeWorker();return}let{workerSrc:t}=ue;try{ue._isSameOrigin(window.location.href,t)||(t=ue._createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t,{type:"module"}),s=new fh("main","worker",i),r=()=>{l.abort(),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",d=>{if(l.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=i,this._webWorker=i,w(this,wc,kp).call(this)}),s.on("ready",d=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{Cg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(ue,Sl)||(Ot("Setting up fake worker."),_(ue,Sl,!0)),ue._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new SL;this._port=i;const s=`fake${Ai(ue,vg)._++}`,r=new fh(s+"_worker",s,i);t.setup(r,i),this._messageHandler=new fh(s,s+"_worker",i),w(this,wc,kp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=u(ue,El))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(s=u(this,El))==null?void 0:s.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new ue(t)}static get workerSrc(){if(ua.workerSrc)return ua.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>u(this,xc,Np)?u(this,xc,Np):(await import(this.workerSrc)).WorkerMessageHandler)())}};vg=new WeakMap,Sl=new WeakMap,El=new WeakMap,wc=new WeakSet,kp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},xc=new WeakSet,Np=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},C(ue,xc),C(ue,vg,0),C(ue,Sl,!1),C(ue,El),vi&&(_(ue,Sl,!0),ua.workerSrc||(ua.workerSrc="./pdf.worker.mjs")),ue._isSameOrigin=(t,i)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(i,s);return s.origin===r.origin},ue._createCDNWrapper=t=>{const i=`await import("${t}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let Zo=ue;var $s,ls,Tc,Cc,os,_l,ph;class EL{constructor(t,i,s,r,l){C(this,_l);C(this,$s,new Map);C(this,ls,new Map);C(this,Tc,new Map);C(this,Cc,new Map);C(this,os,null);this.messageHandler=t,this.loadingTask=i,this.commonObjs=new uw,this.fontLoader=new b2({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ut(this,"annotationStorage",new Yb)}getRenderingIntent(t,i=Ga.ENABLE,s=null,r=!1,l=!1){let c=nn.DISPLAY,d=zv;switch(t){case"any":c=nn.ANY;break;case"display":break;case"print":c=nn.PRINT;break;default:Ot(`getRenderingIntent - invalid intent: ${t}`)}const f=c&nn.PRINT&&s instanceof I1?s:this.annotationStorage;switch(i){case Ga.DISABLE:c+=nn.ANNOTATIONS_DISABLE;break;case Ga.ENABLE:break;case Ga.ENABLE_FORMS:c+=nn.ANNOTATIONS_FORMS;break;case Ga.ENABLE_STORAGE:c+=nn.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Ot(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(c+=nn.IS_EDITING),l&&(c+=nn.OPLIST);const{ids:g,hash:m}=f.modifiedIds,b=[c,d.hash,m];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,os))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of u(this,ls).values())t.push(r._destroy());u(this,ls).clear(),u(this,Tc).clear(),u(this,Cc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,$s).clear(),this.filterFactory.destroy(),Yv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new to("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:i}=this;t.on("GetReader",(s,r)=>{Ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Ue(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((d=i.onProgress)==null||d.call(i,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=i.onProgress)==null||g.call(i,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:d}){if(d){r.close();return}Ue(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,i._capability.resolve(new bL(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new mv(s.message,s.code);break;case"InvalidPDFException":r=new f1(s.message);break;case"MissingPDFException":r=new Jl(s.message);break;case"UnexpectedResponseException":r=new Rg(s.message,s.status);break;case"UnknownErrorException":r=new yv(s.message,s.details);break;default:le("DocException - expected a valid Error.")}i._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,os,Promise.withResolvers()),i.onPassword){const r=l=>{l instanceof Error?u(this,os).reject(l):u(this,os).resolve({password:l})};try{i.onPassword(r,s.code)}catch(l){u(this,os).reject(l)}}else u(this,os).reject(new mv(s.message,s.code));return u(this,os).promise}),t.on("DataLoaded",s=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,ls).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in l){const S=l.error;Ot(`Error during font loading: ${S}`),this.commonObjs.resolve(s,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,E)=>globalThis.FontInspector.fontAdded(S,E):null,b=new A2(l,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Ue(v,"The imageRef must be defined.");for(const S of u(this,ls).values())for(const[,E]of S.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,c])=>{var f;if(this.destroyed)return;const d=u(this,ls).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":d.objs.resolve(s,c),(c==null?void 0:c.dataLen)>KM&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ot("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=t-1,s=u(this,Tc).get(i);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&u(this,Cc).set(l.refStr,t);const c=new AL(i,l,this,this._params.pdfBug);return u(this,ls).set(i,c),c});return u(this,Tc).set(i,r),r}getPageIndex(t){return R_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}getFieldObjects(){return w(this,_l,ph).call(this,"GetFieldObjects")}hasJSActions(){return w(this,_l,ph).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,_l,ph).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,_l,ph).call(this,"GetOptionalContentConfig").then(i=>new j2(i,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",i=u(this,$s).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new B2(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return u(this,$s).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of u(this,ls).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,$s).clear(),this.filterFactory.destroy(!0),Yv.cleanup()}}cachedPageNumber(t){if(!R_(t))return null;const i=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Cc).get(i)??null}}$s=new WeakMap,ls=new WeakMap,Tc=new WeakMap,Cc=new WeakMap,os=new WeakMap,_l=new WeakSet,ph=function(t,i=null){const s=u(this,$s).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,i);return u(this,$s).set(t,r),r};const yp=Symbol("INITIAL_DATA");var Pn,cd,Qv;class uw{constructor(){C(this,cd);C(this,Pn,Object.create(null))}get(t,i=null){if(i){const r=w(this,cd,Qv).call(this,t);return r.promise.then(()=>i(r.data)),null}const s=u(this,Pn)[t];if(!s||s.data===yp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const i=u(this,Pn)[t];return!!i&&i.data!==yp}resolve(t,i=null){const s=w(this,cd,Qv).call(this,t);s.data=i,s.resolve()}clear(){var t;for(const i in u(this,Pn)){const{data:s}=u(this,Pn)[i];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,Pn,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Pn)){const{data:i}=u(this,Pn)[t];i!==yp&&(yield[t,i])}}}Pn=new WeakMap,cd=new WeakSet,Qv=function(t){var i;return(i=u(this,Pn))[t]||(i[t]={...Promise.withResolvers(),data:yp})};var rr;class _L{constructor(t){C(this,rr,null);_(this,rr,t),this.onContinue=null}get promise(){return u(this,rr).capability.promise}cancel(t=0){u(this,rr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,rr).operatorList;if(!t)return!1;const{annotationCanvasMap:i}=u(this,rr);return t.form||t.canvas&&(i==null?void 0:i.size)>0}}rr=new WeakMap;var lr,wl;const $r=class $r{constructor({callback:t,params:i,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:d,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){C(this,lr,null);this.callback=t,this.params=i,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _L(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:i}){var d,f;if(this.cancelled)return;if(this._canvas){if(u($r,wl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u($r,wl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:c}=this.params;this.gfx=new Qo(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,i=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,lr)&&(window.cancelAnimationFrame(u(this,lr)),_(this,lr,null)),u($r,wl).delete(this._canvas),this.callback(t||new Gb(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,lr,window.requestAnimationFrame(()=>{_(this,lr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u($r,wl).delete(this._canvas),this.callback())))}};lr=new WeakMap,wl=new WeakMap,C($r,wl,new WeakSet);let Zv=$r;const wL="4.8.69",xL="3634dab10";function M_(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function ah(h){return Math.max(0,Math.min(255,255*h))}class L_{static CMYK_G([t,i,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*i+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ah(t),[t,t,t]}static G_HTML([t]){const i=M_(t);return`#${i}${i}${i}`}static RGB_G([t,i,s]){return["G",.3*t+.59*i+.11*s]}static RGB_rgb(t){return t.map(ah)}static RGB_HTML(t){return`#${t.map(M_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,i,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,i+r)]}static CMYK_rgb([t,i,s,r]){return[ah(1-Math.min(1,t+r)),ah(1-Math.min(1,s+r)),ah(1-Math.min(1,i+r))]}static CMYK_HTML(t){const i=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([t,i,s]){const r=1-t,l=1-i,c=1-s,d=Math.min(r,l,c);return["CMYK",r,l,c,d]}}class TL{create(t,i,s=!1){if(t<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${i}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){le("Abstract method `_createSVG` called.")}}class Zb extends TL{_createSVG(t){return document.createElementNS(Hs,t)}}class hw{static setupStorage(t,i,s,r,l){const c=r.getValue(i,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(i,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{r.setValue(i,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(i,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:g})});break}}static setAttributes({html:t,element:i,storage:s=null,intent:r,linkService:l}){const{attributes:c}=i,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,g]of Object.entries(c))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}d&&l.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,i,s)}static render(t){var b,v;const i=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:s});const d=l!=="richText",f=t.div;if(f.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=S}d&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),d&&Th.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,E,T]=m.at(-1);if(E+1===S.children.length){m.pop();continue}const M=S.children[++m.at(-1)[1]];if(M===null)continue;const{name:R}=M;if(R==="#text"){const k=document.createTextNode(M.value);g.push(k),T.append(k);continue}const D=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,R):document.createElement(R);if(T.append(D),M.attributes&&this.setAttributes({html:D,element:M,storage:i,intent:l,linkService:s}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,D]);else if(M.value){const k=document.createTextNode(M.value);d&&Th.shouldBuildText(R)&&g.push(k),D.append(k)}}for(const S of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const i=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=i,t.div.hidden=!1}}const Yd=1e3,CL=9,$l=new WeakSet;function da(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class RL{static create(t){switch(t.data.annotationType){case Pe.LINK:return new dw(t);case Pe.TEXT:return new ML(t);case Pe.WIDGET:switch(t.data.fieldType){case"Tx":return new LL(t);case"Btn":return t.data.radioButton?new gw(t):t.data.checkBox?new OL(t):new kL(t);case"Ch":return new NL(t);case"Sig":return new DL(t)}return new eo(t);case Pe.POPUP:return new tb(t);case Pe.FREETEXT:return new Aw(t);case Pe.LINE:return new FL(t);case Pe.SQUARE:return new HL(t);case Pe.CIRCLE:return new zL(t);case Pe.POLYLINE:return new Sw(t);case Pe.CARET:return new BL(t);case Pe.INK:return new Jb(t);case Pe.POLYGON:return new UL(t);case Pe.HIGHLIGHT:return new Ew(t);case Pe.UNDERLINE:return new IL(t);case Pe.SQUIGGLY:return new jL(t);case Pe.STRIKEOUT:return new GL(t);case Pe.STAMP:return new _w(t);case Pe.FILEATTACHMENT:return new qL(t);default:return new we(t)}}}var xl,Rc,Mc,ud,Jv;const n0=class n0{constructor(t,{isRenderable:i=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){C(this,ud);C(this,xl,null);C(this,Rc,!1);C(this,Mc,null);this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,i&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:i,richText:s}){return!!(t!=null&&t.str||i!=null&&i.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;u(this,xl)||_(this,xl,{rect:this.data.rect.slice(0)});const{rect:i}=t;i&&w(this,ud,Jv).call(this,i),(s=u(this,Mc))==null||s.popup.updateEdited(t)}resetEdited(){var t;u(this,xl)&&(w(this,ud,Jv).call(this,u(this,xl).rect),(t=u(this,Mc))==null||t.popup.resetEdited(),_(this,xl,null))}_createContainer(t){const{data:i,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof eo||(l.tabIndex=Yd);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof tb){const{rotation:T}=i;return!i.hasOwnCanvas&&T!==0&&this.setRotation(T,l),l}const{width:d,height:f}=da(i.rect);if(!t&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const T=i.borderStyle.horizontalCornerRadius,M=i.borderStyle.verticalCornerRadius;if(T>0||M>0){const D=`calc(${T}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=D}else if(this instanceof gw){const D=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=D}switch(i.borderStyle.style){case nh.SOLID:c.borderStyle="solid";break;case nh.DASHED:c.borderStyle="dashed";break;case nh.BEVELED:Ot("Unimplemented border style: beveled");break;case nh.INSET:Ot("Unimplemented border style: inset");break;case nh.UNDERLINE:c.borderBottomStyle="solid";break}const R=i.borderColor||null;R?(_(this,Rc,!0),c.borderColor=dt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const g=dt.normalizeRect([i.rect[0],s.view[3]-i.rect[1]+s.view[1],i.rect[2],s.view[3]-i.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/b}%`;const{rotation:E}=i;return i.hasOwnCanvas||E===0?(c.width=`${100*d/m}%`,c.height=`${100*f/b}%`):this.setRotation(E,l),l}setRotation(t,i=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=da(this.data.rect);let d,f;t%180===0?(d=100*l/s,f=100*c/r):(d=100*c/s,f=100*l/r),i.style.width=`${d}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(i,s,r)=>{const l=r.detail[i],c=l[0],d=l.slice(1);r.target.style[s]=L_[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:L_[`${c}_rgb`](d)})};return Ut(this,"_commonActions",{display:i=>{const{display:s}=i.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:s}=i.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{t("bgColor","backgroundColor",i)},fillColor:i=>{t("fillColor","backgroundColor",i)},fgColor:i=>{t("fgColor","color",i)},textColor:i=>{t("textColor","color",i)},borderColor:i=>{t("borderColor","borderColor",i)},strokeColor:i=>{t("strokeColor","borderColor",i)},rotation:i=>{const s=i.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,i){const s=this._commonActions;for(const r of Object.keys(i.detail)){const l=t[r]||s[r];l==null||l(i)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const s=this._commonActions;for(const[r,l]of Object.entries(i)){const c=s[r];if(c){const d={detail:{[r]:l},target:t};c(d),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[i,s,r,l]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,M,R,D]=t.subarray(2,6);if(r===T&&l===M&&i===R&&s===D)return}const{style:c}=this.container;let d;if(u(this,Rc)){const{borderColor:T,borderWidth:M}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-i,g=l-s,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const S=m.createElement("clipPath"),E=`clippath_${this.data.id}`;S.setAttribute("id",E),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let T=2,M=t.length;T<M;T+=8){const R=t[T],D=t[T+1],k=t[T+2],P=t[T+3],z=m.createElement("rect"),q=(k-i)/f,X=(l-D)/g,W=(R-k)/f,tt=(D-P)/g;z.setAttribute("x",q),z.setAttribute("y",X),z.setAttribute("width",W),z.setAttribute("height",tt),S.append(z),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${q}" y="${X}" width="${W}" height="${tt}"/>`)}u(this,Rc)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,i=_(this,Mc,new tb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){le("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,i=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:d}of r){if(l===-1||c===i)continue;const f=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!$l.has(g)){Ot(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:f,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==i&&$l.has(r)&&s.push({id:c,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const i of t)i.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:i})})}};xl=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,ud=new WeakSet,Jv=function(t){const{container:{style:i},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=da(t);i.left=`${100*(t[0]-d)/l}%`,i.top=`${100*(c-t[3]+f)/c}%`,r===0?(i.width=`${100*g/l}%`,i.height=`${100*m/c}%`):this.setRotation(r)};let we=n0;var sn,qr,fw,pw;class dw extends we{constructor(i,s=null){super(i,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});C(this,sn);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let l=!1;return i.url?(s.addLinkAttributes(r,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(r,i.action),l=!0):i.attachment?(w(this,sn,fw).call(this,r,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(w(this,sn,pw).call(this,r,i.setOCGState),l=!0):i.dest?(this._bindLink(r,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),l=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(i,s){i.href=this.linkService.getDestinationHash(s),i.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&w(this,sn,qr).call(this)}_bindNamedAction(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(s),!1),w(this,sn,qr).call(this)}_bindJSAction(i,s){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const c=r.get(l);c&&(i[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),w(this,sn,qr).call(this)}_bindResetFormAction(i,s){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),w(this,sn,qr).call(this),!this._fieldObjects){Ot('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var b;r==null||r();const{fields:l,refs:c,include:d}=s,f=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const S of l){const E=this._fieldObjects[S]||[];for(const{id:T}of E)v.add(T)}for(const S of Object.values(this._fieldObjects))for(const E of S)v.has(E.id)===d&&f.push(E)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const g=this.annotationStorage,m=[];for(const v of f){const{id:S}=v;switch(m.push(S),v.type){case"text":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;g.setValue(S,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}default:continue}const E=document.querySelector(`[data-element-id="${S}"]`);if(E){if(!$l.has(E)){Ot(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}sn=new WeakSet,qr=function(){this.container.setAttribute("data-internal-link","")},fw=function(i,s,r=null){i.href=this.linkService.getAnchorUrl(""),s.description&&(i.title=s.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},w(this,sn,qr).call(this)},pw=function(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(s),!1),w(this,sn,qr).call(this)};class ML extends we{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class eo extends we{render(){return this.container}showElementAndHideCanvas(t){var i;this.data.hasOwnCanvas&&(((i=t.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return wi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,i,s,r,l){s.includes("mouse")?t.addEventListener(s,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var d;if(s==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(s==="focus"){if(i.focused)return;i.focused=!0}l&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,i,s,r){var l,c,d;for(const[f,g]of s)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(i||(i={focused:!1})),this._setEventListener(t,i,f,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,i,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,i,"focus","Focus",null))}_setBackgroundColor(t){const i=this.data.backgroundColor||null;t.style.backgroundColor=i===null?"transparent":dt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(t){const i=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||CL,l=t.style;let c;const d=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(rv*r))||1,b=g/m;c=Math.min(r,f(b/rv))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(r,f(g/rv))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=dt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(t,i){i?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",i)}}class LL extends eo{constructor(t){const i=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:i})}setPropertyOnSiblings(t,i,s,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[i]=s),l.setValue(c.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(i,{value:this.data.fieldValue});let d=c.value||"";const f=t.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),$l.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Yd,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",v=>{t.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";s.value=m.userValue=S,m.formattedValue=null});let b=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{var T;if(m.focused)return;const{target:E}=S;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const E={value(T){m.userValue=T.detail.value??"",t.setValue(i,{value:m.userValue.toString()}),T.target.value=m.userValue},formattedValue(T){const{formattedValue:M}=T.detail;m.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M),t.setValue(i,{formattedValue:M})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var k;const{charLimit:M}=T.detail,{target:R}=T;if(M===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",M);let D=m.userValue;!D||D.length<=M||(D=D.slice(0,M),R.value=m.userValue=D,t.setValue(i,{value:D}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(E,S)}),s.addEventListener("keydown",S=>{var M;m.commitKey=1;let E=-1;if(S.key==="Escape"?E=0:S.key==="Enter"&&!this.data.multiLine?E=2:S.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:T}=S.target;m.lastCommittedValue!==T&&(m.lastCommittedValue=T,m.userValue=T,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",S=>{var T,M;if(!m.focused||!S.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(m.focused=!1);const{value:E}=S.target;m.userValue=E,m.lastCommittedValue!==E&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",S=>{var z;m.lastCommittedValue=null;const{data:E,target:T}=S,{value:M,selectionStart:R,selectionEnd:D}=T;let k=R,P=D;switch(S.inputType){case"deleteWordBackward":{const q=M.substring(0,R).match(/\w*[^\w]*$/);q&&(k-=q[0].length);break}case"deleteWordForward":{const q=M.substring(R).match(/^[^\w]*\w*/);q&&(P+=q[0].length);break}case"deleteContentBackward":R===D&&(k-=1);break;case"deleteContentForward":R===D&&(P+=1);break}S.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:M,change:E||"",willCommit:!1,selStart:k,selEnd:P}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class DL extends eo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class OL extends eo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,i=this.data,s=i.id;let r=t.getValue(s,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return $l.add(l),l.setAttribute("data-element-id",s),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=Yd,l.addEventListener("change",c=>{const{name:d,checked:f}=c.target;for(const g of this._getElementsByName(d,s)){const m=f&&g.exportValue===i.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const d=i.defaultFieldValue||"Off";c.target.checked=d===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class gw extends eo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,i=this.data,s=i.id;let r=t.getValue(s,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(i.fieldName,s))t.setValue(c.id,{value:!1});const l=document.createElement("input");if($l.add(l),l.setAttribute("data-element-id",s),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Yd,l.addEventListener("change",c=>{const{name:d,checked:f}=c.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const d=i.defaultFieldValue;c.target.checked=d!=null&&d===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",d=>{const f={value:g=>{const m=c===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class kL extends dw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const i=t.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class NL extends eo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,i=this.data.id,s=t.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");$l.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Yd;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,s.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),l=!1),r.append(b)}let c=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=d(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const b={value(v){c==null||c();const S=v.detail.value,E=new Set(Array.isArray(S)?S:[S]);for(const T of r.options)T.selected=E.has(T.value);t.setValue(i,{value:d(!0)}),f=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,E=v.detail.remove;S[E].selected=!1,r.remove(E),S.length>0&&Array.prototype.findIndex.call(S,M=>M.selected)===-1&&(S[0].selected=!0),t.setValue(i,{value:d(!0),items:g(v)}),f=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(i,{value:null,items:[]}),f=d(!1)},insert(v){const{index:S,displayValue:E,exportValue:T}=v.detail.insert,M=r.children[S],R=document.createElement("option");R.textContent=E,R.value=T,M?M.before(R):r.append(R),t.setValue(i,{value:d(!0),items:g(v)}),f=d(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of S){const{displayValue:T,exportValue:M}=E,R=document.createElement("option");R.textContent=T,R.value=M,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(i,{value:d(!0),items:g(v)}),f=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const E of v.target.options)E.selected=S.has(E.index);t.setValue(i,{value:d(!0)}),f=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("input",m=>{var S;const b=d(!0),v=d(!1);t.setValue(i,{value:b}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(i,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class tb extends we{constructor(t){const{data:i,elements:s}=t;super(t,{isRenderable:we._hasPopupData(i)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new PL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${jb}${s}`).join(",")),this.container}}var Lc,bg,Ag,Dc,Tl,be,Ws,Oc,hd,dd,kc,Qs,Fn,Zs,fd,Js,pd,Cl,Rl,ie,Pp,eb,mw,yw,vw,bw,Fp,Hp,ib;class PL{constructor({container:t,color:i,elements:s,titleObj:r,modificationDate:l,contentsObj:c,richText:d,parent:f,rect:g,parentRect:m,open:b}){C(this,ie);C(this,Lc,w(this,ie,vw).bind(this));C(this,bg,w(this,ie,ib).bind(this));C(this,Ag,w(this,ie,Hp).bind(this));C(this,Dc,w(this,ie,Fp).bind(this));C(this,Tl,null);C(this,be,null);C(this,Ws,null);C(this,Oc,null);C(this,hd,null);C(this,dd,null);C(this,kc,null);C(this,Qs,!1);C(this,Fn,null);C(this,Zs,null);C(this,fd,null);C(this,Js,null);C(this,pd,null);C(this,Cl,null);C(this,Rl,!1);var v;_(this,be,t),_(this,pd,r),_(this,Ws,c),_(this,Js,d),_(this,dd,f),_(this,Tl,i),_(this,fd,g),_(this,kc,m),_(this,hd,s),_(this,Oc,Vb.toDateObject(l)),this.trigger=s.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",u(this,Dc)),S.addEventListener("mouseenter",u(this,Ag)),S.addEventListener("mouseleave",u(this,bg)),S.classList.add("popupTriggerArea");for(const S of s)(v=S.container)==null||v.addEventListener("keydown",u(this,Lc));u(this,be).hidden=!0,b&&w(this,ie,Fp).call(this)}render(){if(u(this,Fn))return;const t=_(this,Fn,document.createElement("div"));if(t.className="popup",u(this,Tl)){const l=t.style.outlineColor=dt.makeHexColor(...u(this,Tl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=dt.makeHexColor(...u(this,Tl).map(d=>Math.floor(.7*(255-d)+d)))}const i=document.createElement("span");i.className="header";const s=document.createElement("h1");if(i.append(s),{dir:s.dir,str:s.textContent}=u(this,pd),t.append(i),u(this,Oc)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Oc).valueOf()})),i.append(l)}const r=u(this,ie,Pp);if(r)hw.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(u(this,Ws));t.append(l)}u(this,be).append(t)}_formatContents({str:t,dir:i}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=i;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const d=r[l];s.append(document.createTextNode(d)),l<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:i}){var s;u(this,Cl)||_(this,Cl,{contentsObj:u(this,Ws),richText:u(this,Js)}),t&&_(this,Zs,null),i&&(_(this,Js,w(this,ie,yw).call(this,i)),_(this,Ws,null)),(s=u(this,Fn))==null||s.remove(),_(this,Fn,null)}resetEdited(){var t;u(this,Cl)&&({contentsObj:Ai(this,Ws)._,richText:Ai(this,Js)._}=u(this,Cl),_(this,Cl,null),(t=u(this,Fn))==null||t.remove(),_(this,Fn,null),_(this,Zs,null))}forceHide(){_(this,Rl,this.isVisible),u(this,Rl)&&(u(this,be).hidden=!0)}maybeShow(){u(this,Rl)&&(u(this,Fn)||w(this,ie,Hp).call(this),_(this,Rl,!1),u(this,be).hidden=!1)}get isVisible(){return u(this,be).hidden===!1}}Lc=new WeakMap,bg=new WeakMap,Ag=new WeakMap,Dc=new WeakMap,Tl=new WeakMap,be=new WeakMap,Ws=new WeakMap,Oc=new WeakMap,hd=new WeakMap,dd=new WeakMap,kc=new WeakMap,Qs=new WeakMap,Fn=new WeakMap,Zs=new WeakMap,fd=new WeakMap,Js=new WeakMap,pd=new WeakMap,Cl=new WeakMap,Rl=new WeakMap,ie=new WeakSet,Pp=function(){const t=u(this,Js),i=u(this,Ws);return t!=null&&t.str&&(!(i!=null&&i.str)||i.str===t.str)&&u(this,Js).html||null},eb=function(){var t,i,s;return((s=(i=(t=u(this,ie,Pp))==null?void 0:t.attributes)==null?void 0:i.style)==null?void 0:s.fontSize)||0},mw=function(){var t,i,s;return((s=(i=(t=u(this,ie,Pp))==null?void 0:t.attributes)==null?void 0:i.style)==null?void 0:s.color)||null},yw=function(t){const i=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:u(this,ie,mw),fontSize:u(this,ie,eb)?`calc(${u(this,ie,eb)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))i.push({name:"span",value:l,attributes:r});return s},vw=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,Qs))&&w(this,ie,Fp).call(this)},bw=function(){if(u(this,Zs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:l}}}=u(this,dd);let c=!!u(this,kc),d=c?u(this,kc):u(this,fd);for(const E of u(this,hd))if(!d||dt.intersect(E.data.rect,d)!==null){d=E.data.rect,c=!0;break}const f=dt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,b=f[0]+m,v=f[1];_(this,Zs,[100*(b-r)/i,100*(v-l)/s]);const{style:S}=u(this,be);S.left=`${u(this,Zs)[0]}%`,S.top=`${u(this,Zs)[1]}%`},Fp=function(){_(this,Qs,!u(this,Qs)),u(this,Qs)?(w(this,ie,Hp).call(this),u(this,be).addEventListener("click",u(this,Dc)),u(this,be).addEventListener("keydown",u(this,Lc))):(w(this,ie,ib).call(this),u(this,be).removeEventListener("click",u(this,Dc)),u(this,be).removeEventListener("keydown",u(this,Lc)))},Hp=function(){u(this,Fn)||this.render(),this.isVisible?u(this,Qs)&&u(this,be).classList.add("focused"):(w(this,ie,bw).call(this),u(this,be).hidden=!1,u(this,be).style.zIndex=parseInt(u(this,be).style.zIndex)+1e3)},ib=function(){u(this,be).classList.remove("focused"),!(u(this,Qs)||!this.isVisible)&&(u(this,be).hidden=!0,u(this,be).style.zIndex=parseInt(u(this,be).style.zIndex)-1e3)};class Aw extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const i of this.textContent){const s=document.createElement("span");s.textContent=i,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gd;class FL extends we{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});C(this,gd,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:s,height:r}=da(i.rect),l=this.svgFactory.create(s,r,!0),c=_(this,gd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,gd)}addHighlightArea(){this.container.classList.add("highlightArea")}}gd=new WeakMap;var md;class HL extends we{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});C(this,md,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:s,height:r}=da(i.rect),l=this.svgFactory.create(s,r,!0),c=i.borderStyle.width,d=_(this,md,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",s-c),d.setAttribute("height",r-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,md)}addHighlightArea(){this.container.classList.add("highlightArea")}}md=new WeakMap;var yd;class zL extends we{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});C(this,yd,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:s,height:r}=da(i.rect),l=this.svgFactory.create(s,r,!0),c=i.borderStyle.width,d=_(this,yd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-c/2),d.setAttribute("ry",r/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,yd)}addHighlightArea(){this.container.classList.add("highlightArea")}}yd=new WeakMap;var vd;class Sw extends we{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});C(this,vd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:c,height:d}=da(i),f=this.svgFactory.create(c,d,!0);let g=[];for(let b=0,v=s.length;b<v;b+=2){const S=s[b]-i[0],E=i[3]-s[b+1];g.push(`${S},${E}`)}g=g.join(" ");const m=_(this,vd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,vd)}addHighlightArea(){this.container.classList.add("highlightArea")}}vd=new WeakMap;class UL extends Sw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class BL extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bd;class Jb extends we{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});C(this,bd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:s,borderStyle:r,popupRef:l}}=this,{width:c,height:d}=da(i),f=this.svgFactory.create(c,d,!0);for(const g of s){let m=[];for(let v=0,S=g.length;v<S;v+=2){const E=g[v]-i[0],T=i[3]-g[v+1];m.push(`${E},${T}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);u(this,bd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,bd)}addHighlightArea(){this.container.classList.add("highlightArea")}}bd=new WeakMap;class Ew extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class IL extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class jL extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GL extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _w extends we{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ad,Sd,nb;class qL extends we{constructor(i){var r;super(i,{isRenderable:!0});C(this,Sd);C(this,Ad,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,Sd,nb).bind(this)),_(this,Ad,r);const{isMac:l}=wi.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&w(this,Sd,nb).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return u(this,Ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ad=new WeakMap,Sd=new WeakSet,nb=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var Ed,Ml,Ll,_d,Ql,ww,sb,G_;let VL=(G_=class{constructor({div:t,accessibilityManager:i,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:d}){C(this,Ql);C(this,Ed,null);C(this,Ml,null);C(this,Ll,new Map);C(this,_d,null);this.div=t,_(this,Ed,i),_(this,Ml,s),_(this,_d,d||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Ll).size>0}async render(t){var c;const{annotations:i}=t,s=this.div;Yl(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Zb,annotationStorage:t.annotationStorage||new Yb,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of i){if(d.noHTML)continue;const f=d.annotationType===Pe.POPUP;if(f){const b=r.get(d.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=da(d.rect);if(b<=0||v<=0)continue}l.data=d;const g=RL.create(l);if(!g.isRenderable)continue;if(!f&&d.popupRef){const b=r.get(d.popupRef);b?b.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,Ql,ww).call(this,m,d.id),g._isEditable&&(u(this,Ll).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}w(this,Ql,sb).call(this)}update({viewport:t}){const i=this.div;this.viewport=t,Yl(i,{rotation:t.rotation}),w(this,Ql,sb).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Ll).values())}getEditableAnnotation(t){return u(this,Ll).get(t)}},Ed=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,_d=new WeakMap,Ql=new WeakSet,ww=async function(t,i){var c,d;const s=t.firstChild||t,r=s.id=`${jb}${i}`,l=await((c=u(this,_d))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,g]of l)s.setAttribute(f,g);this.div.append(t),(d=u(this,Ed))==null||d.moveElementInDOM(this.div,t,s,!1)},sb=function(){if(!u(this,Ml))return;const t=this.div;for(const[i,s]of u(this,Ml)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}u(this,Ml).clear()},G_);const vp=/\r\n?|\n/g;var Hn,Wi,wd,Dl,Qi,Oe,xw,Tw,Cw,zp,pa,Up,Bp,Rw,rb,Mw;const re=class re extends Wt{constructor(i){super({...i,name:"freeTextEditor"});C(this,Oe);C(this,Hn);C(this,Wi,"");C(this,wd,`${this.id}-editor`);C(this,Dl,null);C(this,Qi);_(this,Hn,i.color||re._defaultColor||Wt._defaultLineColor),_(this,Qi,i.fontSize||re._defaultFontSize)}static get _keyboardManager(){const i=re.prototype,s=c=>c.isEmpty(),r=Kl.TRANSLATE_SMALL,l=Kl.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Xd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(i,s){Wt.initialize(i,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,s){switch(i){case Et.FREETEXT_SIZE:re._defaultFontSize=s;break;case Et.FREETEXT_COLOR:re._defaultColor=s;break}}updateParams(i,s){switch(i){case Et.FREETEXT_SIZE:w(this,Oe,xw).call(this,s);break;case Et.FREETEXT_COLOR:w(this,Oe,Tw).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.FREETEXT_SIZE,re._defaultFontSize],[Et.FREETEXT_COLOR,re._defaultColor||Wt._defaultLineColor]]}get propertiesToUpdate(){return[[Et.FREETEXT_SIZE,u(this,Qi)],[Et.FREETEXT_COLOR,u(this,Hn)]]}_translateEmpty(i,s){this._uiManager.translateSelectedEditors(i,s,!0)}getInitialTranslation(){const i=this.parentScale;return[-re._internalPadding*i,-(re._internalPadding+u(this,Qi))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Mt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Dl,new AbortController);const i=this._uiManager.combinedSignal(u(this,Dl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,wd)),this._isDraggable=!0,(i=u(this,Dl))==null||i.abort(),_(this,Dl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=u(this,Wi),s=_(this,Wi,w(this,Oe,Cw).call(this).trimEnd());if(i===s)return;const r=l=>{if(_(this,Wi,l),!l){this.remove();return}w(this,Oe,Bp).call(this),this._uiManager.rebuild(this),w(this,Oe,zp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(i)},mustExec:!1}),w(this,Oe,zp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){re._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,wd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Qi)}px * var(--scale-factor))`,r.color=u(this,Hn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),eg(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,b]=this.pageDimensions,[v,S]=this.pageTranslation;let E,T;switch(this.rotation){case 0:E=i+(d[0]-v)/m,T=s+this.height-(d[1]-S)/b;break;case 90:E=i+(d[0]-v)/m,T=s-(d[1]-S)/b,[f,g]=[g,-f];break;case 180:E=i-this.width+(d[0]-v)/m,T=s-(d[1]-S)/b,[f,g]=[-f,-g];break;case 270:E=i+(d[0]-v-this.height*b)/m,T=s+(d[1]-S-this.width*m)/b,[f,g]=[-g,f];break}this.setAt(E*l,T*c,f,g)}else this.setAt(i*l,s*c,this.width*l,this.height*c);w(this,Oe,Bp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var E,T,M;const s=i.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const l=w(E=re,pa,rb).call(E,s.getData("text")||"").replaceAll(vp,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:g}=d,m=[],b=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(b.push(f.nodeValue.slice(g).replaceAll(vp,"")),R!==this.editorDiv){let D=m;for(const k of this.editorDiv.childNodes){if(k===R){D=b;continue}D.push(w(T=re,pa,Up).call(T,k))}}m.push(f.nodeValue.slice(0,g).replaceAll(vp,""))}else if(f===this.editorDiv){let R=m,D=0;for(const k of this.editorDiv.childNodes)D++===g&&(R=b),R.push(w(M=re,pa,Up).call(M,k))}_(this,Wi,`${m.join(`
`)}${l}${b.join(`
`)}`),w(this,Oe,Bp).call(this);const v=new Range;let S=m.reduce((R,D)=>R+D.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const D=R.nodeValue.length;if(S<=D){v.setStart(R,S),v.setEnd(R,S);break}S-=D}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,s,r){var d;let l=null;if(i instanceof Aw){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:b,id:v,popupRef:S},textContent:E,textPosition:T,parent:{page:{pageNumber:M}}}=i;if(!E||E.length===0)return null;l=i={annotationType:Mt.FREETEXT,color:Array.from(g),fontSize:f,value:E.join(`
`),position:T,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(i,s,r);return _(c,Qi,i.fontSize),_(c,Hn,dt.makeHexColor(...i.color)),_(c,Wi,w(d=re,pa,rb).call(d,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=re._internalPadding*this.parentScale,r=this.getRect(s,s),l=Wt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Hn)),c={annotationType:Mt.FREETEXT,color:l,fontSize:u(this,Qi),value:w(this,Oe,Rw).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?c:this.annotationElementId&&!w(this,Oe,Mw).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const s=super.renderAnnotationElement(i);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${u(this,Qi)}px * var(--scale-factor))`,r.color=u(this,Hn),s.replaceChildren();for(const c of u(this,Wi).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),s.append(d)}const l=re._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:u(this,Wi)}),s}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};Hn=new WeakMap,Wi=new WeakMap,wd=new WeakMap,Dl=new WeakMap,Qi=new WeakMap,Oe=new WeakSet,xw=function(i){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-u(this,Qi))*this.parentScale),_(this,Qi,l),w(this,Oe,zp).call(this)},r=u(this,Qi);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Tw=function(i){const s=l=>{_(this,Hn,this.editorDiv.style.color=l)},r=u(this,Hn);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Cw=function(){var r;const i=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(w(r=re,pa,Up).call(r,l)),s=l);return i.join(`
`)},zp=function(){const[i,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,d=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/s):(this.width=r.height/i,this.height=r.width/s),this.fixAndSetPosition()},pa=new WeakSet,Up=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(vp,"")},Bp=function(){if(this.editorDiv.replaceChildren(),!!u(this,Wi))for(const i of u(this,Wi).split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(s)}},Rw=function(){return u(this,Wi).replaceAll(" "," ")},rb=function(i){return i.replaceAll(" "," ")},Mw=function(i){const{value:s,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==s||i.fontSize!==r||i.color.some((d,f)=>d!==l[f])||i.pageIndex!==c},C(re,pa),St(re,"_freeTextDefaultContent",""),St(re,"_internalPadding",0),St(re,"_defaultColor",null),St(re,"_defaultFontSize",10),St(re,"_type","freetext"),St(re,"_editorType",Mt.FREETEXT);let ab=re;class Lw{toSVGPath(){le("Abstract method `toSVGPath` must be implemented.")}get box(){le("Abstract getter `box` must be implemented.")}serialize(t,i){le("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){le("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){le("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Zi,zn,Nc,Pc,cs,Nt,Ol,kl,xd,Td,Fc,Hc,or,Cd,Sg,Eg,Be,gh,Dw,Ow,kw,Nw,Pw,Fw;const Us=class Us{constructor({x:t,y:i},s,r,l,c,d=0){C(this,Be);C(this,Zi);C(this,zn,[]);C(this,Nc);C(this,Pc);C(this,cs,[]);C(this,Nt,new Float64Array(18));C(this,Ol);C(this,kl);C(this,xd);C(this,Td);C(this,Fc);C(this,Hc);C(this,or,[]);_(this,Zi,s),_(this,Hc,l*r),_(this,Pc,c),u(this,Nt).set([NaN,NaN,NaN,NaN,t,i],6),_(this,Nc,d),_(this,Td,u(Us,Cd)*r),_(this,xd,u(Us,Eg)*r),_(this,Fc,r),u(this,or).push(t,i)}isEmpty(){return isNaN(u(this,Nt)[8])}add({x:t,y:i}){var tt;_(this,Ol,t),_(this,kl,i);const[s,r,l,c]=u(this,Zi);let[d,f,g,m]=u(this,Nt).subarray(8,12);const b=t-g,v=i-m,S=Math.hypot(b,v);if(S<u(this,xd))return!1;const E=S-u(this,Td),T=E/S,M=T*b,R=T*v;let D=d,k=f;d=g,f=m,g+=M,m+=R,(tt=u(this,or))==null||tt.push(t,i);const P=-R/E,z=M/E,q=P*u(this,Hc),X=z*u(this,Hc);return u(this,Nt).set(u(this,Nt).subarray(2,8),0),u(this,Nt).set([g+q,m+X],4),u(this,Nt).set(u(this,Nt).subarray(14,18),12),u(this,Nt).set([g-q,m-X],16),isNaN(u(this,Nt)[6])?(u(this,cs).length===0&&(u(this,Nt).set([d+q,f+X],2),u(this,cs).push(NaN,NaN,NaN,NaN,(d+q-s)/l,(f+X-r)/c),u(this,Nt).set([d-q,f-X],14),u(this,zn).push(NaN,NaN,NaN,NaN,(d-q-s)/l,(f-X-r)/c)),u(this,Nt).set([D,k,d,f,g,m],6),!this.isEmpty()):(u(this,Nt).set([D,k,d,f,g,m],6),Math.abs(Math.atan2(k-f,D-d)-Math.atan2(R,M))<Math.PI/2?([d,f,g,m]=u(this,Nt).subarray(2,6),u(this,cs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/l,((f+m)/2-r)/c),[d,f,D,k]=u(this,Nt).subarray(14,18),u(this,zn).push(NaN,NaN,NaN,NaN,((D+d)/2-s)/l,((k+f)/2-r)/c),!0):([D,k,d,f,g,m]=u(this,Nt).subarray(0,6),u(this,cs).push(((D+5*d)/6-s)/l,((k+5*f)/6-r)/c,((5*d+g)/6-s)/l,((5*f+m)/6-r)/c,((d+g)/2-s)/l,((f+m)/2-r)/c),[g,m,d,f,D,k]=u(this,Nt).subarray(12,18),u(this,zn).push(((D+5*d)/6-s)/l,((k+5*f)/6-r)/c,((5*d+g)/6-s)/l,((5*f+m)/6-r)/c,((d+g)/2-s)/l,((f+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,cs),i=u(this,zn);if(isNaN(u(this,Nt)[6])&&!this.isEmpty())return w(this,Be,Dw).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,Be,kw).call(this,s);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?s.push(`L${i[r+4]} ${i[r+5]}`):s.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return w(this,Be,Ow).call(this,s),s.join(" ")}newFreeDrawOutline(t,i,s,r,l,c){return new Hw(t,i,s,r,l,c)}getOutlines(){var b;const t=u(this,cs),i=u(this,zn),s=u(this,Nt),[r,l,c,d]=u(this,Zi),f=new Float64Array((((b=u(this,or))==null?void 0:b.length)??0)+2);for(let v=0,S=f.length-2;v<S;v+=2)f[v]=(u(this,or)[v]-r)/c,f[v+1]=(u(this,or)[v+1]-l)/d;if(f[f.length-2]=(u(this,Ol)-r)/c,f[f.length-1]=(u(this,kl)-l)/d,isNaN(s[6])&&!this.isEmpty())return w(this,Be,Nw).call(this,f);const g=new Float64Array(u(this,cs).length+24+u(this,zn).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,Be,Fw).call(this,g,m);for(let v=i.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(i[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=i[v+S],g[m+1]=i[v+S+1],m+=2}return w(this,Be,Pw).call(this,g,m),this.newFreeDrawOutline(g,f,u(this,Zi),u(this,Fc),u(this,Nc),u(this,Pc))}};Zi=new WeakMap,zn=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,cs=new WeakMap,Nt=new WeakMap,Ol=new WeakMap,kl=new WeakMap,xd=new WeakMap,Td=new WeakMap,Fc=new WeakMap,Hc=new WeakMap,or=new WeakMap,Cd=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,Be=new WeakSet,gh=function(){const t=u(this,Nt).subarray(4,6),i=u(this,Nt).subarray(16,18),[s,r,l,c]=u(this,Zi);return[(u(this,Ol)+(t[0]-i[0])/2-s)/l,(u(this,kl)+(t[1]-i[1])/2-r)/c,(u(this,Ol)+(i[0]-t[0])/2-s)/l,(u(this,kl)+(i[1]-t[1])/2-r)/c]},Dw=function(){const[t,i,s,r]=u(this,Zi),[l,c,d,f]=w(this,Be,gh).call(this);return`M${(u(this,Nt)[2]-t)/s} ${(u(this,Nt)[3]-i)/r} L${(u(this,Nt)[4]-t)/s} ${(u(this,Nt)[5]-i)/r} L${l} ${c} L${d} ${f} L${(u(this,Nt)[16]-t)/s} ${(u(this,Nt)[17]-i)/r} L${(u(this,Nt)[14]-t)/s} ${(u(this,Nt)[15]-i)/r} Z`},Ow=function(t){const i=u(this,zn);t.push(`L${i[4]} ${i[5]} Z`)},kw=function(t){const[i,s,r,l]=u(this,Zi),c=u(this,Nt).subarray(4,6),d=u(this,Nt).subarray(16,18),[f,g,m,b]=w(this,Be,gh).call(this);t.push(`L${(c[0]-i)/r} ${(c[1]-s)/l} L${f} ${g} L${m} ${b} L${(d[0]-i)/r} ${(d[1]-s)/l}`)},Nw=function(t){const i=u(this,Nt),[s,r,l,c]=u(this,Zi),[d,f,g,m]=w(this,Be,gh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(i[2]-s)/l,(i[3]-r)/c,NaN,NaN,NaN,NaN,(i[4]-s)/l,(i[5]-r)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(i[16]-s)/l,(i[17]-r)/c,NaN,NaN,NaN,NaN,(i[14]-s)/l,(i[15]-r)/c],0),this.newFreeDrawOutline(b,t,u(this,Zi),u(this,Fc),u(this,Nc),u(this,Pc))},Pw=function(t,i){const s=u(this,zn);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],i),i+=6},Fw=function(t,i){const s=u(this,Nt).subarray(4,6),r=u(this,Nt).subarray(16,18),[l,c,d,f]=u(this,Zi),[g,m,b,v]=w(this,Be,gh).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-c)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-c)/f],i),i+=24},C(Us,Cd,8),C(Us,Sg,2),C(Us,Eg,u(Us,Cd)+u(Us,Sg));let ng=Us;var zc,Nl,ta,Rd,Ji,Md,_e,zi,mh,yh,zw;class Hw extends Lw{constructor(i,s,r,l,c,d){super();C(this,zi);C(this,zc);C(this,Nl,null);C(this,ta);C(this,Rd);C(this,Ji);C(this,Md);C(this,_e);_(this,_e,i),_(this,Ji,s),_(this,zc,r),_(this,Md,l),_(this,ta,c),_(this,Rd,d),w(this,zi,zw).call(this,d);const{x:f,y:g,width:m,height:b}=u(this,Nl);for(let v=0,S=i.length;v<S;v+=2)i[v]=(i[v]-f)/m,i[v+1]=(i[v+1]-g)/b;for(let v=0,S=s.length;v<S;v+=2)s[v]=(s[v]-f)/m,s[v+1]=(s[v+1]-g)/b}toSVGPath(){const i=[`M${u(this,_e)[4]} ${u(this,_e)[5]}`];for(let s=6,r=u(this,_e).length;s<r;s+=6){if(isNaN(u(this,_e)[s])){i.push(`L${u(this,_e)[s+4]} ${u(this,_e)[s+5]}`);continue}i.push(`C${u(this,_e)[s]} ${u(this,_e)[s+1]} ${u(this,_e)[s+2]} ${u(this,_e)[s+3]} ${u(this,_e)[s+4]} ${u(this,_e)[s+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,s,r,l],c){const d=r-i,f=l-s;let g,m;switch(c){case 0:g=w(this,zi,mh).call(this,u(this,_e),i,l,d,-f),m=w(this,zi,mh).call(this,u(this,Ji),i,l,d,-f);break;case 90:g=w(this,zi,yh).call(this,u(this,_e),i,s,d,f),m=w(this,zi,yh).call(this,u(this,Ji),i,s,d,f);break;case 180:g=w(this,zi,mh).call(this,u(this,_e),r,s,-d,f),m=w(this,zi,mh).call(this,u(this,Ji),r,s,-d,f);break;case 270:g=w(this,zi,yh).call(this,u(this,_e),r,l,-d,-f),m=w(this,zi,yh).call(this,u(this,Ji),r,l,-d,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return u(this,Nl)}newOutliner(i,s,r,l,c,d=0){return new ng(i,s,r,l,c,d)}getNewOutline(i,s){const{x:r,y:l,width:c,height:d}=u(this,Nl),[f,g,m,b]=u(this,zc),v=c*m,S=d*b,E=r*m+f,T=l*b+g,M=this.newOutliner({x:u(this,Ji)[0]*v+E,y:u(this,Ji)[1]*S+T},u(this,zc),u(this,Md),i,u(this,Rd),s??u(this,ta));for(let R=2;R<u(this,Ji).length;R+=2)M.add({x:u(this,Ji)[R]*v+E,y:u(this,Ji)[R+1]*S+T});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}zc=new WeakMap,Nl=new WeakMap,ta=new WeakMap,Rd=new WeakMap,Ji=new WeakMap,Md=new WeakMap,_e=new WeakMap,zi=new WeakSet,mh=function(i,s,r,l,c){const d=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)d[f]=s+i[f]*l,d[f+1]=r+i[f+1]*c;return d},yh=function(i,s,r,l,c){const d=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)d[f]=s+i[f+1]*l,d[f+1]=r+i[f]*c;return d},zw=function(i){const s=u(this,_e);let r=s[4],l=s[5],c=r,d=l,f=r,g=l,m=r,b=l;const v=i?Math.max:Math.min;for(let R=6,D=s.length;R<D;R+=6){if(isNaN(s[R]))c=Math.min(c,s[R+4]),d=Math.min(d,s[R+5]),f=Math.max(f,s[R+4]),g=Math.max(g,s[R+5]),b<s[R+5]?(m=s[R+4],b=s[R+5]):b===s[R+5]&&(m=v(m,s[R+4]));else{const k=dt.bezierBoundingBox(r,l,...s.slice(R,R+6));c=Math.min(c,k[0]),d=Math.min(d,k[1]),f=Math.max(f,k[2]),g=Math.max(g,k[3]),b<k[3]?(m=k[2],b=k[3]):b===k[3]&&(m=v(m,k[2]))}r=s[R+4],l=s[R+5]}const S=c-u(this,ta),E=d-u(this,ta),T=f-c+2*u(this,ta),M=g-d+2*u(this,ta);_(this,Nl,{x:S,y:E,width:T,height:M,lastPoint:[m,b]})};var Ld,cr,Un,Ti,Uw,Ip,Bw,Iw,lb;class D_{constructor(t,i=0,s=0,r=!0){C(this,Ti);C(this,Ld);C(this,cr,[]);C(this,Un,[]);let l=1/0,c=-1/0,d=1/0,f=-1/0;const g=10**-4;for(const{x:M,y:R,width:D,height:k}of t){const P=Math.floor((M-i)/g)*g,z=Math.ceil((M+D+i)/g)*g,q=Math.floor((R-i)/g)*g,X=Math.ceil((R+k+i)/g)*g,W=[P,q,X,!0],tt=[z,q,X,!1];u(this,cr).push(W,tt),l=Math.min(l,P),c=Math.max(c,z),d=Math.min(d,q),f=Math.max(f,X)}const m=c-l+2*s,b=f-d+2*s,v=l-s,S=d-s,E=u(this,cr).at(r?-1:-2),T=[E[0],E[2]];for(const M of u(this,cr)){const[R,D,k]=M;M[0]=(R-v)/m,M[1]=(D-S)/b,M[2]=(k-S)/b}_(this,Ld,{x:v,y:S,width:m,height:b,lastPoint:T})}getOutlines(){u(this,cr).sort((i,s)=>i[0]-s[0]||i[1]-s[1]||i[2]-s[2]);const t=[];for(const i of u(this,cr))i[3]?(t.push(...w(this,Ti,lb).call(this,i)),w(this,Ti,Bw).call(this,i)):(w(this,Ti,Iw).call(this,i),t.push(...w(this,Ti,lb).call(this,i)));return w(this,Ti,Uw).call(this,t)}}Ld=new WeakMap,cr=new WeakMap,Un=new WeakMap,Ti=new WeakSet,Uw=function(t){const i=[],s=new Set;for(const c of t){const[d,f,g]=c;i.push([d,f,c],[d,g,c])}i.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=i.length;c<d;c+=2){const f=i[c][2],g=i[c+1][2];f.push(g),g.push(f),s.add(f),s.add(g)}const r=[];let l;for(;s.size>0;){const c=s.values().next().value;let[d,f,g,m,b]=c;s.delete(c);let v=d,S=f;for(l=[d,g],r.push(l);;){let E;if(s.has(m))E=m;else if(s.has(b))E=b;else break;s.delete(E),[d,f,g,m,b]=E,v!==d&&(l.push(v,S,d,S===f?f:g),v=d),S=S===f?g:f}l.push(v,S)}return new XL(r,u(this,Ld))},Ip=function(t){const i=u(this,Un);let s=0,r=i.length-1;for(;s<=r;){const l=s+r>>1,c=i[l][0];if(c===t)return l;c<t?s=l+1:r=l-1}return r+1},Bw=function([,t,i]){const s=w(this,Ti,Ip).call(this,t);u(this,Un).splice(s,0,[t,i])},Iw=function([,t,i]){const s=w(this,Ti,Ip).call(this,t);for(let r=s;r<u(this,Un).length;r++){const[l,c]=u(this,Un)[r];if(l!==t)break;if(l===t&&c===i){u(this,Un).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,c]=u(this,Un)[r];if(l!==t)break;if(l===t&&c===i){u(this,Un).splice(r,1);return}}},lb=function(t){const[i,s,r]=t,l=[[i,s,r]],c=w(this,Ti,Ip).call(this,r);for(let d=0;d<c;d++){const[f,g]=u(this,Un)[d];for(let m=0,b=l.length;m<b;m++){const[,v,S]=l[m];if(!(g<=v||S<=f)){if(v>=f){if(S>g)l[m][1]=g;else{if(b===1)return[];l.splice(m,1),m--,b--}continue}l[m][2]=f,S>g&&l.push([i,g,S])}}}return l};var Dd,Uc;class XL extends Lw{constructor(i,s){super();C(this,Dd);C(this,Uc);_(this,Uc,i),_(this,Dd,s)}toSVGPath(){const i=[];for(const s of u(this,Uc)){let[r,l]=s;i.push(`M${r} ${l}`);for(let c=2;c<s.length;c+=2){const d=s[c],f=s[c+1];d===r?(i.push(`V${f}`),l=f):f===l&&(i.push(`H${d}`),r=d)}i.push("Z")}return i.join(" ")}serialize([i,s,r,l],c){const d=[],f=r-i,g=l-s;for(const m of u(this,Uc)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=i+m[v]*f,b[v+1]=l-m[v+1]*g;d.push(b)}return d}get box(){return u(this,Dd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Dd=new WeakMap,Uc=new WeakMap;class ob extends ng{newFreeDrawOutline(t,i,s,r,l,c){return new YL(t,i,s,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class YL extends Hw{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,i,s,r,l,c=0){return new ob(t,i,s,r,l,c)}}var Bn,Pl,Bc,He,Od,Ic,kd,Nd,ur,In,jc,Pd,ee,cb,ub,hb,Vr,jw,ja;const ki=class ki{constructor({editor:t=null,uiManager:i=null}){C(this,ee);C(this,Bn,null);C(this,Pl,null);C(this,Bc);C(this,He,null);C(this,Od,!1);C(this,Ic,!1);C(this,kd,null);C(this,Nd);C(this,ur,null);C(this,In,null);C(this,jc);var s;t?(_(this,Ic,!1),_(this,jc,Et.HIGHLIGHT_COLOR),_(this,kd,t)):(_(this,Ic,!0),_(this,jc,Et.HIGHLIGHT_DEFAULT_COLOR)),_(this,In,(t==null?void 0:t._uiManager)||i),_(this,Nd,u(this,In)._eventBus),_(this,Bc,(t==null?void 0:t.color)||((s=u(this,In))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(ki,Pd)||_(ki,Pd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ut(this,"_keyboardManager",new Xd([[["Escape","mac+Escape"],ki.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ki.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ki.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ki.prototype._moveToPrevious],[["Home","mac+Home"],ki.prototype._moveToBeginning],[["End","mac+End"],ki.prototype._moveToEnd]]))}renderButton(){const t=_(this,Bn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const i=u(this,In)._signal;t.addEventListener("click",w(this,ee,Vr).bind(this),{signal:i}),t.addEventListener("keydown",w(this,ee,hb).bind(this),{signal:i});const s=_(this,Pl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=u(this,Bc),t.append(s),t}renderMainDropdown(){const t=_(this,He,w(this,ee,cb).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Bn)){w(this,ee,Vr).call(this,t);return}const i=t.target.getAttribute("data-color");i&&w(this,ee,ub).call(this,i,t)}_moveToNext(t){var i,s;if(!u(this,ee,ja)){w(this,ee,Vr).call(this,t);return}if(t.target===u(this,Bn)){(i=u(this,He).firstChild)==null||i.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var i,s;if(t.target===((i=u(this,He))==null?void 0:i.firstChild)||t.target===u(this,Bn)){u(this,ee,ja)&&this._hideDropdownFromKeyboard();return}u(this,ee,ja)||w(this,ee,Vr).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var i;if(!u(this,ee,ja)){w(this,ee,Vr).call(this,t);return}(i=u(this,He).firstChild)==null||i.focus()}_moveToEnd(t){var i;if(!u(this,ee,ja)){w(this,ee,Vr).call(this,t);return}(i=u(this,He).lastChild)==null||i.focus()}hideDropdown(){var t,i;(t=u(this,He))==null||t.classList.add("hidden"),(i=u(this,ur))==null||i.abort(),_(this,ur,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,Ic)){if(!u(this,ee,ja)){(t=u(this,kd))==null||t.unselect();return}this.hideDropdown(),u(this,Bn).focus({preventScroll:!0,focusVisible:u(this,Od)})}}updateColor(t){if(u(this,Pl)&&(u(this,Pl).style.backgroundColor=t),!u(this,He))return;const i=u(this,In).highlightColors.values();for(const s of u(this,He).children)s.setAttribute("aria-selected",i.next().value===t)}destroy(){var t,i;(t=u(this,Bn))==null||t.remove(),_(this,Bn,null),_(this,Pl,null),(i=u(this,He))==null||i.remove(),_(this,He,null)}};Bn=new WeakMap,Pl=new WeakMap,Bc=new WeakMap,He=new WeakMap,Od=new WeakMap,Ic=new WeakMap,kd=new WeakMap,Nd=new WeakMap,ur=new WeakMap,In=new WeakMap,jc=new WeakMap,Pd=new WeakMap,ee=new WeakSet,cb=function(){const t=document.createElement("div"),i=u(this,In)._signal;t.addEventListener("contextmenu",wn,{signal:i}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of u(this,In).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",u(ki,Pd)[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===u(this,Bc)),l.addEventListener("click",w(this,ee,ub).bind(this,r),{signal:i}),t.append(l)}return t.addEventListener("keydown",w(this,ee,hb).bind(this),{signal:i}),t},ub=function(t,i){i.stopPropagation(),u(this,Nd).dispatch("switchannotationeditorparams",{source:this,type:u(this,jc),value:t})},hb=function(t){ki._keyboardManager.exec(this,t)},Vr=function(t){if(u(this,ee,ja)){this.hideDropdown();return}if(_(this,Od,t.detail===0),u(this,ur)||(_(this,ur,new AbortController),window.addEventListener("pointerdown",w(this,ee,jw).bind(this),{signal:u(this,In).combinedSignal(u(this,ur))})),u(this,He)){u(this,He).classList.remove("hidden");return}const i=_(this,He,w(this,ee,cb).call(this));u(this,Bn).append(i)},jw=function(t){var i;(i=u(this,He))!=null&&i.contains(t.target)||this.hideDropdown()},ja=function(){return u(this,He)&&!u(this,He).classList.contains("hidden")},C(ki,Pd,null);let sg=ki;var Gc,Fd,ea,Fl,qc,vn,Hd,zd,Hl,jn,gi,Fi,Vc,ia,ze,Xc,bn,Ud,Ct,db,jp,Gw,qw,Vw,fb,Xr,En,Ko,Xw,Gp,vh,Yw,Kw,$w,Ww,Qw;const Gt=class Gt extends Wt{constructor(i){super({...i,name:"highlightEditor"});C(this,Ct);C(this,Gc,null);C(this,Fd,0);C(this,ea);C(this,Fl,null);C(this,qc,null);C(this,vn,null);C(this,Hd,null);C(this,zd,0);C(this,Hl,null);C(this,jn,null);C(this,gi,null);C(this,Fi,!1);C(this,Vc,null);C(this,ia);C(this,ze,null);C(this,Xc,"");C(this,bn);C(this,Ud,"");this.color=i.color||Gt._defaultColor,_(this,bn,i.thickness||Gt._defaultThickness),_(this,ia,i.opacity||Gt._defaultOpacity),_(this,ea,i.boxes||null),_(this,Ud,i.methodOfCreation||""),_(this,Xc,i.text||""),this._isDraggable=!1,i.highlightId>-1?(_(this,Fi,!0),w(this,Ct,jp).call(this,i),w(this,Ct,Xr).call(this)):u(this,ea)&&(_(this,Gc,i.anchorNode),_(this,Fd,i.anchorOffset),_(this,Hd,i.focusNode),_(this,zd,i.focusOffset),w(this,Ct,db).call(this),w(this,Ct,Xr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Gt.prototype;return Ut(this,"_keyboardManager",new Xd([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Fi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,bn),methodOfCreation:u(this,Ud)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,s){var r;Wt.initialize(i,s),Gt._defaultColor||(Gt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,s){switch(i){case Et.HIGHLIGHT_DEFAULT_COLOR:Gt._defaultColor=s;break;case Et.HIGHLIGHT_THICKNESS:Gt._defaultThickness=s;break}}translateInPage(i,s){}get toolbarPosition(){return u(this,Vc)}updateParams(i,s){switch(i){case Et.HIGHLIGHT_COLOR:w(this,Ct,Gw).call(this,s);break;case Et.HIGHLIGHT_THICKNESS:w(this,Ct,qw).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.HIGHLIGHT_DEFAULT_COLOR,Gt._defaultColor],[Et.HIGHLIGHT_THICKNESS,Gt._defaultThickness]]}get propertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,this.color||Gt._defaultColor],[Et.HIGHLIGHT_THICKNESS,u(this,bn)||Gt._defaultThickness],[Et.HIGHLIGHT_FREE,u(this,Fi)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(_(this,qc,new sg({editor:this})),i.addColorPicker(u(this,qc))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Ct,vh).call(this))}getBaseTranslation(){return[0,0]}getRect(i,s){return super.getRect(i,s,w(this,Ct,vh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Ct,fb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Ct,Xr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let s=!1;this.parent&&!i?w(this,Ct,fb).call(this):i&&(w(this,Ct,Xr).call(this,i),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),s&&this.select()}rotate(i){var l,c,d;const{drawLayer:s}=this.parent;let r;u(this,Fi)?(i=(i-this.rotation+360)%360,r=w(l=Gt,En,Ko).call(l,u(this,jn).box,i)):r=w(c=Gt,En,Ko).call(c,this,i),s.rotate(u(this,gi),i),s.rotate(u(this,ze),i),s.updateBox(u(this,gi),r),s.updateBox(u(this,ze),w(d=Gt,En,Ko).call(d,u(this,vn).box,i))}render(){if(this.div)return this.div;const i=super.render();u(this,Xc)&&(i.setAttribute("aria-label",u(this,Xc)),i.setAttribute("role","mark")),u(this,Fi)?i.classList.add("free"):this.div.addEventListener("keydown",w(this,Ct,Xw).bind(this),{signal:this._uiManager._signal});const s=_(this,Hl,document.createElement("div"));i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,Fl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),eg(this,u(this,Hl),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,ze),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,ze),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:w(this,Ct,Gp).call(this,!0);break;case 1:case 3:w(this,Ct,Gp).call(this,!1);break}}select(){var i,s;super.select(),u(this,ze)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,ze),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(u(this,ze),"selected"))}unselect(){var i;super.unselect(),u(this,ze)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,ze),"selected"),u(this,Fi)||w(this,Ct,Gp).call(this,!1))}get _mustFixPosition(){return!u(this,Fi)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(u(this,gi),i),this.parent.drawLayer.show(u(this,ze),i))}static startHighlighting(i,s,{target:r,x:l,y:c}){const{x:d,y:f,width:g,height:m}=r.getBoundingClientRect(),b=new AbortController,v=i.combinedSignal(b),S=T=>{T.preventDefault(),T.stopPropagation()},E=T=>{b.abort(),w(this,En,Ww).call(this,i,T)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",wn,{signal:v}),r.addEventListener("pointermove",w(this,En,$w).bind(this,i),{signal:v}),this._freeHighlight=new ob({x:l,y:c},[d,f,g,m],i.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,s,r){var T,M,R,D;let l=null;if(i instanceof Ew){const{data:{quadPoints:k,rect:P,rotation:z,id:q,color:X,opacity:W,popupRef:tt},parent:{page:{pageNumber:st}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),opacity:W,quadPoints:k,boxes:null,pageIndex:st-1,rect:P.slice(0),rotation:z,id:q,deleted:!1,popupRef:tt}}else if(i instanceof Jb){const{data:{inkLists:k,rect:P,rotation:z,id:q,color:X,borderStyle:{rawWidth:W},popupRef:tt},parent:{page:{pageNumber:st}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),thickness:W,inkLists:k,boxes:null,pageIndex:st-1,rect:P.slice(0),rotation:z,id:q,deleted:!1,popupRef:tt}}const{color:c,quadPoints:d,inkLists:f,opacity:g}=i,m=await super.deserialize(i,s,r);m.color=dt.makeHexColor(...c),_(m,ia,g||1),f&&_(m,bn,i.thickness),m.annotationElementId=i.id||null,m._initialData=l;const[b,v]=m.pageDimensions,[S,E]=m.pageTranslation;if(d){const k=_(m,ea,[]);for(let P=0;P<d.length;P+=8)k.push({x:(d[P]-S)/b,y:1-(d[P+1]-E)/v,width:(d[P+2]-d[P])/b,height:(d[P+1]-d[P+5])/v});w(T=m,Ct,db).call(T),w(M=m,Ct,Xr).call(M),m.rotate(m.rotation)}else if(f){_(m,Fi,!0);const k=f[0],P={x:k[0]-S,y:v-(k[1]-E)},z=new ob(P,[0,0,b,v],1,u(m,bn)/2,!0,.001);for(let W=0,tt=k.length;W<tt;W+=2)P.x=k[W]-S,P.y=v-(k[W+1]-E),z.add(P);const{id:q,clipPathId:X}=s.drawLayer.draw(z,m.color,m._defaultOpacity,!0);w(R=m,Ct,jp).call(R,{highlightOutlines:z.getOutlines(),highlightId:q,clipPathId:X}),w(D=m,Ct,Xr).call(D)}return m}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Wt._colorManager.convert(this.color),l={annotationType:Mt.HIGHLIGHT,color:r,opacity:u(this,ia),thickness:u(this,bn),quadPoints:w(this,Ct,Yw).call(this),outlines:w(this,Ct,Kw).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:w(this,Ct,vh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Ct,Qw).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Gc=new WeakMap,Fd=new WeakMap,ea=new WeakMap,Fl=new WeakMap,qc=new WeakMap,vn=new WeakMap,Hd=new WeakMap,zd=new WeakMap,Hl=new WeakMap,jn=new WeakMap,gi=new WeakMap,Fi=new WeakMap,Vc=new WeakMap,ia=new WeakMap,ze=new WeakMap,Xc=new WeakMap,bn=new WeakMap,Ud=new WeakMap,Ct=new WeakSet,db=function(){const i=new D_(u(this,ea),.001);_(this,jn,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,jn).box;const s=new D_(u(this,ea),.0025,.001,this._uiManager.direction==="ltr");_(this,vn,s.getOutlines());const{lastPoint:r}=u(this,vn).box;_(this,Vc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},jp=function({highlightOutlines:i,highlightId:s,clipPathId:r}){var b,v;if(_(this,jn,i),_(this,vn,i.getNewOutline(u(this,bn)/2+1.5,.0025)),s>=0)_(this,gi,s),_(this,Fl,r),this.parent.drawLayer.finalizeLine(s,i),_(this,ze,this.parent.drawLayer.drawOutline(u(this,vn)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,gi),i),this.parent.drawLayer.updateBox(u(this,gi),w(b=Gt,En,Ko).call(b,u(this,jn).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,ze),u(this,vn)),this.parent.drawLayer.updateBox(u(this,ze),w(v=Gt,En,Ko).call(v,u(this,vn).box,S))}const{x:c,y:d,width:f,height:g}=i.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=f,this.height=g;break;case 90:{const[S,E]=this.parentDimensions;this.x=d,this.y=1-c,this.width=f*E/S,this.height=g*S/E;break}case 180:this.x=1-c,this.y=1-d,this.width=f,this.height=g;break;case 270:{const[S,E]=this.parentDimensions;this.x=1-d,this.y=c,this.width=f*E/S,this.height=g*S/E;break}}const{lastPoint:m}=u(this,vn).box;_(this,Vc,[(m[0]-c)/f,(m[1]-d)/g])},Gw=function(i){const s=(c,d)=>{var f,g,m;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(u(this,gi),c),(g=u(this,qc))==null||g.updateColor(c),_(this,ia,d),(m=this.parent)==null||m.drawLayer.changeOpacity(u(this,gi),d)},r=this.color,l=u(this,ia);this.addCommands({cmd:s.bind(this,i,Gt._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},qw=function(i){const s=u(this,bn),r=l=>{_(this,bn,l),w(this,Ct,Vw).call(this,l)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},Vw=function(i){if(!u(this,Fi))return;w(this,Ct,jp).call(this,{highlightOutlines:u(this,jn).getNewOutline(i/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},fb=function(){u(this,gi)===null||!this.parent||(this.parent.drawLayer.remove(u(this,gi)),_(this,gi,null),this.parent.drawLayer.remove(u(this,ze)),_(this,ze,null))},Xr=function(i=this.parent){u(this,gi)===null&&({id:Ai(this,gi)._,clipPathId:Ai(this,Fl)._}=i.drawLayer.draw(u(this,jn),this.color,u(this,ia)),_(this,ze,i.drawLayer.drawOutline(u(this,vn))),u(this,Hl)&&(u(this,Hl).style.clipPath=u(this,Fl)))},En=new WeakSet,Ko=function({x:i,y:s,width:r,height:l},c){switch(c){case 90:return{x:1-s-l,y:i,width:l,height:r};case 180:return{x:1-i-r,y:1-s-l,width:r,height:l};case 270:return{x:s,y:1-i-r,width:l,height:r}}return{x:i,y:s,width:r,height:l}},Xw=function(i){Gt._keyboardManager.exec(this,i)},Gp=function(i){if(!u(this,Gc))return;const s=window.getSelection();i?s.setPosition(u(this,Gc),u(this,Fd)):s.setPosition(u(this,Hd),u(this,zd))},vh=function(){return u(this,Fi)?this.rotation:0},Yw=function(){if(u(this,Fi))return null;const[i,s]=this.pageDimensions,[r,l]=this.pageTranslation,c=u(this,ea),d=new Float32Array(c.length*8);let f=0;for(const{x:g,y:m,width:b,height:v}of c){const S=g*i+r,E=(1-m-v)*s+l;d[f]=d[f+4]=S,d[f+1]=d[f+3]=E,d[f+2]=d[f+6]=S+b*i,d[f+5]=d[f+7]=E+v*s,f+=8}return d},Kw=function(i){return u(this,jn).serialize(i,w(this,Ct,vh).call(this))},$w=function(i,s){this._freeHighlight.add(s)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Ww=function(i,s){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Qw=function(i){const{color:s}=this._initialData;return i.color.some((r,l)=>r!==s[l])},C(Gt,En),St(Gt,"_defaultColor",null),St(Gt,"_defaultOpacity",1),St(Gt,"_defaultThickness",12),St(Gt,"_type","highlight"),St(Gt,"_editorType",Mt.HIGHLIGHT),St(Gt,"_freeHighlightId",-1),St(Gt,"_freeHighlight",null),St(Gt,"_freeHighlightClipId","");let ag=Gt;var zl,Ul,us,na,An,Bl,Il,jl,sa,Yc,Gl,ql,hr,it,Zw,Jw,tx,ex,gb,ix,mb,nx,sx,ax,rx,lx,Yr,yb,vb,bb,qp,Vp,$o,Ab,Xp,ya,ox,Sb,cx,ux,Eb,Yp,bh;const de=class de extends Wt{constructor(i){super({...i,name:"inkEditor"});C(this,it);C(this,zl,0);C(this,Ul,0);C(this,us,null);C(this,na,new Path2D);C(this,An,!1);C(this,Bl,null);C(this,Il,!1);C(this,jl,!1);C(this,sa,null);C(this,Yc,null);C(this,Gl,0);C(this,ql,0);C(this,hr,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,s){Wt.initialize(i,s)}static updateDefaultParams(i,s){switch(i){case Et.INK_THICKNESS:de._defaultThickness=s;break;case Et.INK_COLOR:de._defaultColor=s;break;case Et.INK_OPACITY:de._defaultOpacity=s/100;break}}updateParams(i,s){switch(i){case Et.INK_THICKNESS:w(this,it,Zw).call(this,s);break;case Et.INK_COLOR:w(this,it,Jw).call(this,s);break;case Et.INK_OPACITY:w(this,it,tx).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.INK_THICKNESS,de._defaultThickness],[Et.INK_COLOR,de._defaultColor||Wt._defaultLineColor],[Et.INK_OPACITY,Math.round(de._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Et.INK_THICKNESS,this.thickness||de._defaultThickness],[Et.INK_COLOR,this.color||de._defaultColor||Wt._defaultLineColor],[Et.INK_OPACITY,Math.round(100*(this.opacity??de._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,it,qp).call(this),w(this,it,Vp).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,it,$o).call(this)),w(this,it,bh).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,us)&&(clearTimeout(u(this,us)),_(this,us,null)),(i=u(this,sa))==null||i.disconnect(),_(this,sa,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,s]=this.parentDimensions,r=this.width*i,l=this.height*s;this.setDimensions(r,l)}enableEditMode(){u(this,An)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,it,yb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,it,vb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,An)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,An,!0),this.div.classList.add("disabled"),w(this,it,bh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||u(this,An)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,it,ix).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),w(this,it,mb).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),w(this,it,bb).call(this,i)}canvasPointerleave(i){w(this,it,bb).call(this,i)}get isResizable(){return!this.isEmpty()&&u(this,An)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,d]=w(this,it,ex).call(this);if(this.setAt(r,l,0,0),this.setDims(c,d),w(this,it,qp).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(i*f,s*g,this.width*f,this.height*g),_(this,jl,!0),w(this,it,$o).call(this),this.setDims(this.width*f,this.height*g),w(this,it,Yr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,it,Vp).call(this),this.div}setDimensions(i,s){const r=Math.round(i),l=Math.round(s);if(u(this,Gl)===r&&u(this,ql)===l)return;_(this,Gl,r),_(this,ql,l),this.canvas.style.visibility="hidden";const[c,d]=this.parentDimensions;this.width=i/c,this.height=s/d,this.fixAndSetPosition(),u(this,An)&&w(this,it,Ab).call(this,i,s),w(this,it,$o).call(this),w(this,it,Yr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,s,r){var M,R,D;if(i instanceof Jb)return null;const l=await super.deserialize(i,s,r);l.thickness=i.thickness,l.color=dt.makeHexColor(...i.color),l.opacity=i.opacity;const[c,d]=l.pageDimensions,f=l.width*c,g=l.height*d,m=l.parentScale,b=i.thickness/2;_(l,An,!0),_(l,Gl,Math.round(f)),_(l,ql,Math.round(g));const{paths:v,rect:S,rotation:E}=i;for(let{bezier:k}of v){k=w(M=de,ya,cx).call(M,k,S,E);const P=[];l.paths.push(P);let z=m*(k[0]-b),q=m*(k[1]-b);for(let W=2,tt=k.length;W<tt;W+=6){const st=m*(k[W]-b),nt=m*(k[W+1]-b),gt=m*(k[W+2]-b),yt=m*(k[W+3]-b),ft=m*(k[W+4]-b),ht=m*(k[W+5]-b);P.push([[z,q],[st,nt],[gt,yt],[ft,ht]]),z=ft,q=ht}const X=w(this,ya,ox).call(this,P);l.bezierPath2D.push(X)}const T=w(R=l,it,Eb).call(R);return _(l,Ul,Math.max(Wt.MIN_SIZE,T[2]-T[0])),_(l,zl,Math.max(Wt.MIN_SIZE,T[3]-T[1])),w(D=l,it,Ab).call(D,f,g),l}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),s=Wt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Mt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:w(this,it,ux).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};zl=new WeakMap,Ul=new WeakMap,us=new WeakMap,na=new WeakMap,An=new WeakMap,Bl=new WeakMap,Il=new WeakMap,jl=new WeakMap,sa=new WeakMap,Yc=new WeakMap,Gl=new WeakMap,ql=new WeakMap,hr=new WeakMap,it=new WeakSet,Zw=function(i){const s=l=>{this.thickness=l,w(this,it,bh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Jw=function(i){const s=l=>{this.color=l,w(this,it,Yr).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tx=function(i){const s=l=>{this.opacity=l,w(this,it,Yr).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ex=function(){const{parentRotation:i,parentDimensions:[s,r]}=this;switch(i){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},gb=function(){const{ctx:i,color:s,opacity:r,thickness:l,parentScale:c,scaleFactor:d}=this;i.lineWidth=l*c/d,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${s}${g2(r)}`},ix=function(i,s){this.canvas.addEventListener("contextmenu",wn,{signal:this._uiManager._signal}),w(this,it,vb).call(this),_(this,Bl,new AbortController);const r=this._uiManager.combinedSignal(u(this,Bl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,jl)||(_(this,jl,!0),w(this,it,$o).call(this),this.thickness||(this.thickness=de._defaultThickness),this.color||(this.color=de._defaultColor||Wt._defaultLineColor),this.opacity??(this.opacity=de._defaultOpacity)),this.currentPath.push([i,s]),_(this,Il,!1),w(this,it,gb).call(this),_(this,hr,()=>{w(this,it,ax).call(this),u(this,hr)&&window.requestAnimationFrame(u(this,hr))}),window.requestAnimationFrame(u(this,hr))},mb=function(i,s){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&s===l)return;const c=this.currentPath;let d=u(this,na);if(c.push([i,s]),_(this,Il,!0),c.length<=2){d.moveTo(...c[0]),d.lineTo(i,s);return}c.length===3&&(_(this,na,d=new Path2D),d.moveTo(...c[0])),w(this,it,rx).call(this,d,...c.at(-3),...c.at(-2),i,s)},nx=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);u(this,na).lineTo(...i)},sx=function(i,s){_(this,hr,null),i=Math.min(Math.max(i,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),w(this,it,mb).call(this,i,s),w(this,it,nx).call(this);let r;if(this.currentPath.length!==1)r=w(this,it,lx).call(this);else{const g=[i,s];r=[[g,g.slice(),g.slice(),g]]}const l=u(this,na),c=this.currentPath;this.currentPath=[],_(this,na,new Path2D);const d=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,it,qp).call(this),w(this,it,Vp).call(this)),w(this,it,bh).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},ax=function(){if(!u(this,Il))return;_(this,Il,!1);const i=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),l=s.map(d=>d[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...l)-i,Math.max(...l)+i;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)c.stroke(d);c.stroke(u(this,na)),c.restore()},rx=function(i,s,r,l,c,d,f){const g=(s+l)/2,m=(r+c)/2,b=(l+d)/2,v=(c+f)/2;i.bezierCurveTo(g+2*(l-g)/3,m+2*(c-m)/3,b+2*(l-b)/3,v+2*(c-v)/3,b,v)},lx=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const s=[];let r,[l,c]=i[0];for(r=1;r<i.length-2;r++){const[S,E]=i[r],[T,M]=i[r+1],R=(S+T)/2,D=(E+M)/2,k=[l+2*(S-l)/3,c+2*(E-c)/3],P=[R+2*(S-R)/3,D+2*(E-D)/3];s.push([[l,c],k,P,[R,D]]),[l,c]=[R,D]}const[d,f]=i[r],[g,m]=i[r+1],b=[l+2*(d-l)/3,c+2*(f-c)/3],v=[g+2*(d-g)/3,m+2*(f-m)/3];return s.push([[l,c],b,v,[g,m]]),s},Yr=function(){if(this.isEmpty()){w(this,it,Xp).call(this);return}w(this,it,gb).call(this);const{canvas:i,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,i.width,i.height),w(this,it,Xp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},yb=function(){if(u(this,Yc))return;_(this,Yc,new AbortController);const i=this._uiManager.combinedSignal(u(this,Yc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},vb=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},bb=function(i){var s;(s=u(this,Bl))==null||s.abort(),_(this,Bl,null),w(this,it,yb).call(this),u(this,us)&&clearTimeout(u(this,us)),_(this,us,setTimeout(()=>{_(this,us,null),this.canvas.removeEventListener("contextmenu",wn)},10)),w(this,it,sx).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},qp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vp=function(){_(this,sa,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),u(this,sa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,sa))==null||i.disconnect(),_(this,sa,null)},{once:!0})},$o=function(){if(!u(this,jl))return;const[i,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*s),w(this,it,Xp).call(this)},Ab=function(i,s){const r=w(this,it,Yp).call(this),l=(i-r)/u(this,Ul),c=(s-r)/u(this,zl);this.scaleFactor=Math.min(l,c)},Xp=function(){const i=w(this,it,Yp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},ya=new WeakSet,ox=function(i){const s=new Path2D;for(let r=0,l=i.length;r<l;r++){const[c,d,f,g]=i[r];r===0&&s.moveTo(...c),s.bezierCurveTo(d[0],d[1],f[0],f[1],g[0],g[1])}return s},Sb=function(i,s,r){const[l,c,d,f]=s;switch(r){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]+=l,i[g+1]=f-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const b=i[g];i[g]=i[g+1]+l,i[g+1]=b+c}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=d-i[g],i[g+1]+=c;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const b=i[g];i[g]=d-i[g+1],i[g+1]=f-b}break;default:throw new Error("Invalid rotation")}return i},cx=function(i,s,r){const[l,c,d,f]=s;switch(r){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]-=l,i[g+1]=f-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const b=i[g];i[g]=i[g+1]-c,i[g+1]=b-l}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=d-i[g],i[g+1]-=c;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const b=i[g];i[g]=f-i[g+1],i[g+1]=d-b}break;default:throw new Error("Invalid rotation")}return i},ux=function(i,s,r,l){var m,b;const c=[],d=this.thickness/2,f=i*s+d,g=i*r+d;for(const v of this.paths){const S=[],E=[];for(let T=0,M=v.length;T<M;T++){const[R,D,k,P]=v[T];if(R[0]===P[0]&&R[1]===P[1]&&M===1){const yt=i*R[0]+f,ft=i*R[1]+g;S.push(yt,ft),E.push(yt,ft);break}const z=i*R[0]+f,q=i*R[1]+g,X=i*D[0]+f,W=i*D[1]+g,tt=i*k[0]+f,st=i*k[1]+g,nt=i*P[0]+f,gt=i*P[1]+g;T===0&&(S.push(z,q),E.push(z,q)),S.push(X,W,tt,st,nt,gt),E.push(X,W),T===M-1&&E.push(nt,gt)}c.push({bezier:w(m=de,ya,Sb).call(m,S,l,this.rotation),points:w(b=de,ya,Sb).call(b,E,l,this.rotation)})}return c},Eb=function(){let i=1/0,s=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[d,f,g,m]of c){const b=dt.bezierBoundingBox(...d,...f,...g,...m);i=Math.min(i,b[0]),r=Math.min(r,b[1]),s=Math.max(s,b[2]),l=Math.max(l,b[3])}return[i,r,s,l]},Yp=function(){return u(this,An)?Math.ceil(this.thickness*this.parentScale):0},bh=function(i=!1){if(this.isEmpty())return;if(!u(this,An)){w(this,it,Yr).call(this);return}const s=w(this,it,Eb).call(this),r=w(this,it,Yp).call(this);_(this,Ul,Math.max(Wt.MIN_SIZE,s[2]-s[0])),_(this,zl,Math.max(Wt.MIN_SIZE,s[3]-s[1]));const l=Math.ceil(r+u(this,Ul)*this.scaleFactor),c=Math.ceil(r+u(this,zl)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=l/d,this.height=c/f,this.setAspectRatio(l,c);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],w(this,it,$o).call(this),w(this,it,Yr).call(this),_(this,Gl,l),_(this,ql,c),this.setDims(l,c);const b=i?r/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},C(de,ya),St(de,"_defaultColor",null),St(de,"_defaultOpacity",1),St(de,"_defaultThickness",1),St(de,"_type","ink"),St(de,"_editorType",Mt.INK);let pb=de;var pe,ri,dr,aa,fr,Kc,hs,ra,ds,tn,$c,Ht,Ah,Sh,Kp,wb,hx,$p,xb,Wp,dx,fx;const wh=class wh extends Wt{constructor(i){super({...i,name:"stampEditor"});C(this,Ht);C(this,pe,null);C(this,ri,null);C(this,dr,null);C(this,aa,null);C(this,fr,null);C(this,Kc,"");C(this,hs,null);C(this,ra,null);C(this,ds,null);C(this,tn,!1);C(this,$c,!1);_(this,aa,i.bitmapUrl),_(this,fr,i.bitmapFile)}static initialize(i,s){Wt.initialize(i,s)}static get supportedTypes(){return Ut(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ut(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,s){s.pasteEditor(Mt.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const s=i.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(i=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:d}=i||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:d,channels:l.length/(c*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var i,s;u(this,ri)&&(_(this,pe,null),this._uiManager.imageManager.deleteId(u(this,ri)),(i=u(this,hs))==null||i.remove(),_(this,hs,null),(s=u(this,ra))==null||s.disconnect(),_(this,ra,null),u(this,ds)&&(clearTimeout(u(this,ds)),_(this,ds,null))),super.remove()}rebuild(){if(!this.parent){u(this,ri)&&w(this,Ht,Kp).call(this);return}super.rebuild(),this.div!==null&&(u(this,ri)&&u(this,hs)===null&&w(this,Ht,Kp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,dr)||u(this,pe)||u(this,aa)||u(this,fr)||u(this,ri))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,s;if(this.width&&(i=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,pe)?w(this,Ht,wb).call(this):w(this,Ht,Kp).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(i*r,s*l,this.width*r,this.height*l)}return this.div}copyCanvas(i,s,r=!1){var S;i||(i=224);const{width:l,height:c}=u(this,pe),d=new bv;let f=u(this,pe),g=l,m=c,b=null;if(s){if(l>s||c>s){const W=Math.min(s/l,s/c);g=Math.floor(l*W),m=Math.floor(c*W)}b=document.createElement("canvas");const E=b.width=Math.ceil(g*d.sx),T=b.height=Math.ceil(m*d.sy);u(this,tn)||(f=w(this,Ht,$p).call(this,E,T));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let R="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",D="#42414d");const k=15,P=k*d.sx,z=k*d.sy,q=new OffscreenCanvas(P*2,z*2),X=q.getContext("2d");X.fillStyle=R,X.fillRect(0,0,P*2,z*2),X.fillStyle=D,X.fillRect(0,0,P,z),X.fillRect(P,z,P,z),M.fillStyle=M.createPattern(q,"repeat"),M.fillRect(0,0,E,T),M.drawImage(f,0,0,f.width,f.height,0,0,E,T)}let v=null;if(r){let E,T;if(d.symmetric&&f.width<i&&f.height<i)E=f.width,T=f.height;else if(f=u(this,pe),l>i||c>i){const D=Math.min(i/l,i/c);E=Math.floor(l*D),T=Math.floor(c*D),u(this,tn)||(f=w(this,Ht,$p).call(this,E,T))}const R=new OffscreenCanvas(E,T).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,E,T),v={width:E,height:T,data:R.getImageData(0,0,E,T).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return u(this,hs)}static async deserialize(i,s,r){var T;let l=null;if(i instanceof _w){const{data:{rect:M,rotation:R,id:D,structParent:k,popupRef:P},container:z,parent:{page:{pageNumber:q}}}=i,X=z.querySelector("canvas"),W=r.imageManager.getFromCanvas(z.id,X);X.remove();const tt=((T=await s._structTree.getAriaAttributes(`${jb}${D}`))==null?void 0:T.get("aria-label"))||"";l=i={annotationType:Mt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:q-1,rect:M.slice(0),rotation:R,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:k,popupRef:P}}const c=await super.deserialize(i,s,r),{rect:d,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=i;m&&r.imageManager.isValidId(m)?(_(c,ri,m),f&&_(c,pe,f)):_(c,aa,g),_(c,tn,b);const[S,E]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/E,c.annotationElementId=i.id||null,v&&(c.altTextData=v),c._initialData=l,_(c,$c,!!l),c}serialize(i=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:u(this,ri),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,tn),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=w(this,Ht,Wp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=w(this,Ht,fx).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=u(this,tn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(u(this,ri)))s.stamps.set(u(this,ri),{area:d,serialized:r}),r.bitmap=w(this,Ht,Wp).call(this,!1);else if(u(this,tn)){const f=s.stamps.get(u(this,ri));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=w(this,Ht,Wp).call(this,!1))}return r}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};pe=new WeakMap,ri=new WeakMap,dr=new WeakMap,aa=new WeakMap,fr=new WeakMap,Kc=new WeakMap,hs=new WeakMap,ra=new WeakMap,ds=new WeakMap,tn=new WeakMap,$c=new WeakMap,Ht=new WeakSet,Ah=function(i,s=!1){if(!i){this.remove();return}_(this,pe,i.bitmap),s||(_(this,ri,i.id),_(this,tn,i.isSvg)),i.file&&_(this,Kc,i.file.name),w(this,Ht,wb).call(this)},Sh=function(){if(_(this,dr,null),this._uiManager.enableWaiting(!1),!!u(this,hs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Kp=function(){if(u(this,ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,ri)).then(r=>w(this,Ht,Ah).call(this,r,!0)).finally(()=>w(this,Ht,Sh).call(this));return}if(u(this,aa)){const r=u(this,aa);_(this,aa,null),this._uiManager.enableWaiting(!0),_(this,dr,this._uiManager.imageManager.getFromUrl(r).then(l=>w(this,Ht,Ah).call(this,l)).finally(()=>w(this,Ht,Sh).call(this)));return}if(u(this,fr)){const r=u(this,fr);_(this,fr,null),this._uiManager.enableWaiting(!0),_(this,dr,this._uiManager.imageManager.getFromFile(r).then(l=>w(this,Ht,Ah).call(this,l)).finally(()=>w(this,Ht,Sh).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=wh.supportedTypesStr;const s=this._uiManager._signal;_(this,dr,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,Ht,Ah).call(this,l)}r()},{signal:s}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>w(this,Ht,Sh).call(this))),i.click()},wb=function(){const{div:i}=this;let{width:s,height:r}=u(this,pe);const[l,c]=this.pageDimensions,d=.75;if(this.width)s=this.width*l,r=this.height*c;else if(s>d*l||r>d*c){const b=Math.min(d*l/s,d*c/r);s*=b,r*=b}const[f,g]=this.parentDimensions;this.setDims(s*f/l,r*g/c),this._uiManager.enableWaiting(!1);const m=_(this,hs,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),w(this,Ht,xb).call(this,s,r),w(this,Ht,dx).call(this),u(this,$c)||(this.parent.addUndoableEditor(this),_(this,$c,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Kc)&&m.setAttribute("aria-label",u(this,Kc))},hx=function(i,s){var d;const[r,l]=this.parentDimensions;this.width=i/r,this.height=s/l,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,ds)!==null&&clearTimeout(u(this,ds)),_(this,ds,setTimeout(()=>{_(this,ds,null),w(this,Ht,xb).call(this,i,s)},200))},$p=function(i,s){const{width:r,height:l}=u(this,pe);let c=r,d=l,f=u(this,pe);for(;c>2*i||d>2*s;){const g=c,m=d;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(c,d);b.getContext("2d").drawImage(f,0,0,g,m,0,0,c,d),f=b.transferToImageBitmap()}return f},xb=function(i,s){const r=new bv,l=Math.ceil(i*r.sx),c=Math.ceil(s*r.sy),d=u(this,hs);if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const f=u(this,tn)?u(this,pe):w(this,Ht,$p).call(this,l,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,l,c)},Wp=function(i){if(i){if(u(this,tn)){const l=this._uiManager.imageManager.getSvgUrl(u(this,ri));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,pe),s.getContext("2d").drawImage(u(this,pe),0,0),s.toDataURL()}if(u(this,tn)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*yr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*yr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(l,c);return d.getContext("2d").drawImage(u(this,pe),0,0,u(this,pe).width,u(this,pe).height,0,0,l,c),d.transferToImageBitmap()}return structuredClone(u(this,pe))},dx=function(){this._uiManager._signal&&(_(this,ra,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&w(this,Ht,hx).call(this,s.width,s.height)})),u(this,ra).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,ra))==null||i.disconnect(),_(this,ra,null)},{once:!0}))},fx=function(i){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=i.rect.every((m,b)=>Math.abs(m-s[b])<1),d=i.pageIndex===r,f=(((g=i.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:c&&d&&f,isSameAltText:f}},St(wh,"_type","stamp"),St(wh,"_editorType",Mt.STAMP);let _b=wh;var Vl,Wc,fs,pr,la,en,gr,Qc,Zc,mi,oa,mt,mr,li,px,Cb,Rb,Mb,Qp;const Rn=class Rn{constructor({uiManager:t,pageIndex:i,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:d,textLayer:f,viewport:g,l10n:m}){C(this,li);C(this,Vl);C(this,Wc,!1);C(this,fs,null);C(this,pr,null);C(this,la,null);C(this,en,new Map);C(this,gr,!1);C(this,Qc,!1);C(this,Zc,!1);C(this,mi,null);C(this,oa,null);C(this,mt);const b=[...u(Rn,mr).values()];if(!Rn._initialized){Rn._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),_(this,mt,t),this.pageIndex=i,this.div=s,_(this,Vl,l),_(this,fs,c),this.viewport=g,_(this,mi,f),this.drawLayer=d,this._structTree=r,u(this,mt).addLayer(this)}get isEmpty(){return u(this,en).size===0}get isInvisible(){return this.isEmpty&&u(this,mt).getMode()===Mt.NONE}updateToolbar(t){u(this,mt).updateToolbar(t)}updateMode(t=u(this,mt).getMode()){switch(w(this,li,Qp).call(this),t){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const s of u(Rn,mr).values())i.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var i;return t===((i=u(this,mi))==null?void 0:i.div)}addInkEditorIfNeeded(t){if(u(this,mt).getMode()!==Mt.INK)return;if(!t){for(const s of u(this,en).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){u(this,mt).setEditingState(t)}addCommands(t){u(this,mt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var i;(i=u(this,fs))==null||i.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of u(this,en).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,mt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!u(this,fs))return;const i=u(this,fs).getEditableAnnotations();for(const s of i){if(s.hide(),u(this,mt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,Zc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,i=new Map;for(const l of u(this,en).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(u(this,fs)){const l=u(this,fs).getEditableAnnotations();for(const c of l){const{id:d}=c.data;if(u(this,mt).isDeletedAnnotationElement(d))continue;let f=i.get(d);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(d),f&&(u(this,mt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}w(this,li,Qp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of u(Rn,mr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,Zc,!1)}getEditableAnnotation(t){var i;return((i=u(this,fs))==null?void 0:i.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,mt).getActive()!==t&&u(this,mt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,mi))!=null&&t.div&&!u(this,oa)){_(this,oa,new AbortController);const i=u(this,mt).combinedSignal(u(this,oa));u(this,mi).div.addEventListener("pointerdown",w(this,li,px).bind(this),{signal:i}),u(this,mi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,mi))!=null&&t.div&&u(this,oa)&&(u(this,oa).abort(),_(this,oa,null),u(this,mi).div.classList.remove("highlighting"))}enableClick(){if(u(this,pr))return;_(this,pr,new AbortController);const t=u(this,mt).combinedSignal(u(this,pr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=u(this,pr))==null||t.abort(),_(this,pr,null)}attach(t){u(this,en).set(t.id,t);const{annotationElementId:i}=t;i&&u(this,mt).isDeletedAnnotationElement(i)&&u(this,mt).removeDeletedAnnotationElement(t)}detach(t){var i;u(this,en).delete(t.id),(i=u(this,Vl))==null||i.removePointerInTextLayer(t.contentDiv),!u(this,Zc)&&t.annotationElementId&&u(this,mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,u(this,Qc)||this.addInkEditorIfNeeded(!1)}changeParent(t){var i;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,mt).addDeletedAnnotationElement(t.annotationElementId),Wt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(i=t.parent)==null||i.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!u(this,la)&&(t._focusEventsAllowed=!1,_(this,la,setTimeout(()=>{_(this,la,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,mt)._signal}),i.focus())},0))),t._structTreeParentId=(s=u(this,Vl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const i=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return u(this,mt).getId()}combinedSignal(t){return u(this,mt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,li,Cb))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,i){u(this,mt).updateToolbar(t),u(this,mt).updateMode(t);const{offsetX:s,offsetY:r}=w(this,li,Mb).call(this),l=this.getNextId(),c=w(this,li,Rb).call(this,{parent:this,id:l,x:s,y:r,uiManager:u(this,mt),isCentered:!0,...i});c&&this.add(c)}async deserialize(t){var i;return await((i=u(Rn,mr).get(t.annotationType??t.annotationEditorType))==null?void 0:i.deserialize(t,this,u(this,mt)))||null}createAndAddNewEditor(t,i,s={}){const r=this.getNextId(),l=w(this,li,Rb).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:u(this,mt),isCentered:i,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(w(this,li,Mb).call(this),!0)}setSelected(t){u(this,mt).setSelected(t)}toggleSelected(t){u(this,mt).toggleSelected(t)}unselect(t){u(this,mt).unselect(t)}pointerup(t){const{isMac:i}=wi.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&u(this,gr)){if(_(this,gr,!1),!u(this,Wc)){_(this,Wc,!0);return}if(u(this,mt).getMode()===Mt.STAMP){u(this,mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(u(this,mt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),u(this,gr)){_(this,gr,!1);return}const{isMac:i}=wi.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;_(this,gr,!0);const s=u(this,mt).getActive();_(this,Wc,!s||s.isEmpty())}findNewParent(t,i,s){const r=u(this,mt).findParent(i,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,i;((t=u(this,mt).getActive())==null?void 0:t.parent)===this&&(u(this,mt).commitOrRemove(),u(this,mt).setActiveEditor(null)),u(this,la)&&(clearTimeout(u(this,la)),_(this,la,null));for(const s of u(this,en).values())(i=u(this,Vl))==null||i.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,en).clear(),u(this,mt).removeLayer(this)}render({viewport:t}){this.viewport=t,Yl(this.div,t);for(const i of u(this,mt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){u(this,mt).commitOrRemove(),w(this,li,Qp).call(this);const i=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Yl(this.div,{rotation:s}),i!==s)for(const r of u(this,en).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return u(this,mt).viewParameters.realScale}};Vl=new WeakMap,Wc=new WeakMap,fs=new WeakMap,pr=new WeakMap,la=new WeakMap,en=new WeakMap,gr=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,mi=new WeakMap,oa=new WeakMap,mt=new WeakMap,mr=new WeakMap,li=new WeakSet,px=function(t){u(this,mt).unselectAll();const{target:i}=t;if(i===u(this,mi).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&u(this,mi).div.contains(i)){const{isMac:s}=wi.platform;if(t.button!==0||t.ctrlKey&&s)return;u(this,mt).showAllEditors("highlight",!0,!0),u(this,mi).div.classList.add("free"),this.toggleDrawing(),ag.startHighlighting(this,u(this,mt).direction==="ltr",{target:u(this,mi).div,x:t.x,y:t.y}),u(this,mi).div.addEventListener("pointerup",()=>{u(this,mi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,mt)._signal}),t.preventDefault()}},Cb=function(){return u(Rn,mr).get(u(this,mt).getMode())},Rb=function(t){const i=u(this,li,Cb);return i?new i.prototype.constructor(t):null},Mb=function(){const{x:t,y:i,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,i),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,i+r),g=(l+d)/2-t,m=(c+f)/2-i,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},Qp=function(){_(this,Qc,!0);for(const t of u(this,en).values())t.isEmpty()&&t.remove();_(this,Qc,!1)},St(Rn,"_initialized",!1),C(Rn,mr,new Map([ab,pb,_b,ag].map(t=>[t._editorType,t])));let Tb=Rn;var ps,Bd,De,ca,Id,Db,Zl,Ob,gx;const ni=class ni{constructor({pageIndex:t}){C(this,Zl);C(this,ps,null);C(this,Bd,0);C(this,De,new Map);C(this,ca,new Map);this.pageIndex=t}setParent(t){if(!u(this,ps)){_(this,ps,t);return}if(u(this,ps)!==t){if(u(this,De).size>0)for(const i of u(this,De).values())i.remove(),t.append(i);_(this,ps,t)}}static get _svgFactory(){return Ut(this,"_svgFactory",new Zb)}draw(t,i,s,r=!1){const l=Ai(this,Bd)._++,c=w(this,Zl,Ob).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const d=ni._svgFactory.createElement("defs");c.append(d);const f=ni._svgFactory.createElement("path");d.append(f);const g=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),r&&u(this,ca).set(l,f);const m=w(this,Zl,gx).call(this,d,g),b=ni._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",i),c.setAttribute("fill-opacity",s),b.setAttribute("href",`#${g}`),u(this,De).set(l,c),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const i=Ai(this,Bd)._++,s=w(this,Zl,Ob).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=ni._svgFactory.createElement("defs");s.append(r);const l=ni._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=ni._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=ni._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=ni._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=ni._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return s.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),u(this,De).set(i,s),i}finalizeLine(t,i){const s=u(this,ca).get(t);u(this,ca).delete(t),this.updateBox(t,i.box),s.setAttribute("d",i.toSVGPath())}updateLine(t,i){u(this,De).get(t).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(t,i){u(this,ca).get(t).setAttribute("d",i.toSVGPath())}updateBox(t,i){var s;w(s=ni,Id,Db).call(s,u(this,De).get(t),i)}show(t,i){u(this,De).get(t).classList.toggle("hidden",!i)}rotate(t,i){u(this,De).get(t).setAttribute("data-main-rotation",i)}changeColor(t,i){u(this,De).get(t).setAttribute("fill",i)}changeOpacity(t,i){u(this,De).get(t).setAttribute("fill-opacity",i)}addClass(t,i){u(this,De).get(t).classList.add(i)}removeClass(t,i){u(this,De).get(t).classList.remove(i)}getSVGRoot(t){return u(this,De).get(t)}remove(t){u(this,ca).delete(t),u(this,ps)!==null&&(u(this,De).get(t).remove(),u(this,De).delete(t))}destroy(){_(this,ps,null);for(const t of u(this,De).values())t.remove();u(this,De).clear(),u(this,ca).clear()}};ps=new WeakMap,Bd=new WeakMap,De=new WeakMap,ca=new WeakMap,Id=new WeakSet,Db=function(t,{x:i=0,y:s=0,width:r=1,height:l=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*i}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Zl=new WeakSet,Ob=function(t){var s;const i=ni._svgFactory.create(1,1,!0);return u(this,ps).append(i),i.setAttribute("aria-hidden",!0),w(s=ni,Id,Db).call(s,i,t),i},gx=function(t,i){const s=ni._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${i}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=ni._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),r},C(ni,Id);let Lb=ni;var KL=Tt.AbortException,$L=Tt.AnnotationEditorLayer,WL=Tt.AnnotationEditorParamsType,QL=Tt.AnnotationEditorType,ZL=Tt.AnnotationEditorUIManager,mx=Tt.AnnotationLayer,yx=Tt.AnnotationMode,JL=Tt.ColorPicker,tD=Tt.DOMSVGFactory,eD=Tt.DrawLayer,iD=Tt.FeatureTest,t0=Tt.GlobalWorkerOptions,nD=Tt.ImageKind,sD=Tt.InvalidPDFException,aD=Tt.MissingPDFException,rD=Tt.OPS,lD=Tt.OutputScale,oD=Tt.PDFDataRangeTransport,cD=Tt.PDFDateString,uD=Tt.PDFWorker,hD=Tt.PasswordResponses,dD=Tt.PermissionFlag,fD=Tt.PixelsPerInch,pD=Tt.RenderingCancelledException,vx=Tt.TextLayer,gD=Tt.UnexpectedResponseException,mD=Tt.Util,yD=Tt.VerbosityLevel,vD=Tt.XfaLayer,bD=Tt.build,AD=Tt.createValidAbsoluteUrl,SD=Tt.fetchData,bx=Tt.getDocument,ED=Tt.getFilenameFromUrl,_D=Tt.getPdfFilenameFromUrl,wD=Tt.getXfaPageViewport,xD=Tt.isDataScheme,TD=Tt.isPdfFile,CD=Tt.noContextMenu,RD=Tt.normalizeUnicode,MD=Tt.setLayerDimensions,LD=Tt.shadow,Ax=Tt.version;const DD=Object.freeze(Object.defineProperty({__proto__:null,AbortException:KL,AnnotationEditorLayer:$L,AnnotationEditorParamsType:WL,AnnotationEditorType:QL,AnnotationEditorUIManager:ZL,AnnotationLayer:mx,AnnotationMode:yx,ColorPicker:JL,DOMSVGFactory:tD,DrawLayer:eD,FeatureTest:iD,GlobalWorkerOptions:t0,ImageKind:nD,InvalidPDFException:sD,MissingPDFException:aD,OPS:rD,OutputScale:lD,PDFDataRangeTransport:oD,PDFDateString:cD,PDFWorker:uD,PasswordResponses:hD,PermissionFlag:dD,PixelsPerInch:fD,RenderingCancelledException:pD,TextLayer:vx,UnexpectedResponseException:gD,Util:mD,VerbosityLevel:yD,XfaLayer:vD,build:bD,createValidAbsoluteUrl:AD,fetchData:SD,getDocument:bx,getFilenameFromUrl:ED,getPdfFilenameFromUrl:_D,getXfaPageViewport:wD,isDataScheme:xD,isPdfFile:TD,noContextMenu:CD,normalizeUnicode:RD,setLayerDimensions:MD,shadow:LD,version:Ax},Symbol.toStringTag,{value:"Module"}));var Ye=function(h,t,i){if(i||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return h.concat(l||Array.prototype.slice.call(t))},OD=["onCopy","onCut","onPaste"],kD=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],ND=["onFocus","onBlur"],PD=["onInput","onInvalid","onReset","onSubmit"],FD=["onLoad","onError"],HD=["onKeyDown","onKeyPress","onKeyUp"],zD=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],UD=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],BD=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],ID=["onSelect"],jD=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],GD=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],qD=["onScroll"],VD=["onWheel"],XD=["onAnimationStart","onAnimationEnd","onAnimationIteration"],YD=["onTransitionEnd"],KD=["onToggle"],$D=["onChange"],WD=Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye([],OD,!0),kD,!0),ND,!0),PD,!0),FD,!0),HD,!0),zD,!0),UD,!0),BD,!0),ID,!0),jD,!0),GD,!0),qD,!0),VD,!0),XD,!0),YD,!0),$D,!0),KD,!0);function Sx(h,t){var i={};return WD.forEach(function(s){var r=h[s];r&&(t?i[s]=function(l){return r(l,t(s))}:i[s]=r)}),i}function Kd(h){var t=!1,i=new Promise(function(s,r){h.then(function(l){return!t&&s(l)}).catch(function(l){return!t&&r(l)})});return{promise:i,cancel:function(){t=!0}}}function Ex(h){var t,i,s="";if(typeof h=="string"||typeof h=="number")s+=h;else if(typeof h=="object")if(Array.isArray(h)){var r=h.length;for(t=0;t<r;t++)h[t]&&(i=Ex(h[t]))&&(s&&(s+=" "),s+=i)}else for(i in h)h[i]&&(s&&(s+=" "),s+=i);return s}function kg(){for(var h,t,i=0,s="",r=arguments.length;i<r;i++)(h=arguments[i])&&(t=Ex(h))&&(s&&(s+=" "),s+=t);return s}var QD="Invariant failed";function se(h,t){if(!h)throw new Error(QD)}var dv,O_;function ZD(){if(O_)return dv;O_=1;var h=function(){};return dv=h,dv}var JD=ZD();const yi=q_(JD);var k_=Object.prototype.hasOwnProperty;function N_(h,t,i){for(i of h.keys())if(Jo(i,t))return i}function Jo(h,t){var i,s,r;if(h===t)return!0;if(h&&t&&(i=h.constructor)===t.constructor){if(i===Date)return h.getTime()===t.getTime();if(i===RegExp)return h.toString()===t.toString();if(i===Array){if((s=h.length)===t.length)for(;s--&&Jo(h[s],t[s]););return s===-1}if(i===Set){if(h.size!==t.size)return!1;for(s of h)if(r=s,r&&typeof r=="object"&&(r=N_(t,r),!r)||!t.has(r))return!1;return!0}if(i===Map){if(h.size!==t.size)return!1;for(s of h)if(r=s[0],r&&typeof r=="object"&&(r=N_(t,r),!r)||!Jo(s[1],t.get(r)))return!1;return!0}if(i===ArrayBuffer)h=new Uint8Array(h),t=new Uint8Array(t);else if(i===DataView){if((s=h.byteLength)===t.byteLength)for(;s--&&h.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(h)){if((s=h.byteLength)===t.byteLength)for(;s--&&h[s]===t[s];);return s===-1}if(!i||typeof h=="object"){s=0;for(i in h)if(k_.call(h,i)&&++s&&!k_.call(t,i)||!(i in t)||!Jo(h[i],t[i]))return!1;return Object.keys(t).length===s}}return h!==h&&t!==t}const _x=H.createContext(null);function tc({children:h,type:t}){return rt.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:h})}const tO="noopener noreferrer nofollow";class eO{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){se(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(i=>{se(this.pdfDocument),se(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(i):Array.isArray(t)?i(t):t.then(i)}).then(i=>{se(Array.isArray(i));const s=i[0];new Promise(r=>{se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{r(l)}).catch(()=>{se(!1)}):typeof s=="number"?r(s):se(!1)}).then(r=>{const l=r+1;se(this.pdfViewer),se(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const i=t-1;se(this.pdfViewer),se(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:t})}addLinkAttributes(t,i,s){t.href=i,t.rel=this.externalLinkRel||tO,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const P_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ng=typeof window<"u",wx=Ng&&window.location.protocol==="file:";function iO(h){return typeof h<"u"}function Gr(h){return iO(h)&&h!==null}function nO(h){return typeof h=="string"}function sO(h){return h instanceof ArrayBuffer}function aO(h){return se(Ng),h instanceof Blob}function kb(h){return nO(h)&&/^data:/.test(h)}function F_(h){se(kb(h));const[t="",i=""]=h.split(",");return t.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function rO(){return Ng&&window.devicePixelRatio||1}const xx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function H_(){yi(!wx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${xx}`)}function lO(){yi(!wx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${xx}`)}function Wl(h){h!=null&&h.cancel&&h.cancel()}function Nb(h,t){return Object.defineProperty(h,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(h,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(h,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(h,"originalHeight",{get(){return this.view[3]},configurable:!0}),h}function oO(h){return h.name==="RenderingCancelledException"}function cO(h){return new Promise((t,i)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return i(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return i(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},s.readAsArrayBuffer(h)})}function uO(h,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return h}}function Jc(){return H.useReducer(uO,{value:void 0,error:void 0})}var hO=function(h,t,i,s){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(m){try{g(s.next(m))}catch(b){c(b)}}function f(m){try{g(s.throw(m))}catch(b){c(b)}}function g(m){m.done?l(m.value):r(m.value).then(d,f)}g((s=s.apply(h,t||[])).next())})},z_=function(h,t){var i={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&t.indexOf(s)<0&&(i[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(h);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(h,s[r])&&(i[s[r]]=h[s[r]]);return i};const{PDFDataRangeTransport:dO}=DD,fO=(h,t)=>{switch(t){case P_.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");h(i);break}case P_.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");h(i);break}}};function U_(h){return typeof h=="object"&&h!==null&&("data"in h||"range"in h||"url"in h)}const pO=H.forwardRef(function(t,i){var{children:s,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:d,file:f,inputRef:g,imageResourcesPath:m,loading:b="Loading PDF…",noData:v="No PDF file specified.",onItemClick:S,onLoadError:E,onLoadProgress:T,onLoadSuccess:M,onPassword:R=fO,onSourceError:D,onSourceSuccess:k,options:P,renderMode:z,rotate:q}=t,X=z_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,tt]=Jc(),{value:st,error:nt}=W,[gt,yt]=Jc(),{value:ft,error:ht}=gt,B=H.useRef(new eO),V=H.useRef([]),Z=H.useRef(void 0),_t=H.useRef(void 0);f&&f!==Z.current&&U_(f)&&(yi(!Jo(f,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=f),P&&P!==_t.current&&(yi(!Jo(P,_t.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_t.current=P);const O=H.useRef({scrollPageIntoView:qt=>{const{dest:oe,pageNumber:Ie,pageIndex:Te=Ie-1}=qt;if(S){S({dest:oe,pageIndex:Te,pageNumber:Ie});return}const Je=V.current[Te];if(Je){Je.scrollIntoView();return}yi(!1,`An internal link leading to page ${Ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});H.useImperativeHandle(i,()=>({linkService:B,pages:V,viewer:O}),[]);function K(){k&&k()}function et(){nt&&(yi(!1,nt.toString()),D&&D(nt))}function J(){tt({type:"RESET"})}H.useEffect(J,[f,tt]);const ot=H.useCallback(()=>hO(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return kb(f)?{data:F_(f)}:(H_(),{url:f});if(f instanceof dO)return{range:f};if(sO(f))return{data:f};if(Ng&&aO(f))return{data:yield cO(f)};if(se(typeof f=="object"),se(U_(f)),"url"in f&&typeof f.url=="string"){if(kb(f.url)){const{url:qt}=f,oe=z_(f,["url"]),Ie=F_(qt);return Object.assign({data:Ie},oe)}H_()}return f}),[f]);H.useEffect(()=>{const qt=Kd(ot());return qt.promise.then(oe=>{tt({type:"RESOLVE",value:oe})}).catch(oe=>{tt({type:"REJECT",error:oe})}),()=>{Wl(qt)}},[ot,tt]),H.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){et();return}K()}},[st]);function wt(){ft&&(M&&M(ft),V.current=new Array(ft.numPages),B.current.setDocument(ft))}function ct(){ht&&(yi(!1,ht.toString()),E&&E(ht))}H.useEffect(function(){yt({type:"RESET"})},[yt,st]),H.useEffect(function(){if(!st)return;const oe=P?Object.assign(Object.assign({},st),P):st,Ie=bx(oe);T&&(Ie.onProgress=T),R&&(Ie.onPassword=R);const Te=Ie,Je=Te.promise.then(_r=>{yt({type:"RESOLVE",value:_r})}).catch(_r=>{Te.destroyed||yt({type:"REJECT",error:_r})});return()=>{Je.finally(()=>Te.destroy())}},[P,yt,st]),H.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ct();return}wt()}},[ft]),H.useEffect(function(){B.current.setViewer(O.current),B.current.setExternalLinkRel(c),B.current.setExternalLinkTarget(d)},[c,d]);const xt=H.useCallback((qt,oe)=>{V.current[qt]=oe},[]),zt=H.useCallback(qt=>{delete V.current[qt]},[]),xe=H.useMemo(()=>({imageResourcesPath:m,linkService:B.current,onItemClick:S,pdf:ft,registerPage:xt,renderMode:z,rotate:q,unregisterPage:zt}),[m,S,ft,xt,z,q,zt]),Qt=H.useMemo(()=>Sx(X,()=>ft),[X,ft]);function qn(){return rt.jsx(_x.Provider,{value:xe,children:s})}function vs(){return f?ft==null?rt.jsx(tc,{type:"loading",children:typeof b=="function"?b():b}):ft===!1?rt.jsx(tc,{type:"error",children:typeof l=="function"?l():l}):qn():rt.jsx(tc,{type:"no-data",children:typeof v=="function"?v():v})}return rt.jsx("div",Object.assign({className:kg("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},Qt,{children:vs()}))});function Tx(){return H.useContext(_x)}function Cx(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var i=h.filter(Boolean);if(i.length<=1){var s=i[0];return s||null}return function(l){i.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const Rx=H.createContext(null),Mx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},gO=/^H(\d+)$/;function mO(h){return h in Mx}function Pg(h){return"children"in h}function Lx(h){return Pg(h)?h.children.length===1&&0 in h.children&&"id"in h.children[0]:!1}function yO(h){const t={};if(Pg(h)){const{role:i}=h,s=i.match(gO);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(mO(i)){const r=Mx[i];r&&(t.role=r)}}return t}function Dx(h){const t={};if(Pg(h)){if(h.alt!==void 0&&(t["aria-label"]=h.alt),h.lang!==void 0&&(t.lang=h.lang),Lx(h)){const[i]=h.children;if(i){const s=Dx(i);return Object.assign(Object.assign({},t),s)}}}else"id"in h&&(t["aria-owns"]=h.id);return t}function vO(h){return h?Object.assign(Object.assign({},yO(h)),Dx(h)):null}function Ox({className:h,node:t}){const i=H.useMemo(()=>vO(t),[t]),s=H.useMemo(()=>!Pg(t)||Lx(t)?null:t.children.map((r,l)=>rt.jsx(Ox,{node:r},l)),[t]);return rt.jsx("span",Object.assign({className:h},i,{children:s}))}function Fg(){return H.useContext(Rx)}function bO(){const h=Fg();se(h);const{onGetStructTreeError:t,onGetStructTreeSuccess:i}=h,[s,r]=Jc(),{value:l,error:c}=s,{customTextRenderer:d,page:f}=h;function g(){l&&i&&i(l)}function m(){c&&(yi(!1,c.toString()),t&&t(c))}return H.useEffect(function(){r({type:"RESET"})},[r,f]),H.useEffect(function(){if(d||!f)return;const v=Kd(f.getStructTree()),S=v;return v.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>Wl(S)},[d,f,r]),H.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}g()}},[l]),l?rt.jsx(Ox,{className:"react-pdf__Page__structTree structTree",node:l}):null}const B_=yx;function AO(h){const t=Fg();se(t);const i=Object.assign(Object.assign({},t),h),{_className:s,canvasBackground:r,devicePixelRatio:l=rO(),onRenderError:c,onRenderSuccess:d,page:f,renderForms:g,renderTextLayer:m,rotate:b,scale:v}=i,{canvasRef:S}=h;se(f);const E=H.useRef(null);function T(){f&&d&&d(Nb(f,v))}function M(P){oO(P)||(yi(!1,P.toString()),c&&c(P))}const R=H.useMemo(()=>f.getViewport({scale:v*l,rotation:b}),[l,f,b,v]),D=H.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);H.useEffect(function(){if(!f)return;f.cleanup();const{current:z}=E;if(!z)return;z.width=R.width,z.height=R.height,z.style.width=`${Math.floor(D.width)}px`,z.style.height=`${Math.floor(D.height)}px`,z.style.visibility="hidden";const q={annotationMode:g?B_.ENABLE_FORMS:B_.ENABLE,canvasContext:z.getContext("2d",{alpha:!1}),viewport:R};r&&(q.background=r);const X=f.render(q),W=X;return X.promise.then(()=>{z.style.visibility="",T()}).catch(M),()=>Wl(W)},[r,f,g,R,D]);const k=H.useCallback(()=>{const{current:P}=E;P&&(P.width=0,P.height=0)},[]);return H.useEffect(()=>k,[k]),rt.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:Cx(S,E),style:{display:"block",userSelect:"none"},children:m?rt.jsx(bO,{}):null})}function SO(h){return"str"in h}function EO(){const h=Fg();se(h);const{customTextRenderer:t,onGetTextError:i,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:d,pageNumber:f,rotate:g,scale:m}=h;se(c);const[b,v]=Jc(),{value:S,error:E}=b,T=H.useRef(null);yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){S&&s&&s(S)}function R(){E&&(yi(!1,E.toString()),i&&i(E))}H.useEffect(function(){v({type:"RESET"})},[c,v]),H.useEffect(function(){if(!c)return;const W=Kd(c.getTextContent()),tt=W;return W.promise.then(st=>{v({type:"RESOLVE",value:st})}).catch(st=>{v({type:"REJECT",error:st})}),()=>Wl(tt)},[c,v]),H.useEffect(()=>{if(S!==void 0){if(S===!1){R();return}M()}},[S]);const D=H.useCallback(()=>{l&&l()},[l]),k=H.useCallback(X=>{yi(!1,X.toString()),r&&r(X)},[r]);function P(){const X=T.current;X&&X.classList.add("selecting")}function z(){const X=T.current;X&&X.classList.remove("selecting")}const q=H.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return H.useLayoutEffect(function(){if(!c||!S)return;const{current:W}=T;if(!W)return;W.innerHTML="";const tt=c.streamTextContent({includeMarkedContent:!0}),st={container:W,textContentSource:tt,viewport:q},nt=new vx(st),gt=nt;return nt.render().then(()=>{const yt=document.createElement("div");yt.className="endOfContent",W.append(yt);const ft=W.querySelectorAll('[role="presentation"]');if(t){let ht=0;S.items.forEach((B,V)=>{if(!SO(B))return;const Z=ft[ht];if(!Z)return;const _t=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:V},B));Z.innerHTML=_t,ht+=B.str&&B.hasEOL?2:1})}D()}).catch(k),()=>Wl(gt)},[t,k,D,c,d,f,S,q]),rt.jsx("div",{className:kg("react-pdf__Page__textContent","textLayer"),onMouseUp:z,onMouseDown:P,ref:T})}function _O(){const h=Tx(),t=Fg();se(t);const i=Object.assign(Object.assign({},h),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:g,pdf:m,renderForms:b,rotate:v,scale:S=1}=i;se(m),se(g),se(r);const[E,T]=Jc(),{value:M,error:R}=E,D=H.useRef(null);yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){M&&c&&c(M)}function P(){R&&(yi(!1,R.toString()),l&&l(R))}H.useEffect(function(){T({type:"RESET"})},[T,g]),H.useEffect(function(){if(!g)return;const tt=Kd(g.getAnnotations()),st=tt;return tt.promise.then(nt=>{T({type:"RESOLVE",value:nt})}).catch(nt=>{T({type:"REJECT",error:nt})}),()=>{Wl(st)}},[T,g]),H.useEffect(()=>{if(M!==void 0){if(M===!1){P();return}k()}},[M]);function z(){f&&f()}function q(W){yi(!1,`${W}`),d&&d(W)}const X=H.useMemo(()=>g.getViewport({scale:S,rotation:v}),[g,v,S]);return H.useEffect(function(){if(!m||!g||!r||!M)return;const{current:tt}=D;if(!tt)return;const st=X.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:g,structTreeLayer:null,viewport:st},gt={annotations:M,annotationStorage:m.annotationStorage,div:tt,imageResourcesPath:s,linkService:r,page:g,renderForms:b,viewport:st};tt.innerHTML="";try{new mx(nt).render(gt),z()}catch(yt){q(yt)}return()=>{}},[M,s,r,g,m,b,X]),rt.jsx("div",{className:kg("react-pdf__Page__annotations","annotationLayer"),ref:D})}var wO=function(h,t){var i={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&t.indexOf(s)<0&&(i[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(h);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(h,s[r])&&(i[s[r]]=h[s[r]]);return i};const I_=1;function xO(h){const t=Tx(),i=Object.assign(Object.assign({},t),h),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:d,className:f,customRenderer:g,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:S,inputRef:E,loading:T="Loading page…",noData:M="No page specified.",onGetAnnotationsError:R,onGetAnnotationsSuccess:D,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:z,onGetTextSuccess:q,onLoadError:X,onLoadSuccess:W,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:st,onRenderError:nt,onRenderSuccess:gt,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:B,pdf:V,registerPage:Z,renderAnnotationLayer:_t=!0,renderForms:O=!1,renderMode:K="canvas",renderTextLayer:et=!0,rotate:J,scale:ot=I_,unregisterPage:wt,width:ct}=i,xt=wO(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[zt,xe]=Jc(),{value:Qt,error:qn}=zt,vs=H.useRef(null);se(V);const qt=Gr(B)?B-1:ht??null,oe=B??(Gr(ht)?ht+1:null),Ie=J??(Qt?Qt.rotate:null),Te=H.useMemo(()=>{if(!Qt)return null;let Ce=1;const Ui=ot??I_;if(ct||S){const je=Qt.getViewport({scale:1,rotation:Ie});ct?Ce=ct/je.width:S&&(Ce=S/je.height)}return Ui*Ce},[S,Qt,Ie,ot,ct]);H.useEffect(function(){return()=>{Gr(qt)&&r&&wt&&wt(qt)}},[r,V,qt,wt]);function Je(){if(W){if(!Qt||!Te)return;W(Nb(Qt,Te))}if(r&&Z){if(!Gr(qt)||!vs.current)return;Z(qt,vs.current)}}function _r(){qn&&(yi(!1,qn.toString()),X&&X(qn))}H.useEffect(function(){xe({type:"RESET"})},[xe,V,qt]),H.useEffect(function(){if(!V||!oe)return;const Ui=Kd(V.getPage(oe)),je=Ui;return Ui.promise.then(iu=>{xe({type:"RESOLVE",value:iu})}).catch(iu=>{xe({type:"REJECT",error:iu})}),()=>Wl(je)},[xe,V,oe]),H.useEffect(()=>{if(Qt!==void 0){if(Qt===!1){_r();return}Je()}},[Qt,Te]);const $d=H.useMemo(()=>Qt&&Gr(qt)&&oe&&Gr(Ie)&&Gr(Te)?{_className:s,canvasBackground:l,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:R,onGetAnnotationsSuccess:D,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:z,onGetTextSuccess:q,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:st,onRenderError:nt,onRenderSuccess:gt,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ft,page:Qt,pageIndex:qt,pageNumber:oe,renderForms:O,renderTextLayer:et,rotate:Ie,scale:Te}:null,[s,l,m,b,R,D,k,P,z,q,tt,st,nt,gt,yt,ft,Qt,qt,oe,O,et,Ie,Te]),Wd=H.useMemo(()=>Sx(xt,()=>Qt&&(Te?Nb(Qt,Te):void 0)),[xt,Qt,Te]),bs=`${qt}@${Te}/${Ie}`;function Hg(){switch(K){case"custom":return se(g),rt.jsx(g,{},`${bs}_custom`);case"none":return null;case"canvas":default:return rt.jsx(AO,{canvasRef:c},`${bs}_canvas`)}}function Qd(){return et?rt.jsx(EO,{},`${bs}_text`):null}function zg(){return _t?rt.jsx(_O,{},`${bs}_annotations`):null}function Ug(){return rt.jsxs(Rx.Provider,{value:$d,children:[Hg(),Qd(),zg(),d]})}function wr(){return oe?V===null||Qt===void 0||Qt===null?rt.jsx(tc,{type:"loading",children:typeof T=="function"?T():T}):V===!1||Qt===!1?rt.jsx(tc,{type:"error",children:typeof v=="function"?v():v}):Ug():rt.jsx(tc,{type:"no-data",children:typeof M=="function"?M():M})}return rt.jsx("div",Object.assign({className:kg(s,f),"data-page-number":oe,ref:Cx(E,vs),style:{"--scale-factor":`${Te}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Wd,{children:wr()}))}lO();t0.workerSrc="pdf.worker.mjs";t0.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Ax}/pdf.worker.min.mjs`;function TO(){const[h,t]=H.useState(null),s=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.innerWidth*.75:window.innerWidth*.5,r=({numPages:c})=>{t(c)},l={border:"none",borderTop:"2px #aaa",margin:"0.5rem 0",width:"80%"};return rt.jsx("div",{style:{display:"flex",justifyContent:"center"},children:rt.jsx(pO,{file:"/PersonalWebpage/CV.pdf",onLoadSuccess:r,children:h&&Array.from(new Array(h),(c,d)=>rt.jsxs("div",{children:[rt.jsx(xO,{pageNumber:d+1,width:s,renderTextLayer:!0},`page_${d+1}`),d<h-1&&rt.jsx("hr",{style:l})]},`page_container_${d}`))})})}function CO(){return rt.jsx(TO,{})}function RO({basename:h}){return rt.jsx(_M,{basename:h,children:rt.jsx(JR,{children:rt.jsxs(bp,{path:"/",element:rt.jsx(GM,{}),children:[rt.jsx(bp,{index:!0,element:rt.jsx(VM,{})}),rt.jsx(bp,{path:"resume",element:rt.jsx(CO,{})})]})})})}aR.createRoot(document.getElementById("root")).render(rt.jsx(H.StrictMode,{children:rt.jsx(RO,{basename:"/PersonalWebpage/"})}));
