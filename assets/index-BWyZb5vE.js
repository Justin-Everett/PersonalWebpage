var uM=Object.defineProperty;var $_=l=>{throw TypeError(l)};var hM=(l,t,e)=>t in l?uM(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var Rt=(l,t,e)=>hM(l,typeof t!="symbol"?t+"":t,e),Vv=(l,t,e)=>t.has(l)||$_("Cannot "+e);var h=(l,t,e)=>(Vv(l,t,"read from private field"),e?e.call(l):t.get(l)),R=(l,t,e)=>t.has(l)?$_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),_=(l,t,e,s)=>(Vv(l,t,"write to private field"),s?s.call(l,e):t.set(l,e),e),x=(l,t,e)=>(Vv(l,t,"access private method"),e);var Gn=(l,t,e,s)=>({set _(r){_(l,t,r,e)},get _(){return h(l,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function H0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Xv={exports:{}},Zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function dM(){if(K_)return Zh;K_=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:l,type:s,key:u,ref:r!==void 0?r:null,props:o}}return Zh.Fragment=t,Zh.jsx=e,Zh.jsxs=e,Zh}var W_;function fM(){return W_||(W_=1,Xv.exports=dM()),Xv.exports}var Y=fM(),Yv={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function pM(){if(Q_)return kt;Q_=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function M(N,$,nt){this.props=N,this.context=$,this.refs=w,this.updater=nt||A}M.prototype.isReactComponent={},M.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=M.prototype;function L(N,$,nt){this.props=N,this.context=$,this.refs=w,this.updater=nt||A}var O=L.prototype=new T;O.constructor=L,S(O,M.prototype),O.isPureReactComponent=!0;var P=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function G(N,$,nt,et,ht,xt){return nt=xt.ref,{$$typeof:l,type:N,key:$,ref:nt!==void 0?nt:null,props:xt}}function K(N,$){return G(N.type,$,void 0,void 0,void 0,N.props)}function tt(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function it(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return $[nt]})}var st=/\/+/g;function ft(N,$){return typeof N=="object"&&N!==null&&N.key!=null?it(""+N.key):$.toString(36)}function pt(){}function rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(pt,pt):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ct(N,$,nt,et,ht){var xt=typeof N;(xt==="undefined"||xt==="boolean")&&(N=null);var ut=!1;if(N===null)ut=!0;else switch(xt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(N.$$typeof){case l:case t:ut=!0;break;case m:return ut=N._init,ct(ut(N._payload),$,nt,et,ht)}}if(ut)return ht=ht(N),ut=et===""?"."+ft(N,0):et,P(ht)?(nt="",ut!=null&&(nt=ut.replace(st,"$&/")+"/"),ct(ht,$,nt,"",function(Gt){return Gt})):ht!=null&&(tt(ht)&&(ht=K(ht,nt+(ht.key==null||N&&N.key===ht.key?"":(""+ht.key).replace(st,"$&/")+"/")+ut)),$.push(ht)),1;ut=0;var Tt=et===""?".":et+":";if(P(N))for(var Dt=0;Dt<N.length;Dt++)et=N[Dt],xt=Tt+ft(et,Dt),ut+=ct(et,$,nt,xt,ht);else if(Dt=b(N),typeof Dt=="function")for(N=Dt.call(N),Dt=0;!(et=N.next()).done;)et=et.value,xt=Tt+ft(et,Dt++),ut+=ct(et,$,nt,xt,ht);else if(xt==="object"){if(typeof N.then=="function")return ct(rt(N),$,nt,et,ht);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ut}function H(N,$,nt){if(N==null)return N;var et=[],ht=0;return ct(N,et,"","",function(xt){return $.call(nt,xt,ht++)}),et}function q(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var W=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function yt(){}return kt.Children={map:H,forEach:function(N,$,nt){H(N,function(){$.apply(this,arguments)},nt)},count:function(N){var $=0;return H(N,function(){$++}),$},toArray:function(N){return H(N,function($){return $})||[]},only:function(N){if(!tt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},kt.Component=M,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=L,kt.StrictMode=s,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,kt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},kt.cache=function(N){return function(){return N.apply(null,arguments)}},kt.cloneElement=function(N,$,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=S({},N.props),ht=N.key,xt=void 0;if($!=null)for(ut in $.ref!==void 0&&(xt=void 0),$.key!==void 0&&(ht=""+$.key),$)!I.call($,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&$.ref===void 0||(et[ut]=$[ut]);var ut=arguments.length-2;if(ut===1)et.children=nt;else if(1<ut){for(var Tt=Array(ut),Dt=0;Dt<ut;Dt++)Tt[Dt]=arguments[Dt+2];et.children=Tt}return G(N.type,ht,void 0,void 0,xt,et)},kt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},kt.createElement=function(N,$,nt){var et,ht={},xt=null;if($!=null)for(et in $.key!==void 0&&(xt=""+$.key),$)I.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=$[et]);var ut=arguments.length-2;if(ut===1)ht.children=nt;else if(1<ut){for(var Tt=Array(ut),Dt=0;Dt<ut;Dt++)Tt[Dt]=arguments[Dt+2];ht.children=Tt}if(N&&N.defaultProps)for(et in ut=N.defaultProps,ut)ht[et]===void 0&&(ht[et]=ut[et]);return G(N,xt,void 0,void 0,null,ht)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(N){return{$$typeof:d,render:N}},kt.isValidElement=tt,kt.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:q}},kt.memo=function(N,$){return{$$typeof:p,type:N,compare:$===void 0?null:$}},kt.startTransition=function(N){var $=F.T,nt={};F.T=nt;try{var et=N(),ht=F.S;ht!==null&&ht(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(yt,W)}catch(xt){W(xt)}finally{F.T=$}},kt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},kt.use=function(N){return F.H.use(N)},kt.useActionState=function(N,$,nt){return F.H.useActionState(N,$,nt)},kt.useCallback=function(N,$){return F.H.useCallback(N,$)},kt.useContext=function(N){return F.H.useContext(N)},kt.useDebugValue=function(){},kt.useDeferredValue=function(N,$){return F.H.useDeferredValue(N,$)},kt.useEffect=function(N,$,nt){var et=F.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(N,$)},kt.useId=function(){return F.H.useId()},kt.useImperativeHandle=function(N,$,nt){return F.H.useImperativeHandle(N,$,nt)},kt.useInsertionEffect=function(N,$){return F.H.useInsertionEffect(N,$)},kt.useLayoutEffect=function(N,$){return F.H.useLayoutEffect(N,$)},kt.useMemo=function(N,$){return F.H.useMemo(N,$)},kt.useOptimistic=function(N,$){return F.H.useOptimistic(N,$)},kt.useReducer=function(N,$,nt){return F.H.useReducer(N,$,nt)},kt.useRef=function(N){return F.H.useRef(N)},kt.useState=function(N){return F.H.useState(N)},kt.useSyncExternalStore=function(N,$,nt){return F.H.useSyncExternalStore(N,$,nt)},kt.useTransition=function(){return F.H.useTransition()},kt.version="19.1.0",kt}var Z_;function B0(){return Z_||(Z_=1,Yv.exports=pM()),Yv.exports}var k=B0();const oi=H0(k);var $v={exports:{}},Jh={},Kv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function gM(){return J_||(J_=1,function(l){function t(H,q){var W=H.length;H.push(q);t:for(;0<W;){var yt=W-1>>>1,N=H[yt];if(0<r(N,q))H[yt]=q,H[W]=N,W=yt;else break t}}function e(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var q=H[0],W=H.pop();if(W!==q){H[0]=W;t:for(var yt=0,N=H.length,$=N>>>1;yt<$;){var nt=2*(yt+1)-1,et=H[nt],ht=nt+1,xt=H[ht];if(0>r(et,W))ht<N&&0>r(xt,et)?(H[yt]=xt,H[ht]=W,yt=ht):(H[yt]=et,H[nt]=W,yt=nt);else if(ht<N&&0>r(xt,W))H[yt]=xt,H[ht]=W,yt=ht;else break t}}return q}function r(H,q){var W=H.sortIndex-q.sortIndex;return W!==0?W:H.id-q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();l.unstable_now=function(){return u.now()-d}}var f=[],p=[],m=1,v=null,b=3,A=!1,S=!1,w=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(H){for(var q=e(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=H)s(p),q.sortIndex=q.expirationTime,t(f,q);else break;q=e(p)}}function F(H){if(w=!1,P(H),!S)if(e(f)!==null)S=!0,I||(I=!0,ft());else{var q=e(p);q!==null&&ct(F,q.startTime-H)}}var I=!1,G=-1,K=5,tt=-1;function it(){return M?!0:!(l.unstable_now()-tt<K)}function st(){if(M=!1,I){var H=l.unstable_now();tt=H;var q=!0;try{t:{S=!1,w&&(w=!1,L(G),G=-1),A=!0;var W=b;try{e:{for(P(H),v=e(f);v!==null&&!(v.expirationTime>H&&it());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,b=v.priorityLevel;var N=yt(v.expirationTime<=H);if(H=l.unstable_now(),typeof N=="function"){v.callback=N,P(H),q=!0;break e}v===e(f)&&s(f),P(H)}else s(f);v=e(f)}if(v!==null)q=!0;else{var $=e(p);$!==null&&ct(F,$.startTime-H),q=!1}}break t}finally{v=null,b=W,A=!1}q=void 0}}finally{q?ft():I=!1}}}var ft;if(typeof O=="function")ft=function(){O(st)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,rt=pt.port2;pt.port1.onmessage=st,ft=function(){rt.postMessage(null)}}else ft=function(){T(st,0)};function ct(H,q){G=T(function(){H(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(H){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var W=b;b=q;try{return H()}finally{b=W}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=b;b=H;try{return q()}finally{b=W}},l.unstable_scheduleCallback=function(H,q,W){var yt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?yt+W:yt):W=yt,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,H={id:m++,callback:q,priorityLevel:H,startTime:W,expirationTime:N,sortIndex:-1},W>yt?(H.sortIndex=W,t(p,H),e(f)===null&&H===e(p)&&(w?(L(G),G=-1):w=!0,ct(F,W-yt))):(H.sortIndex=N,t(f,H),S||A||(S=!0,I||(I=!0,ft()))),H},l.unstable_shouldYield=it,l.unstable_wrapCallback=function(H){var q=b;return function(){var W=b;b=q;try{return H.apply(this,arguments)}finally{b=W}}}}(Wv)),Wv}var tw;function mM(){return tw||(tw=1,Kv.exports=gM()),Kv.exports}var Qv={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function yM(){if(ew)return Ln;ew=1;var l=B0();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:m}}var u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,m)},Ln.flushSync=function(f){var p=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=m,s.d.f()}},Ln.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Ln.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ln.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,v=d(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=d(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Ln.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=d(m,p.crossOrigin);s.d.L(f,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=d(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Ln.requestFormReset=function(f){s.d.r(f)},Ln.unstable_batchedUpdates=function(f,p){return f(p)},Ln.useFormState=function(f,p,m){return u.H.useFormState(f,p,m)},Ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ln.version="19.1.0",Ln}var nw;function vM(){if(nw)return Qv.exports;nw=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Qv.exports=yM(),Qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function bM(){if(iw)return Jh;iw=1;var l=mM(),t=B0(),e=vM();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,c=i;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return d(g),n;if(y===c)return d(g),i;y=y.sibling}throw Error(s(188))}if(a.return!==c.return)a=g,c=y;else{for(var E=!1,C=g.child;C;){if(C===a){E=!0,a=g,c=y;break}if(C===c){E=!0,c=g,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,c=g;break}if(C===c){E=!0,c=y,a=g;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function ft(n){return n===null||typeof n!="object"?null:(n=st&&n[st]||n["@@iterator"],typeof n=="function"?n:null)}var pt=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case tt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case O:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case P:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case K:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var ct=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},yt=[],N=-1;function $(n){return{current:n}}function nt(n){0>N||(n.current=yt[N],yt[N]=null,N--)}function et(n,i){N++,yt[N]=n.current,n.current=i}var ht=$(null),xt=$(null),ut=$(null),Tt=$(null);function Dt(n,i){switch(et(ut,i),et(xt,n),et(ht,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?E_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=E_(i),n=__(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(ht),et(ht,n)}function Gt(){nt(ht),nt(xt),nt(ut)}function Xt(n){n.memoizedState!==null&&et(Tt,n);var i=ht.current,a=__(i,n.type);i!==a&&(et(xt,n),et(ht,a))}function Oe(n){xt.current===n&&(nt(ht),nt(xt)),Tt.current===n&&(nt(Tt),Yh._currentValue=W)}var rn=Object.prototype.hasOwnProperty,qt=l.unstable_scheduleCallback,Wt=l.unstable_cancelCallback,De=l.unstable_shouldYield,$t=l.unstable_requestPaint,ke=l.unstable_now,Bn=l.unstable_getCurrentPriorityLevel,Oi=l.unstable_ImmediatePriority,ce=l.unstable_UserBlockingPriority,In=l.unstable_NormalPriority,sa=l.unstable_LowPriority,xs=l.unstable_IdlePriority,aa=l.log,or=l.unstable_setDisableYieldValue,Wn=null,ie=null;function We(n){if(typeof aa=="function"&&or(n),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(Wn,n)}catch{}}var ve=Math.clz32?Math.clz32:lr,Di=Math.log,ih=Math.LN2;function lr(n){return n>>>=0,n===0?32:31-(Di(n)/ih|0)|0}var ki=256,xn=4194304;function ue(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ra(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var g=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?g=ue(c):(E&=C,E!==0?g=ue(E):a||(a=C&~n,a!==0&&(g=ue(a))))):(C=c&~y,C!==0?g=ue(C):E!==0?g=ue(E):a||(a=c&~n,a!==0&&(g=ue(a)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:g}function is(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function cr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var n=ki;return ki<<=1,(ki&4194048)===0&&(ki=256),n}function oa(){var n=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),n}function Ts(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ni(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ao(n,i,a,c,g,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,D=n.expirationTimes,U=n.hiddenUpdates;for(a=E&~a;0<a;){var Q=31-ve(a),J=1<<Q;C[Q]=0,D[Q]=-1;var V=U[Q];if(V!==null)for(U[Q]=null,Q=0;Q<V.length;Q++){var X=V[Q];X!==null&&(X.lane&=-536870913)}a&=~J}c!==0&&So(n,c,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function So(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-ve(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function He(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-ve(a),g=1<<c;g&i|n[c]&i&&(n[c]|=i),a&=~g}}function Tn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function St(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function It(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:U_(n.type))}function jn(n,i){var a=q.p;try{return q.p=n,i()}finally{q.p=a}}var Cn=Math.random().toString(36).slice(2),at="__reactFiber$"+Cn,mt="__reactProps$"+Cn,_t="__reactContainer$"+Cn,we="__reactEvents$"+Cn,on="__reactListeners$"+Cn,Pi="__reactHandles$"+Cn,ci="__reactResources$"+Cn,Be="__reactMarker$"+Cn;function Rn(n){delete n[at],delete n[mt],delete n[we],delete n[on],delete n[Pi]}function Zt(n){var i=n[at];if(i)return i;for(var a=n.parentNode;a;){if(i=a[_t]||a[at]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=C_(n);n!==null;){if(a=n[at])return a;n=C_(n)}return i}n=a,a=n.parentNode}return null}function ui(n){if(n=n[at]||n[_t]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Eo(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function hr(n){var i=n[ci];return i||(i=n[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(n){n[Be]=!0}var sh=new Set,ah={};function Cs(n,i){la(n,i),la(n+"Capture",i)}function la(n,i){for(ah[n]=i,n=0;n<i.length;n++)sh.add(i[n])}var Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},ec={};function _o(n){return rn.call(ec,n)?!0:rn.call(Fi,n)?!1:Jt.test(n)?ec[n]=!0:(Fi[n]=!0,!1)}function nc(n,i,a){if(_o(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function dr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function ca(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var Bm,gA;function ic(n){if(Bm===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bm=i&&i[1]||"",gA=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bm+n+gA}var Im=!1;function jm(n,i){if(!n||Im)return"";Im=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var V=X}Reflect.construct(n,[],J)}else{try{J.call()}catch(X){V=X}n.call(J.prototype)}}else{try{throw Error()}catch(X){V=X}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&V&&typeof X.stack=="string")return[X.stack,V.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var D=E.split(`
`),U=C.split(`
`);for(g=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(c===D.length||g===U.length)for(c=D.length-1,g=U.length-1;1<=c&&0<=g&&D[c]!==U[g];)g--;for(;1<=c&&0<=g;c--,g--)if(D[c]!==U[g]){if(c!==1||g!==1)do if(c--,g--,0>g||D[c]!==U[g]){var Q=`
`+D[c].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=c&&0<=g);break}}}finally{Im=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ic(a):""}function sC(n){switch(n.tag){case 26:case 27:case 5:return ic(n.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 15:return jm(n.type,!1);case 11:return jm(n.type.render,!1);case 1:return jm(n.type,!0);case 31:return ic("Activity");default:return""}}function mA(n){try{var i="";do i+=sC(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function zi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yA(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function aC(n){var i=yA(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Jf(n){n._valueTracker||(n._valueTracker=aC(n))}function vA(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=yA(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function tp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var rC=/[\n"\\]/g;function Hi(n){return n.replace(rC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Um(n,i,a,c,g,y,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+zi(i)):n.value!==""+zi(i)&&(n.value=""+zi(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Gm(n,E,zi(i)):a!=null?Gm(n,E,zi(a)):c!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+zi(C):n.removeAttribute("name")}function bA(n,i,a,c,g,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+zi(a):"",i=i!=null?""+zi(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=C?n.checked:!!c,n.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Gm(n,i,a){i==="number"&&tp(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function sc(n,i,a,c){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&c&&(n[a].defaultSelected=!0)}else{for(a=""+zi(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function AA(n,i,a){if(i!=null&&(i=""+zi(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+zi(a):""}function SA(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(s(92));if(ct(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=zi(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function ac(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var oC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function EA(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||oC.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function _A(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&a[g]!==c&&EA(n,g,c)}else for(var y in i)i.hasOwnProperty(y)&&EA(n,y,i[y])}function qm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ep(n){return cC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vm=null;function Xm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rc=null,oc=null;function wA(n){var i=ui(n);if(i&&(n=i.stateNode)){var a=n[mt]||null;t:switch(n=i.stateNode,i.type){case"input":if(Um(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Hi(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var g=c[mt]||null;if(!g)throw Error(s(90));Um(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&vA(c)}break t;case"textarea":AA(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&sc(n,!!a.multiple,i,!1)}}}var Ym=!1;function xA(n,i,a){if(Ym)return n(i,a);Ym=!0;try{var c=n(i);return c}finally{if(Ym=!1,(rc!==null||oc!==null)&&(Ip(),rc&&(i=rc,n=oc,oc=rc=null,wA(i),n)))for(i=0;i<n.length;i++)wA(n[i])}}function rh(n,i){var a=n.stateNode;if(a===null)return null;var c=a[mt]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=!1;if(ua)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){$m=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{$m=!1}var fr=null,Km=null,np=null;function TA(){if(np)return np;var n,i=Km,a=i.length,c,g="value"in fr?fr.value:fr.textContent,y=g.length;for(n=0;n<a&&i[n]===g[n];n++);var E=a-n;for(c=1;c<=E&&i[a-c]===g[y-c];c++);return np=g.slice(n,1<c?1-c:void 0)}function ip(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function sp(){return!0}function CA(){return!1}function Qn(n){function i(a,c,g,y,E){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sp:CA,this.isPropagationStopped=CA,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),i}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Qn(wo),lh=m({},wo,{view:0,detail:0}),uC=Qn(lh),Wm,Qm,ch,rp=m({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ch&&(ch&&n.type==="mousemove"?(Wm=n.screenX-ch.screenX,Qm=n.screenY-ch.screenY):Qm=Wm=0,ch=n),Wm)},movementY:function(n){return"movementY"in n?n.movementY:Qm}}),RA=Qn(rp),hC=m({},rp,{dataTransfer:0}),dC=Qn(hC),fC=m({},lh,{relatedTarget:0}),Zm=Qn(fC),pC=m({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),gC=Qn(pC),mC=m({},wo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yC=Qn(mC),vC=m({},wo,{data:0}),MA=Qn(vC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EC(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=SC[n])?!!i[n]:!1}function Jm(){return EC}var _C=m({},lh,{key:function(n){if(n.key){var i=bC[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ip(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?AC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(n){return n.type==="keypress"?ip(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ip(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wC=Qn(_C),xC=m({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LA=Qn(xC),TC=m({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),CC=Qn(TC),RC=m({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=Qn(RC),LC=m({},rp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=Qn(LC),DC=m({},wo,{newState:0,oldState:0}),kC=Qn(DC),NC=[9,13,27,32],ty=ua&&"CompositionEvent"in window,uh=null;ua&&"documentMode"in document&&(uh=document.documentMode);var PC=ua&&"TextEvent"in window&&!uh,OA=ua&&(!ty||uh&&8<uh&&11>=uh),DA=" ",kA=!1;function NA(n,i){switch(n){case"keyup":return NC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var lc=!1;function FC(n,i){switch(n){case"compositionend":return PA(i);case"keypress":return i.which!==32?null:(kA=!0,DA);case"textInput":return n=i.data,n===DA&&kA?null:n;default:return null}}function zC(n,i){if(lc)return n==="compositionend"||!ty&&NA(n,i)?(n=TA(),np=Km=fr=null,lc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return OA&&i.locale!=="ko"?null:i.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!HC[n.type]:i==="textarea"}function zA(n,i,a,c){rc?oc?oc.push(c):oc=[c]:rc=c,i=Xp(i,"onChange"),0<i.length&&(a=new ap("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var hh=null,dh=null;function BC(n){y_(n,0)}function op(n){var i=Eo(n);if(vA(i))return n}function HA(n,i){if(n==="change")return i}var BA=!1;if(ua){var ey;if(ua){var ny="oninput"in document;if(!ny){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),ny=typeof IA.oninput=="function"}ey=ny}else ey=!1;BA=ey&&(!document.documentMode||9<document.documentMode)}function jA(){hh&&(hh.detachEvent("onpropertychange",UA),dh=hh=null)}function UA(n){if(n.propertyName==="value"&&op(dh)){var i=[];zA(i,dh,n,Xm(n)),xA(BC,i)}}function IC(n,i,a){n==="focusin"?(jA(),hh=i,dh=a,hh.attachEvent("onpropertychange",UA)):n==="focusout"&&jA()}function jC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return op(dh)}function UC(n,i){if(n==="click")return op(i)}function GC(n,i){if(n==="input"||n==="change")return op(i)}function qC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var hi=typeof Object.is=="function"?Object.is:qC;function fh(n,i){if(hi(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!rn.call(i,g)||!hi(n[g],i[g]))return!1}return!0}function GA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qA(n,i){var a=GA(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=GA(a)}}function VA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?VA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function XA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=tp(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=tp(n.document)}return i}function iy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var VC=ua&&"documentMode"in document&&11>=document.documentMode,cc=null,sy=null,ph=null,ay=!1;function YA(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ay||cc==null||cc!==tp(c)||(c=cc,"selectionStart"in c&&iy(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ph&&fh(ph,c)||(ph=c,c=Xp(sy,"onSelect"),0<c.length&&(i=new ap("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=cc)))}function xo(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var uc={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},ry={},$A={};ua&&($A=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function To(n){if(ry[n])return ry[n];if(!uc[n])return n;var i=uc[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in $A)return ry[n]=i[a];return n}var KA=To("animationend"),WA=To("animationiteration"),QA=To("animationstart"),XC=To("transitionrun"),YC=To("transitionstart"),$C=To("transitioncancel"),ZA=To("transitionend"),JA=new Map,oy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oy.push("scrollEnd");function ss(n,i){JA.set(n,i),Cs(i,[n])}var tS=new WeakMap;function Bi(n,i){if(typeof n=="object"&&n!==null){var a=tS.get(n);return a!==void 0?a:(i={value:n,source:i,stack:mA(i)},tS.set(n,i),i)}return{value:n,source:i,stack:mA(i)}}var Ii=[],hc=0,ly=0;function lp(){for(var n=hc,i=ly=hc=0;i<n;){var a=Ii[i];Ii[i++]=null;var c=Ii[i];Ii[i++]=null;var g=Ii[i];Ii[i++]=null;var y=Ii[i];if(Ii[i++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}y!==0&&eS(a,g,y)}}function cp(n,i,a,c){Ii[hc++]=n,Ii[hc++]=i,Ii[hc++]=a,Ii[hc++]=c,ly|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function cy(n,i,a,c){return cp(n,i,a,c),up(n)}function dc(n,i){return cp(n,null,null,i),up(n)}function eS(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var g=!1,y=n.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&i!==null&&(g=31-ve(a),n=y.hiddenUpdates,c=n[g],c===null?n[g]=[i]:c.push(i),i.lane=a|536870912),y):null}function up(n){if(50<Bh)throw Bh=0,gv=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var fc={};function KC(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(n,i,a,c){return new KC(n,i,a,c)}function uy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ha(n,i){var a=n.alternate;return a===null?(a=di(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function nS(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function hp(n,i,a,c,g,y){var E=0;if(c=n,typeof n=="function")uy(n)&&(E=1);else if(typeof n=="string")E=QR(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case tt:return n=di(31,a,i,g),n.elementType=tt,n.lanes=y,n;case S:return Co(a.children,g,y,i);case w:E=8,g|=24;break;case M:return n=di(12,a,i,g|2),n.elementType=M,n.lanes=y,n;case F:return n=di(13,a,i,g),n.elementType=F,n.lanes=y,n;case I:return n=di(19,a,i,g),n.elementType=I,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case O:E=10;break t;case L:E=9;break t;case P:E=11;break t;case G:E=14;break t;case K:E=16,c=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=di(E,a,i,g),i.elementType=n,i.type=c,i.lanes=y,i}function Co(n,i,a,c){return n=di(7,n,c,i),n.lanes=a,n}function hy(n,i,a){return n=di(6,n,null,i),n.lanes=a,n}function dy(n,i,a){return i=di(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var pc=[],gc=0,dp=null,fp=0,ji=[],Ui=0,Ro=null,da=1,fa="";function Mo(n,i){pc[gc++]=fp,pc[gc++]=dp,dp=n,fp=i}function iS(n,i,a){ji[Ui++]=da,ji[Ui++]=fa,ji[Ui++]=Ro,Ro=n;var c=da;n=fa;var g=32-ve(c)-1;c&=~(1<<g),a+=1;var y=32-ve(i)+g;if(30<y){var E=g-g%5;y=(c&(1<<E)-1).toString(32),c>>=E,g-=E,da=1<<32-ve(i)+g|a<<g|c,fa=y+n}else da=1<<y|a<<g|c,fa=n}function fy(n){n.return!==null&&(Mo(n,1),iS(n,1,0))}function py(n){for(;n===dp;)dp=pc[--gc],pc[gc]=null,fp=pc[--gc],pc[gc]=null;for(;n===Ro;)Ro=ji[--Ui],ji[Ui]=null,fa=ji[--Ui],ji[Ui]=null,da=ji[--Ui],ji[Ui]=null}var Un=null,Ne=null,te=!1,Lo=null,Rs=!1,gy=Error(s(519));function Oo(n){var i=Error(s(418,""));throw yh(Bi(i,n)),gy}function sS(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[at]=n,i[mt]=c,a){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(a=0;a<jh.length;a++)Ut(jh[a],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":Ut("invalid",i),bA(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Jf(i);break;case"select":Ut("invalid",i);break;case"textarea":Ut("invalid",i),SA(i,c.value,c.defaultValue,c.children),Jf(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||S_(i.textContent,a)?(c.popover!=null&&(Ut("beforetoggle",i),Ut("toggle",i)),c.onScroll!=null&&Ut("scroll",i),c.onScrollEnd!=null&&Ut("scrollend",i),c.onClick!=null&&(i.onclick=Yp),i=!0):i=!1,i||Oo(n)}function aS(n){for(Un=n.return;Un;)switch(Un.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:Un=Un.return}}function gh(n){if(n!==Un)return!1;if(!te)return aS(n),te=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ov(n.type,n.memoizedProps)),a=!a),a&&Ne&&Oo(n),aS(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ne=rs(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ne=null}}else i===27?(i=Ne,Mr(n.type)?(n=Pv,Pv=null,Ne=n):Ne=i):Ne=Un?rs(n.stateNode.nextSibling):null;return!0}function mh(){Ne=Un=null,te=!1}function rS(){var n=Lo;return n!==null&&(ti===null?ti=n:ti.push.apply(ti,n),Lo=null),n}function yh(n){Lo===null?Lo=[n]:Lo.push(n)}var my=$(null),Do=null,pa=null;function pr(n,i,a){et(my,i._currentValue),i._currentValue=a}function ga(n){n._currentValue=my.current,nt(my)}function yy(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function vy(n,i,a,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=g;for(var D=0;D<i.length;D++)if(C.context===i[D]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),yy(y.return,a,n),c||(E=null);break t}y=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),yy(E,a,n),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function vh(n,i,a,c){n=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=g.type;hi(g.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(g===Tt.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Yh):n=[Yh])}g=g.return}n!==null&&vy(i,n,a,c),i.flags|=262144}function pp(n){for(n=n.firstContext;n!==null;){if(!hi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ko(n){Do=n,pa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return oS(Do,n)}function gp(n,i){return Do===null&&ko(n),oS(n,i)}function oS(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},pa===null){if(n===null)throw Error(s(308));pa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pa=pa.next=i;return a}var WC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},QC=l.unstable_scheduleCallback,ZC=l.unstable_NormalPriority,Qe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function by(){return{controller:new WC,data:new Map,refCount:0}}function bh(n){n.refCount--,n.refCount===0&&QC(ZC,function(){n.controller.abort()})}var Ah=null,Ay=0,mc=0,yc=null;function JC(n,i){if(Ah===null){var a=Ah=[];Ay=0,mc=Ev(),yc={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Ay++,i.then(lS,lS),i}function lS(){if(--Ay===0&&Ah!==null){yc!==null&&(yc.status="fulfilled");var n=Ah;Ah=null,mc=0,yc=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function tR(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var cS=H.S;H.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JC(n,i),cS!==null&&cS(n,i)};var No=$(null);function Sy(){var n=No.current;return n!==null?n:be.pooledCache}function mp(n,i){i===null?et(No,No.current):et(No,i.pool)}function uS(){var n=Sy();return n===null?null:{parent:Qe._currentValue,pool:n}}var Sh=Error(s(460)),hS=Error(s(474)),yp=Error(s(542)),Ey={then:function(){}};function dS(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vp(){}function fS(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(vp,vp),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,gS(n),n;default:if(typeof i.status=="string")i.then(vp,vp);else{if(n=be,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,gS(n),n}throw Eh=i,Sh}}var Eh=null;function pS(){if(Eh===null)throw Error(s(459));var n=Eh;return Eh=null,n}function gS(n){if(n===Sh||n===yp)throw Error(s(483))}var gr=!1;function _y(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wy(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function yr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(se&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=up(n),eS(n,null,a),i}return cp(n,c,i,a),up(n)}function _h(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,He(n,a)}}function xy(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?g=y=i:y=y.next=i}else g=y=i;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Ty=!1;function wh(){if(Ty){var n=yc;if(n!==null)throw n}}function xh(n,i,a,c){Ty=!1;var g=n.updateQueue;gr=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var D=C,U=D.next;D.next=null,E===null?y=U:E.next=U,E=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==E&&(C===null?Q.firstBaseUpdate=U:C.next=U,Q.lastBaseUpdate=D))}if(y!==null){var J=g.baseState;E=0,Q=U=D=null,C=y;do{var V=C.lane&-536870913,X=V!==C.lane;if(X?(Kt&V)===V:(c&V)===V){V!==0&&V===mc&&(Ty=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ct=n,Et=C;V=i;var fe=a;switch(Et.tag){case 1:if(Ct=Et.payload,typeof Ct=="function"){J=Ct.call(fe,J,V);break t}J=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Et.payload,V=typeof Ct=="function"?Ct.call(fe,J,V):Ct,V==null)break t;J=m({},J,V);break t;case 2:gr=!0}}V=C.callback,V!==null&&(n.flags|=64,X&&(n.flags|=8192),X=g.callbacks,X===null?g.callbacks=[V]:X.push(V))}else X={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(U=Q=X,D=J):Q=Q.next=X,E|=V;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;X=C,C=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);Q===null&&(D=J),g.baseState=D,g.firstBaseUpdate=U,g.lastBaseUpdate=Q,y===null&&(g.shared.lanes=0),xr|=E,n.lanes=E,n.memoizedState=J}}function mS(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function yS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)mS(a[n],i)}var vc=$(null),bp=$(0);function vS(n,i){n=Ea,et(bp,n),et(vc,i),Ea=n|i.baseLanes}function Cy(){et(bp,Ea),et(vc,vc.current)}function Ry(){Ea=bp.current,nt(vc),nt(bp)}var vr=0,Ft=null,he=null,Ve=null,Ap=!1,bc=!1,Po=!1,Sp=0,Th=0,Ac=null,eR=0;function je(){throw Error(s(321))}function My(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!hi(n[a],i[a]))return!1;return!0}function Ly(n,i,a,c,g,y){return vr=y,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=n===null||n.memoizedState===null?eE:nE,Po=!1,y=a(c,g),Po=!1,bc&&(y=AS(i,a,c,g)),bS(n),y}function bS(n){H.H=Cp;var i=he!==null&&he.next!==null;if(vr=0,Ve=he=Ft=null,Ap=!1,Th=0,Ac=null,i)throw Error(s(300));n===null||ln||(n=n.dependencies,n!==null&&pp(n)&&(ln=!0))}function AS(n,i,a,c){Ft=n;var g=0;do{if(bc&&(Ac=null),Th=0,bc=!1,25<=g)throw Error(s(301));if(g+=1,Ve=he=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=lR,y=i(a,c)}while(bc);return y}function nR(){var n=H.H,i=n.useState()[0];return i=typeof i.then=="function"?Ch(i):i,n=n.useState()[0],(he!==null?he.memoizedState:null)!==n&&(Ft.flags|=1024),i}function Oy(){var n=Sp!==0;return Sp=0,n}function Dy(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ky(n){if(Ap){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ap=!1}vr=0,Ve=he=Ft=null,bc=!1,Th=Sp=0,Ac=null}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ft.memoizedState=Ve=n:Ve=Ve.next=n,Ve}function Xe(){if(he===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=he.next;var i=Ve===null?Ft.memoizedState:Ve.next;if(i!==null)Ve=i,he=n;else{if(n===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));he=n,n={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ve===null?Ft.memoizedState=Ve=n:Ve=Ve.next=n}return Ve}function Ny(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ch(n){var i=Th;return Th+=1,Ac===null&&(Ac=[]),n=fS(Ac,n,i),i=Ft,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?eE:nE),n}function Ep(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ch(n);if(n.$$typeof===O)return Mn(n)}throw Error(s(438,String(n)))}function Py(n){var i=null,a=Ft.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ft.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ny(),Ft.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=it;return i.index++,a}function ma(n,i){return typeof i=="function"?i(n):i}function _p(n){var i=Xe();return Fy(i,he,n)}function Fy(n,i,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var g=n.baseQueue,y=c.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}i.baseQueue=g=y,c.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{i=g.next;var C=E=null,D=null,U=i,Q=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Kt&J)===J:(vr&J)===J){var V=U.revertLane;if(V===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===mc&&(Q=!0);else if((vr&V)===V){U=U.next,V===mc&&(Q=!0);continue}else J={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(C=D=J,E=y):D=D.next=J,Ft.lanes|=V,xr|=V;J=U.action,Po&&a(y,J),y=U.hasEagerState?U.eagerState:a(y,J)}else V={lane:J,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(C=D=V,E=y):D=D.next=V,Ft.lanes|=J,xr|=J;U=U.next}while(U!==null&&U!==i);if(D===null?E=y:D.next=C,!hi(y,n.memoizedState)&&(ln=!0,Q&&(a=yc,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=D,c.lastRenderedState=y}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function zy(n){var i=Xe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,g=a.pending,y=i.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do y=n(y,E.action),E=E.next;while(E!==g);hi(y,i.memoizedState)||(ln=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function SS(n,i,a){var c=Ft,g=Xe(),y=te;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!hi((he||g).memoizedState,a);E&&(g.memoizedState=a,ln=!0),g=g.queue;var C=wS.bind(null,c,g,n);if(Rh(2048,8,C,[n]),g.getSnapshot!==i||E||Ve!==null&&Ve.memoizedState.tag&1){if(c.flags|=2048,Sc(9,wp(),_S.bind(null,c,g,a,i),null),be===null)throw Error(s(349));y||(vr&124)!==0||ES(c,i,a)}return a}function ES(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ft.updateQueue,i===null?(i=Ny(),Ft.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function _S(n,i,a,c){i.value=a,i.getSnapshot=c,xS(i)&&TS(n)}function wS(n,i,a){return a(function(){xS(i)&&TS(n)})}function xS(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!hi(n,a)}catch{return!0}}function TS(n){var i=dc(n,2);i!==null&&yi(i,n,2)}function Hy(n){var i=Zn();if(typeof n=="function"){var a=n;if(n=a(),Po){We(!0);try{a()}finally{We(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},i}function CS(n,i,a,c){return n.baseState=a,Fy(n,he,typeof c=="function"?c:ma)}function iR(n,i,a,c,g){if(Tp(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};H.T!==null?a(!0):y.isTransition=!1,c(y),a=i.pending,a===null?(y.next=i.pending=y,RS(i,y)):(y.next=a.next,i.pending=a.next=y)}}function RS(n,i){var a=i.action,c=i.payload,g=n.state;if(i.isTransition){var y=H.T,E={};H.T=E;try{var C=a(g,c),D=H.S;D!==null&&D(E,C),MS(n,i,C)}catch(U){By(n,i,U)}finally{H.T=y}}else try{y=a(g,c),MS(n,i,y)}catch(U){By(n,i,U)}}function MS(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){LS(n,i,c)},function(c){return By(n,i,c)}):LS(n,i,a)}function LS(n,i,a){i.status="fulfilled",i.value=a,OS(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,RS(n,a)))}function By(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,OS(i),i=i.next;while(i!==c)}n.action=null}function OS(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function DS(n,i){return i}function kS(n,i){if(te){var a=be.formState;if(a!==null){t:{var c=Ft;if(te){if(Ne){e:{for(var g=Ne,y=Rs;g.nodeType!==8;){if(!y){g=null;break e}if(g=rs(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ne=rs(g.nextSibling),c=g.data==="F!";break t}}Oo(c)}c=!1}c&&(i=a[0])}}return a=Zn(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DS,lastRenderedState:i},a.queue=c,a=ZS.bind(null,Ft,c),c.dispatch=a,c=Hy(!1),y=qy.bind(null,Ft,!1,c.queue),c=Zn(),g={state:i,dispatch:null,action:n,pending:null},c.queue=g,a=iR.bind(null,Ft,g,y,a),g.dispatch=a,c.memoizedState=n,[i,a,!1]}function NS(n){var i=Xe();return PS(i,he,n)}function PS(n,i,a){if(i=Fy(n,i,DS)[0],n=_p(ma)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ch(i)}catch(E){throw E===Sh?yp:E}else c=i;i=Xe();var g=i.queue,y=g.dispatch;return a!==i.memoizedState&&(Ft.flags|=2048,Sc(9,wp(),sR.bind(null,g,a),null)),[c,y,n]}function sR(n,i){n.action=i}function FS(n){var i=Xe(),a=he;if(a!==null)return PS(i,a,n);Xe(),i=i.memoizedState,a=Xe();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function Sc(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=Ft.updateQueue,i===null&&(i=Ny(),Ft.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function wp(){return{destroy:void 0,resource:void 0}}function zS(){return Xe().memoizedState}function xp(n,i,a,c){var g=Zn();c=c===void 0?null:c,Ft.flags|=n,g.memoizedState=Sc(1|i,wp(),a,c)}function Rh(n,i,a,c){var g=Xe();c=c===void 0?null:c;var y=g.memoizedState.inst;he!==null&&c!==null&&My(c,he.memoizedState.deps)?g.memoizedState=Sc(i,y,a,c):(Ft.flags|=n,g.memoizedState=Sc(1|i,y,a,c))}function HS(n,i){xp(8390656,8,n,i)}function BS(n,i){Rh(2048,8,n,i)}function IS(n,i){return Rh(4,2,n,i)}function jS(n,i){return Rh(4,4,n,i)}function US(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function GS(n,i,a){a=a!=null?a.concat([n]):null,Rh(4,4,US.bind(null,i,n),a)}function Iy(){}function qS(n,i){var a=Xe();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&My(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function VS(n,i){var a=Xe();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&My(i,c[1]))return c[0];if(c=n(),Po){We(!0);try{n()}finally{We(!1)}}return a.memoizedState=[c,i],c}function jy(n,i,a){return a===void 0||(vr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=$E(),Ft.lanes|=n,xr|=n,a)}function XS(n,i,a,c){return hi(a,i)?a:vc.current!==null?(n=jy(n,a,c),hi(n,i)||(ln=!0),n):(vr&42)===0?(ln=!0,n.memoizedState=a):(n=$E(),Ft.lanes|=n,xr|=n,i)}function YS(n,i,a,c,g){var y=q.p;q.p=y!==0&&8>y?y:8;var E=H.T,C={};H.T=C,qy(n,!1,i,a);try{var D=g(),U=H.S;if(U!==null&&U(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=tR(D,c);Mh(n,i,Q,mi(n))}else Mh(n,i,c,mi(n))}catch(J){Mh(n,i,{then:function(){},status:"rejected",reason:J},mi())}finally{q.p=y,H.T=E}}function aR(){}function Uy(n,i,a,c){if(n.tag!==5)throw Error(s(476));var g=$S(n).queue;YS(n,g,i,W,a===null?aR:function(){return KS(n),a(c)})}function $S(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:W},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function KS(n){var i=$S(n).next.queue;Mh(n,i,{},mi())}function Gy(){return Mn(Yh)}function WS(){return Xe().memoizedState}function QS(){return Xe().memoizedState}function rR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=mi();n=mr(a);var c=yr(i,n,a);c!==null&&(yi(c,i,a),_h(c,i,a)),i={cache:by()},n.payload=i;return}i=i.return}}function oR(n,i,a){var c=mi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tp(n)?JS(i,a):(a=cy(n,i,a,c),a!==null&&(yi(a,n,c),tE(a,i,c)))}function ZS(n,i,a){var c=mi();Mh(n,i,a,c)}function Mh(n,i,a,c){var g={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tp(n))JS(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,C=y(E,a);if(g.hasEagerState=!0,g.eagerState=C,hi(C,E))return cp(n,i,g,0),be===null&&lp(),!1}catch{}finally{}if(a=cy(n,i,g,c),a!==null)return yi(a,n,c),tE(a,i,c),!0}return!1}function qy(n,i,a,c){if(c={lane:2,revertLane:Ev(),action:c,hasEagerState:!1,eagerState:null,next:null},Tp(n)){if(i)throw Error(s(479))}else i=cy(n,a,c,2),i!==null&&yi(i,n,2)}function Tp(n){var i=n.alternate;return n===Ft||i!==null&&i===Ft}function JS(n,i){bc=Ap=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function tE(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,He(n,a)}}var Cp={readContext:Mn,use:Ep,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},eE={readContext:Mn,use:Ep,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:Mn,useEffect:HS,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,xp(4194308,4,US.bind(null,i,n),a)},useLayoutEffect:function(n,i){return xp(4194308,4,n,i)},useInsertionEffect:function(n,i){xp(4,2,n,i)},useMemo:function(n,i){var a=Zn();i=i===void 0?null:i;var c=n();if(Po){We(!0);try{n()}finally{We(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=Zn();if(a!==void 0){var g=a(i);if(Po){We(!0);try{a(i)}finally{We(!1)}}}else g=i;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=oR.bind(null,Ft,n),[c.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:function(n){n=Hy(n);var i=n.queue,a=ZS.bind(null,Ft,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Iy,useDeferredValue:function(n,i){var a=Zn();return jy(a,n,i)},useTransition:function(){var n=Hy(!1);return n=YS.bind(null,Ft,n.queue,!0,!1),Zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=Ft,g=Zn();if(te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),be===null)throw Error(s(349));(Kt&124)!==0||ES(c,i,a)}g.memoizedState=a;var y={value:a,getSnapshot:i};return g.queue=y,HS(wS.bind(null,c,y,n),[n]),c.flags|=2048,Sc(9,wp(),_S.bind(null,c,y,a,i),null),a},useId:function(){var n=Zn(),i=be.identifierPrefix;if(te){var a=fa,c=da;a=(c&~(1<<32-ve(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=Sp++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=eR++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Gy,useFormState:kS,useActionState:kS,useOptimistic:function(n){var i=Zn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qy.bind(null,Ft,!0,a),a.dispatch=i,[n,i]},useMemoCache:Py,useCacheRefresh:function(){return Zn().memoizedState=rR.bind(null,Ft)}},nE={readContext:Mn,use:Ep,useCallback:qS,useContext:Mn,useEffect:BS,useImperativeHandle:GS,useInsertionEffect:IS,useLayoutEffect:jS,useMemo:VS,useReducer:_p,useRef:zS,useState:function(){return _p(ma)},useDebugValue:Iy,useDeferredValue:function(n,i){var a=Xe();return XS(a,he.memoizedState,n,i)},useTransition:function(){var n=_p(ma)[0],i=Xe().memoizedState;return[typeof n=="boolean"?n:Ch(n),i]},useSyncExternalStore:SS,useId:WS,useHostTransitionStatus:Gy,useFormState:NS,useActionState:NS,useOptimistic:function(n,i){var a=Xe();return CS(a,he,n,i)},useMemoCache:Py,useCacheRefresh:QS},lR={readContext:Mn,use:Ep,useCallback:qS,useContext:Mn,useEffect:BS,useImperativeHandle:GS,useInsertionEffect:IS,useLayoutEffect:jS,useMemo:VS,useReducer:zy,useRef:zS,useState:function(){return zy(ma)},useDebugValue:Iy,useDeferredValue:function(n,i){var a=Xe();return he===null?jy(a,n,i):XS(a,he.memoizedState,n,i)},useTransition:function(){var n=zy(ma)[0],i=Xe().memoizedState;return[typeof n=="boolean"?n:Ch(n),i]},useSyncExternalStore:SS,useId:WS,useHostTransitionStatus:Gy,useFormState:FS,useActionState:FS,useOptimistic:function(n,i){var a=Xe();return he!==null?CS(a,he,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Py,useCacheRefresh:QS},Ec=null,Lh=0;function Rp(n){var i=Lh;return Lh+=1,Ec===null&&(Ec=[]),fS(Ec,n,i)}function Oh(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mp(n,i){throw i.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function iE(n){var i=n._init;return i(n._payload)}function sE(n){function i(B,z){if(n){var j=B.deletions;j===null?(B.deletions=[z],B.flags|=16):j.push(z)}}function a(B,z){if(!n)return null;for(;z!==null;)i(B,z),z=z.sibling;return null}function c(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function g(B,z){return B=ha(B,z),B.index=0,B.sibling=null,B}function y(B,z,j){return B.index=j,n?(j=B.alternate,j!==null?(j=j.index,j<z?(B.flags|=67108866,z):j):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function C(B,z,j,Z){return z===null||z.tag!==6?(z=hy(j,B.mode,Z),z.return=B,z):(z=g(z,j),z.return=B,z)}function D(B,z,j,Z){var gt=j.type;return gt===S?Q(B,z,j.props.children,Z,j.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&iE(gt)===z.type)?(z=g(z,j.props),Oh(z,j),z.return=B,z):(z=hp(j.type,j.key,j.props,null,B.mode,Z),Oh(z,j),z.return=B,z)}function U(B,z,j,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==j.containerInfo||z.stateNode.implementation!==j.implementation?(z=dy(j,B.mode,Z),z.return=B,z):(z=g(z,j.children||[]),z.return=B,z)}function Q(B,z,j,Z,gt){return z===null||z.tag!==7?(z=Co(j,B.mode,Z,gt),z.return=B,z):(z=g(z,j),z.return=B,z)}function J(B,z,j){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=hy(""+z,B.mode,j),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return j=hp(z.type,z.key,z.props,null,B.mode,j),Oh(j,z),j.return=B,j;case A:return z=dy(z,B.mode,j),z.return=B,z;case K:var Z=z._init;return z=Z(z._payload),J(B,z,j)}if(ct(z)||ft(z))return z=Co(z,B.mode,j,null),z.return=B,z;if(typeof z.then=="function")return J(B,Rp(z),j);if(z.$$typeof===O)return J(B,gp(B,z),j);Mp(B,z)}return null}function V(B,z,j,Z){var gt=z!==null?z.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return gt!==null?null:C(B,z,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===gt?D(B,z,j,Z):null;case A:return j.key===gt?U(B,z,j,Z):null;case K:return gt=j._init,j=gt(j._payload),V(B,z,j,Z)}if(ct(j)||ft(j))return gt!==null?null:Q(B,z,j,Z,null);if(typeof j.then=="function")return V(B,z,Rp(j),Z);if(j.$$typeof===O)return V(B,z,gp(B,j),Z);Mp(B,j)}return null}function X(B,z,j,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(j)||null,C(z,B,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return B=B.get(Z.key===null?j:Z.key)||null,D(z,B,Z,gt);case A:return B=B.get(Z.key===null?j:Z.key)||null,U(z,B,Z,gt);case K:var Ht=Z._init;return Z=Ht(Z._payload),X(B,z,j,Z,gt)}if(ct(Z)||ft(Z))return B=B.get(j)||null,Q(z,B,Z,gt,null);if(typeof Z.then=="function")return X(B,z,j,Rp(Z),gt);if(Z.$$typeof===O)return X(B,z,j,gp(z,Z),gt);Mp(z,Z)}return null}function Ct(B,z,j,Z){for(var gt=null,Ht=null,bt=z,wt=z=0,un=null;bt!==null&&wt<j.length;wt++){bt.index>wt?(un=bt,bt=null):un=bt.sibling;var Qt=V(B,bt,j[wt],Z);if(Qt===null){bt===null&&(bt=un);break}n&&bt&&Qt.alternate===null&&i(B,bt),z=y(Qt,z,wt),Ht===null?gt=Qt:Ht.sibling=Qt,Ht=Qt,bt=un}if(wt===j.length)return a(B,bt),te&&Mo(B,wt),gt;if(bt===null){for(;wt<j.length;wt++)bt=J(B,j[wt],Z),bt!==null&&(z=y(bt,z,wt),Ht===null?gt=bt:Ht.sibling=bt,Ht=bt);return te&&Mo(B,wt),gt}for(bt=c(bt);wt<j.length;wt++)un=X(bt,B,wt,j[wt],Z),un!==null&&(n&&un.alternate!==null&&bt.delete(un.key===null?wt:un.key),z=y(un,z,wt),Ht===null?gt=un:Ht.sibling=un,Ht=un);return n&&bt.forEach(function(Nr){return i(B,Nr)}),te&&Mo(B,wt),gt}function Et(B,z,j,Z){if(j==null)throw Error(s(151));for(var gt=null,Ht=null,bt=z,wt=z=0,un=null,Qt=j.next();bt!==null&&!Qt.done;wt++,Qt=j.next()){bt.index>wt?(un=bt,bt=null):un=bt.sibling;var Nr=V(B,bt,Qt.value,Z);if(Nr===null){bt===null&&(bt=un);break}n&&bt&&Nr.alternate===null&&i(B,bt),z=y(Nr,z,wt),Ht===null?gt=Nr:Ht.sibling=Nr,Ht=Nr,bt=un}if(Qt.done)return a(B,bt),te&&Mo(B,wt),gt;if(bt===null){for(;!Qt.done;wt++,Qt=j.next())Qt=J(B,Qt.value,Z),Qt!==null&&(z=y(Qt,z,wt),Ht===null?gt=Qt:Ht.sibling=Qt,Ht=Qt);return te&&Mo(B,wt),gt}for(bt=c(bt);!Qt.done;wt++,Qt=j.next())Qt=X(bt,B,wt,Qt.value,Z),Qt!==null&&(n&&Qt.alternate!==null&&bt.delete(Qt.key===null?wt:Qt.key),z=y(Qt,z,wt),Ht===null?gt=Qt:Ht.sibling=Qt,Ht=Qt);return n&&bt.forEach(function(cM){return i(B,cM)}),te&&Mo(B,wt),gt}function fe(B,z,j,Z){if(typeof j=="object"&&j!==null&&j.type===S&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var gt=j.key;z!==null;){if(z.key===gt){if(gt=j.type,gt===S){if(z.tag===7){a(B,z.sibling),Z=g(z,j.props.children),Z.return=B,B=Z;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&iE(gt)===z.type){a(B,z.sibling),Z=g(z,j.props),Oh(Z,j),Z.return=B,B=Z;break t}a(B,z);break}else i(B,z);z=z.sibling}j.type===S?(Z=Co(j.props.children,B.mode,Z,j.key),Z.return=B,B=Z):(Z=hp(j.type,j.key,j.props,null,B.mode,Z),Oh(Z,j),Z.return=B,B=Z)}return E(B);case A:t:{for(gt=j.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===j.containerInfo&&z.stateNode.implementation===j.implementation){a(B,z.sibling),Z=g(z,j.children||[]),Z.return=B,B=Z;break t}else{a(B,z);break}else i(B,z);z=z.sibling}Z=dy(j,B.mode,Z),Z.return=B,B=Z}return E(B);case K:return gt=j._init,j=gt(j._payload),fe(B,z,j,Z)}if(ct(j))return Ct(B,z,j,Z);if(ft(j)){if(gt=ft(j),typeof gt!="function")throw Error(s(150));return j=gt.call(j),Et(B,z,j,Z)}if(typeof j.then=="function")return fe(B,z,Rp(j),Z);if(j.$$typeof===O)return fe(B,z,gp(B,j),Z);Mp(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,z!==null&&z.tag===6?(a(B,z.sibling),Z=g(z,j),Z.return=B,B=Z):(a(B,z),Z=hy(j,B.mode,Z),Z.return=B,B=Z),E(B)):a(B,z)}return function(B,z,j,Z){try{Lh=0;var gt=fe(B,z,j,Z);return Ec=null,gt}catch(bt){if(bt===Sh||bt===yp)throw bt;var Ht=di(29,bt,null,B.mode);return Ht.lanes=Z,Ht.return=B,Ht}finally{}}}var _c=sE(!0),aE=sE(!1),Gi=$(null),Ms=null;function br(n){var i=n.alternate;et(Ze,Ze.current&1),et(Gi,n),Ms===null&&(i===null||vc.current!==null||i.memoizedState!==null)&&(Ms=n)}function rE(n){if(n.tag===22){if(et(Ze,Ze.current),et(Gi,n),Ms===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ms=n)}}else Ar()}function Ar(){et(Ze,Ze.current),et(Gi,Gi.current)}function ya(n){nt(Gi),Ms===n&&(Ms=null),nt(Ze)}var Ze=$(0);function Lp(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nv(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vy(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:m({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xy={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=mi(),g=mr(c);g.payload=i,a!=null&&(g.callback=a),i=yr(n,g,c),i!==null&&(yi(i,n,c),_h(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=mi(),g=mr(c);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=yr(n,g,c),i!==null&&(yi(i,n,c),_h(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=mi(),c=mr(a);c.tag=2,i!=null&&(c.callback=i),i=yr(n,c,a),i!==null&&(yi(i,n,a),_h(i,n,a))}};function oE(n,i,a,c,g,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,E):i.prototype&&i.prototype.isPureReactComponent?!fh(a,c)||!fh(g,y):!0}function lE(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Xy.enqueueReplaceState(i,i.state,null)}function Fo(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=m({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var Op=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function cE(n){Op(n)}function uE(n){console.error(n)}function hE(n){Op(n)}function Dp(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function dE(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Yy(n,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dp(n,i)},a}function fE(n){return n=mr(n),n.tag=3,n}function pE(n,i,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;n.payload=function(){return g(y)},n.callback=function(){dE(i,a,c)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){dE(i,a,c),typeof g!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function cR(n,i,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&vh(i,a,g,!0),a=Gi.current,a!==null){switch(a.tag){case 13:return Ms===null?yv():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===Ey?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),bv(n,c,g)),!1;case 22:return a.flags|=65536,c===Ey?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),bv(n,c,g)),!1}throw Error(s(435,a.tag))}return bv(n,c,g),yv(),!1}if(te)return i=Gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==gy&&(n=Error(s(422),{cause:c}),yh(Bi(n,a)))):(c!==gy&&(i=Error(s(423),{cause:c}),yh(Bi(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=Bi(c,a),g=Yy(n.stateNode,c,g),xy(n,g),Pe!==4&&(Pe=2)),!1;var y=Error(s(520),{cause:c});if(y=Bi(y,a),Hh===null?Hh=[y]:Hh.push(y),Pe!==4&&(Pe=2),i===null)return!0;c=Bi(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Yy(a.stateNode,c,n),xy(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tr===null||!Tr.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=fE(g),pE(g,n,a,c),xy(a,g),!1}a=a.return}while(a!==null);return!1}var gE=Error(s(461)),ln=!1;function yn(n,i,a,c){i.child=n===null?aE(i,null,a,c):_c(i,n.child,a,c)}function mE(n,i,a,c,g){a=a.render;var y=i.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return ko(i),c=Ly(n,i,a,E,y,g),C=Oy(),n!==null&&!ln?(Dy(n,i,g),va(n,i,g)):(te&&C&&fy(i),i.flags|=1,yn(n,i,c,g),i.child)}function yE(n,i,a,c,g){if(n===null){var y=a.type;return typeof y=="function"&&!uy(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,vE(n,i,y,c,g)):(n=hp(a.type,null,c,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!ev(n,g)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:fh,a(E,c)&&n.ref===i.ref)return va(n,i,g)}return i.flags|=1,n=ha(y,c),n.ref=i.ref,n.return=i,i.child=n}function vE(n,i,a,c,g){if(n!==null){var y=n.memoizedProps;if(fh(y,c)&&n.ref===i.ref)if(ln=!1,i.pendingProps=c=y,ev(n,g))(n.flags&131072)!==0&&(ln=!0);else return i.lanes=n.lanes,va(n,i,g)}return $y(n,i,a,c,g)}function bE(n,i,a){var c=i.pendingProps,g=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|a:a,n!==null){for(g=i.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return AE(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&mp(i,y!==null?y.cachePool:null),y!==null?vS(i,y):Cy(),rE(i);else return i.lanes=i.childLanes=536870912,AE(n,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(mp(i,y.cachePool),vS(i,y),Ar(),i.memoizedState=null):(n!==null&&mp(i,null),Cy(),Ar());return yn(n,i,g,a),i.child}function AE(n,i,a,c){var g=Sy();return g=g===null?null:{parent:Qe._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&mp(i,null),Cy(),rE(i),n!==null&&vh(n,i,c,!0),null}function kp(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function $y(n,i,a,c,g){return ko(i),a=Ly(n,i,a,c,void 0,g),c=Oy(),n!==null&&!ln?(Dy(n,i,g),va(n,i,g)):(te&&c&&fy(i),i.flags|=1,yn(n,i,a,g),i.child)}function SE(n,i,a,c,g,y){return ko(i),i.updateQueue=null,a=AS(i,c,a,g),bS(n),c=Oy(),n!==null&&!ln?(Dy(n,i,y),va(n,i,y)):(te&&c&&fy(i),i.flags|=1,yn(n,i,a,y),i.child)}function EE(n,i,a,c,g){if(ko(i),i.stateNode===null){var y=fc,E=a.contextType;typeof E=="object"&&E!==null&&(y=Mn(E)),y=new a(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xy,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},_y(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?Mn(E):fc,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Vy(i,a,E,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Xy.enqueueReplaceState(y,y.state,null),xh(i,c,y,g),wh(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,D=Fo(a,C);y.props=D;var U=y.context,Q=a.contextType;E=fc,typeof Q=="object"&&Q!==null&&(E=Mn(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||U!==E)&&lE(i,y,c,E),gr=!1;var V=i.memoizedState;y.state=V,xh(i,c,y,g),wh(),U=i.memoizedState,C||V!==U||gr?(typeof J=="function"&&(Vy(i,a,J,c),U=i.memoizedState),(D=gr||oE(i,a,D,c,V,U,E))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=U),y.props=c,y.state=U,y.context=E,c=D):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,wy(n,i),E=i.memoizedProps,Q=Fo(a,E),y.props=Q,J=i.pendingProps,V=y.context,U=a.contextType,D=fc,typeof U=="object"&&U!==null&&(D=Mn(U)),C=a.getDerivedStateFromProps,(U=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==J||V!==D)&&lE(i,y,c,D),gr=!1,V=i.memoizedState,y.state=V,xh(i,c,y,g),wh();var X=i.memoizedState;E!==J||V!==X||gr||n!==null&&n.dependencies!==null&&pp(n.dependencies)?(typeof C=="function"&&(Vy(i,a,C,c),X=i.memoizedState),(Q=gr||oE(i,a,Q,c,V,X,D)||n!==null&&n.dependencies!==null&&pp(n.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,X,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,X,D)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=X),y.props=c,y.state=X,y.context=D,c=Q):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),c=!1)}return y=c,kp(n,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&c?(i.child=_c(i,n.child,null,g),i.child=_c(i,null,a,g)):yn(n,i,a,g),i.memoizedState=y.state,n=i.child):n=va(n,i,g),n}function _E(n,i,a,c){return mh(),i.flags|=256,yn(n,i,a,c),i.child}var Ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wy(n){return{baseLanes:n,cachePool:uS()}}function Qy(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=qi),n}function wE(n,i,a){var c=i.pendingProps,g=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(Ze.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(te){if(g?br(i):Ar(),te){var C=Ne,D;if(D=C){t:{for(D=C,C=Rs;D.nodeType!==8;){if(!C){C=null;break t}if(D=rs(D.nextSibling),D===null){C=null;break t}}C=D}C!==null?(i.memoizedState={dehydrated:C,treeContext:Ro!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},D=di(18,null,null,0),D.stateNode=C,D.return=i,i.child=D,Un=i,Ne=null,D=!0):D=!1}D||Oo(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Nv(C)?i.lanes=32:i.lanes=536870912,null;ya(i)}return C=c.children,c=c.fallback,g?(Ar(),g=i.mode,C=Np({mode:"hidden",children:C},g),c=Co(c,g,a,null),C.return=i,c.return=i,C.sibling=c,i.child=C,g=i.child,g.memoizedState=Wy(a),g.childLanes=Qy(n,E,a),i.memoizedState=Ky,c):(br(i),Zy(i,C))}if(D=n.memoizedState,D!==null&&(C=D.dehydrated,C!==null)){if(y)i.flags&256?(br(i),i.flags&=-257,i=Jy(n,i,a)):i.memoizedState!==null?(Ar(),i.child=n.child,i.flags|=128,i=null):(Ar(),g=c.fallback,C=i.mode,c=Np({mode:"visible",children:c.children},C),g=Co(g,C,a,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,_c(i,n.child,null,a),c=i.child,c.memoizedState=Wy(a),c.childLanes=Qy(n,E,a),i.memoizedState=Ky,i=g);else if(br(i),Nv(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var U=E.dgst;E=U,c=Error(s(419)),c.stack="",c.digest=E,yh({value:c,source:null,stack:null}),i=Jy(n,i,a)}else if(ln||vh(n,i,a,!1),E=(a&n.childLanes)!==0,ln||E){if(E=be,E!==null&&(c=a&-a,c=(c&42)!==0?1:Tn(c),c=(c&(E.suspendedLanes|a))!==0?0:c,c!==0&&c!==D.retryLane))throw D.retryLane=c,dc(n,c),yi(E,n,c),gE;C.data==="$?"||yv(),i=Jy(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,Ne=rs(C.nextSibling),Un=i,te=!0,Lo=null,Rs=!1,n!==null&&(ji[Ui++]=da,ji[Ui++]=fa,ji[Ui++]=Ro,da=n.id,fa=n.overflow,Ro=i),i=Zy(i,c.children),i.flags|=4096);return i}return g?(Ar(),g=c.fallback,C=i.mode,D=n.child,U=D.sibling,c=ha(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,U!==null?g=ha(U,g):(g=Co(g,C,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,C=n.child.memoizedState,C===null?C=Wy(a):(D=C.cachePool,D!==null?(U=Qe._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=uS(),C={baseLanes:C.baseLanes|a,cachePool:D}),g.memoizedState=C,g.childLanes=Qy(n,E,a),i.memoizedState=Ky,c):(br(i),a=n.child,n=a.sibling,a=ha(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Zy(n,i){return i=Np({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Np(n,i){return n=di(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jy(n,i,a){return _c(i,n.child,null,a),n=Zy(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xE(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),yy(n.return,i,a)}function tv(n,i,a,c,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=g)}function TE(n,i,a){var c=i.pendingProps,g=c.revealOrder,y=c.tail;if(yn(n,i,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xE(n,a,i);else if(n.tag===19)xE(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(et(Ze,c),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&Lp(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),tv(i,!1,g,a,y);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Lp(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}tv(i,!0,a,null,y);break;case"together":tv(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function va(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(vh(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ha(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ha(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ev(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&pp(n)))}function uR(n,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),pr(i,Qe,n.memoizedState.cache),mh();break;case 27:case 5:Xt(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wE(n,i,a):(br(i),n=va(n,i,a),n!==null?n.sibling:null);br(i);break;case 19:var g=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(vh(n,i,a,!1),c=(a&i.childLanes)!==0),g){if(c)return TE(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,bE(n,i,a);case 24:pr(i,Qe,n.memoizedState.cache)}return va(n,i,a)}function CE(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)ln=!0;else{if(!ev(n,a)&&(i.flags&128)===0)return ln=!1,uR(n,i,a);ln=(n.flags&131072)!==0}else ln=!1,te&&(i.flags&1048576)!==0&&iS(i,fp,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")uy(c)?(n=Fo(c,n),i.tag=1,i=EE(null,i,c,n,a)):(i.tag=0,i=$y(null,i,c,n,a));else{if(c!=null){if(g=c.$$typeof,g===P){i.tag=11,i=mE(null,i,c,n,a);break t}else if(g===G){i.tag=14,i=yE(null,i,c,n,a);break t}}throw i=rt(c)||c,Error(s(306,i,""))}}return i;case 0:return $y(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,g=Fo(c,i.pendingProps),EE(n,i,c,g,a);case 3:t:{if(Dt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;g=y.element,wy(n,i),xh(i,c,null,a);var E=i.memoizedState;if(c=E.cache,pr(i,Qe,c),c!==y.cache&&vy(i,[Qe],a,!0),wh(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=_E(n,i,c,a);break t}else if(c!==g){g=Bi(Error(s(424)),i),yh(g),i=_E(n,i,c,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ne=rs(n.firstChild),Un=i,te=!0,Lo=null,Rs=!0,a=aE(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(mh(),c===g){i=va(n,i,a);break t}yn(n,i,c,a)}i=i.child}return i;case 26:return kp(n,i),n===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:te||(a=i.type,n=i.pendingProps,c=$p(ut.current).createElement(a),c[at]=i,c[mt]=n,bn(c,a,n),Ie(c),i.stateNode=c):i.memoizedState=O_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Xt(i),n===null&&te&&(c=i.stateNode=R_(i.type,i.pendingProps,ut.current),Un=i,Rs=!0,g=Ne,Mr(i.type)?(Pv=g,Ne=rs(c.firstChild)):Ne=g),yn(n,i,i.pendingProps.children,a),kp(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&te&&((g=c=Ne)&&(c=HR(c,i.type,i.pendingProps,Rs),c!==null?(i.stateNode=c,Un=i,Ne=rs(c.firstChild),Rs=!1,g=!0):g=!1),g||Oo(i)),Xt(i),g=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,c=y.children,Ov(g,y)?c=null:E!==null&&Ov(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=Ly(n,i,nR,null,null,a),Yh._currentValue=g),kp(n,i),yn(n,i,c,a),i.child;case 6:return n===null&&te&&((n=a=Ne)&&(a=BR(a,i.pendingProps,Rs),a!==null?(i.stateNode=a,Un=i,Ne=null,n=!0):n=!1),n||Oo(i)),null;case 13:return wE(n,i,a);case 4:return Dt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=_c(i,null,c,a):yn(n,i,c,a),i.child;case 11:return mE(n,i,i.type,i.pendingProps,a);case 7:return yn(n,i,i.pendingProps,a),i.child;case 8:return yn(n,i,i.pendingProps.children,a),i.child;case 12:return yn(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,pr(i,i.type,c.value),yn(n,i,c.children,a),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,ko(i),g=Mn(g),c=c(g),i.flags|=1,yn(n,i,c,a),i.child;case 14:return yE(n,i,i.type,i.pendingProps,a);case 15:return vE(n,i,i.type,i.pendingProps,a);case 19:return TE(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=Np(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ha(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return bE(n,i,a);case 24:return ko(i),c=Mn(Qe),n===null?(g=Sy(),g===null&&(g=be,y=by(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),i.memoizedState={parent:c,cache:g},_y(i),pr(i,Qe,g)):((n.lanes&a)!==0&&(wy(n,i),xh(i,null,null,a),wh()),g=n.memoizedState,y=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),pr(i,Qe,c)):(c=y.cache,pr(i,Qe,c),c!==g.cache&&vy(i,[Qe],a,!0))),yn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ba(n){n.flags|=4}function RE(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!F_(i)){if(i=Gi.current,i!==null&&((Kt&4194048)===Kt?Ms!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||i!==Ms))throw Eh=Ey,hS;n.flags|=8192}}function Pp(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?oa():536870912,n.lanes|=i,Cc|=i)}function Dh(n,i){if(!te)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function xe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function hR(n,i,a){var c=i.pendingProps;switch(py(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(i),null;case 1:return xe(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ga(Qe),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gh(i)?ba(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rS())),xe(i),null;case 26:return a=i.memoizedState,n===null?(ba(i),a!==null?(xe(i),RE(i,a)):(xe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ba(i),xe(i),RE(i,a)):(xe(i),i.flags&=-16777217):(n.memoizedProps!==c&&ba(i),xe(i),i.flags&=-16777217),null;case 27:Oe(i),a=ut.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return xe(i),null}n=ht.current,gh(i)?sS(i):(n=R_(g,c,a),i.stateNode=n,ba(i))}return xe(i),null;case 5:if(Oe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return xe(i),null}if(n=ht.current,gh(i))sS(i);else{switch(g=$p(ut.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?g.createElement(a,{is:c.is}):g.createElement(a)}}n[at]=i,n[mt]=c;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;t:switch(bn(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ba(i)}}return xe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ba(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=ut.current,gh(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,g=Un,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[at]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||S_(n.nodeValue,a)),n||Oo(i)}else n=$p(n).createTextNode(c),n[at]=i,i.stateNode=n}return xe(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=gh(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[at]=i}else mh(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xe(i),g=!1}else g=rS(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ya(i),i):(ya(i),null)}if(ya(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Pp(i,i.updateQueue),xe(i),null;case 4:return Gt(),n===null&&Tv(i.stateNode.containerInfo),xe(i),null;case 10:return ga(i.type),xe(i),null;case 19:if(nt(Ze),g=i.memoizedState,g===null)return xe(i),null;if(c=(i.flags&128)!==0,y=g.rendering,y===null)if(c)Dh(g,!1);else{if(Pe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Lp(n),y!==null){for(i.flags|=128,Dh(g,!1),n=y.updateQueue,i.updateQueue=n,Pp(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)nS(a,n),a=a.sibling;return et(Ze,Ze.current&1|2),i.child}n=n.sibling}g.tail!==null&&ke()>Hp&&(i.flags|=128,c=!0,Dh(g,!1),i.lanes=4194304)}else{if(!c)if(n=Lp(y),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Pp(i,n),Dh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!te)return xe(i),null}else 2*ke()-g.renderingStartTime>Hp&&a!==536870912&&(i.flags|=128,c=!0,Dh(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(n=g.last,n!==null?n.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ke(),i.sibling=null,n=Ze.current,et(Ze,c?n&1|2:n&1),i):(xe(i),null);case 22:case 23:return ya(i),Ry(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(xe(i),i.subtreeFlags&6&&(i.flags|=8192)):xe(i),a=i.updateQueue,a!==null&&Pp(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&nt(No),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ga(Qe),xe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dR(n,i){switch(py(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ga(Qe),Gt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 13:if(ya(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));mh()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return nt(Ze),null;case 4:return Gt(),null;case 10:return ga(i.type),null;case 22:case 23:return ya(i),Ry(),n!==null&&nt(No),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ga(Qe),null;case 25:return null;default:return null}}function ME(n,i){switch(py(i),i.tag){case 3:ga(Qe),Gt();break;case 26:case 27:case 5:Oe(i);break;case 4:Gt();break;case 13:ya(i);break;case 19:nt(Ze);break;case 10:ga(i.type);break;case 22:case 23:ya(i),Ry(),n!==null&&nt(No);break;case 24:ga(Qe)}}function kh(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&n)===n){c=void 0;var y=a.create,E=a.inst;c=y(),E.destroy=c}a=a.next}while(a!==g)}}catch(C){me(i,i.return,C)}}function Sr(n,i,a){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&n)===n){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=i;var D=a,U=C;try{U()}catch(Q){me(g,D,Q)}}}c=c.next}while(c!==y)}}catch(Q){me(i,i.return,Q)}}function LE(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{yS(i,a)}catch(c){me(n,n.return,c)}}}function OE(n,i,a){a.props=Fo(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){me(n,i,c)}}function Nh(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(g){me(n,i,g)}}function Ls(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){me(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){me(n,i,g)}else a.current=null}function DE(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){me(n,n.return,g)}}function nv(n,i,a){try{var c=n.stateNode;kR(c,n.type,a,i),c[mt]=i}catch(g){me(n,n.return,g)}}function kE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Mr(n.type)||n.tag===4}function iv(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||kE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Mr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sv(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yp));else if(c!==4&&(c===27&&Mr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(sv(n,i,a),n=n.sibling;n!==null;)sv(n,i,a),n=n.sibling}function Fp(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&Mr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Fp(n,i,a),n=n.sibling;n!==null;)Fp(n,i,a),n=n.sibling}function NE(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);bn(i,c,a),i[at]=n,i[mt]=a}catch(y){me(n,n.return,y)}}var Aa=!1,Ue=!1,av=!1,PE=typeof WeakSet=="function"?WeakSet:Set,cn=null;function fR(n,i){if(n=n.containerInfo,Mv=tg,n=XA(n),iy(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var E=0,C=-1,D=-1,U=0,Q=0,J=n,V=null;e:for(;;){for(var X;J!==a||g!==0&&J.nodeType!==3||(C=E+g),J!==y||c!==0&&J.nodeType!==3||(D=E+c),J.nodeType===3&&(E+=J.nodeValue.length),(X=J.firstChild)!==null;)V=J,J=X;for(;;){if(J===n)break e;if(V===a&&++U===g&&(C=E),V===y&&++Q===c&&(D=E),(X=J.nextSibling)!==null)break;J=V,V=J.parentNode}J=X}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lv={focusedElem:n,selectionRange:a},tg=!1,cn=i;cn!==null;)if(i=cn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,cn=n;else for(;cn!==null;){switch(i=cn,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,g=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var Ct=Fo(a.type,g,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(Ct,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(Et){me(a,a.return,Et)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)kv(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kv(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,cn=n;break}cn=i.return}}function FE(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Er(n,a),c&4&&kh(5,a);break;case 1:if(Er(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){me(a,a.return,E)}else{var g=Fo(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){me(a,a.return,E)}}c&64&&LE(a),c&512&&Nh(a,a.return);break;case 3:if(Er(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yS(n,i)}catch(E){me(a,a.return,E)}}break;case 27:i===null&&c&4&&NE(a);case 26:case 5:Er(n,a),i===null&&c&4&&DE(a),c&512&&Nh(a,a.return);break;case 12:Er(n,a);break;case 13:Er(n,a),c&4&&BE(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=ER.bind(null,a),IR(n,a))));break;case 22:if(c=a.memoizedState!==null||Aa,!c){i=i!==null&&i.memoizedState!==null||Ue,g=Aa;var y=Ue;Aa=c,(Ue=i)&&!y?_r(n,a,(a.subtreeFlags&8772)!==0):Er(n,a),Aa=g,Ue=y}break;case 30:break;default:Er(n,a)}}function zE(n){var i=n.alternate;i!==null&&(n.alternate=null,zE(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Rn(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ee=null,Jn=!1;function Sa(n,i,a){for(a=a.child;a!==null;)HE(n,i,a),a=a.sibling}function HE(n,i,a){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Ue||Ls(a,i),Sa(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Ls(a,i);var c=Ee,g=Jn;Mr(a.type)&&(Ee=a.stateNode,Jn=!1),Sa(n,i,a),Gh(a.stateNode),Ee=c,Jn=g;break;case 5:Ue||Ls(a,i);case 6:if(c=Ee,g=Jn,Ee=null,Sa(n,i,a),Ee=c,Jn=g,Ee!==null)if(Jn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(y){me(a,i,y)}else try{Ee.removeChild(a.stateNode)}catch(y){me(a,i,y)}break;case 18:Ee!==null&&(Jn?(n=Ee,T_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Qh(n)):T_(Ee,a.stateNode));break;case 4:c=Ee,g=Jn,Ee=a.stateNode.containerInfo,Jn=!0,Sa(n,i,a),Ee=c,Jn=g;break;case 0:case 11:case 14:case 15:Ue||Sr(2,a,i),Ue||Sr(4,a,i),Sa(n,i,a);break;case 1:Ue||(Ls(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&OE(a,i,c)),Sa(n,i,a);break;case 21:Sa(n,i,a);break;case 22:Ue=(c=Ue)||a.memoizedState!==null,Sa(n,i,a),Ue=c;break;default:Sa(n,i,a)}}function BE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qh(n)}catch(a){me(i,i.return,a)}}function pR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new PE),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new PE),i;default:throw Error(s(435,n.tag))}}function rv(n,i){var a=pR(n);i.forEach(function(c){var g=_R.bind(null,n,c);a.has(c)||(a.add(c),c.then(g,g))})}function fi(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],y=n,E=i,C=E;t:for(;C!==null;){switch(C.tag){case 27:if(Mr(C.type)){Ee=C.stateNode,Jn=!1;break t}break;case 5:Ee=C.stateNode,Jn=!1;break t;case 3:case 4:Ee=C.stateNode.containerInfo,Jn=!0;break t}C=C.return}if(Ee===null)throw Error(s(160));HE(y,E,g),Ee=null,Jn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)IE(i,n),i=i.sibling}var as=null;function IE(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fi(i,n),pi(n),c&4&&(Sr(3,n,n.return),kh(3,n),Sr(5,n,n.return));break;case 1:fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),c&64&&Aa&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=as;if(fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){t:{c=n.type,a=n.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Be]||y[at]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),bn(y,c,a),y[at]=n,Ie(y),c=y;break t;case"link":var E=N_("link","href",g).get(c+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break e}}y=g.createElement(c),bn(y,c,a),g.head.appendChild(y);break;case"meta":if(E=N_("meta","content",g).get(c+(a.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break e}}y=g.createElement(c),bn(y,c,a),g.head.appendChild(y);break;default:throw Error(s(468,c))}y[at]=n,Ie(y),c=y}n.stateNode=c}else P_(g,n.type,n.stateNode);else n.stateNode=k_(g,c,n.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?P_(g,n.type,n.stateNode):k_(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&nv(n,n.memoizedProps,a.memoizedProps)}break;case 27:fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),a!==null&&c&4&&nv(n,n.memoizedProps,a.memoizedProps);break;case 5:if(fi(i,n),pi(n),c&512&&(Ue||a===null||Ls(a,a.return)),n.flags&32){g=n.stateNode;try{ac(g,"")}catch(X){me(n,n.return,X)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,nv(n,g,a!==null?a.memoizedProps:g)),c&1024&&(av=!0);break;case 6:if(fi(i,n),pi(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(X){me(n,n.return,X)}}break;case 3:if(Qp=null,g=as,as=Kp(i.containerInfo),fi(i,n),as=g,pi(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Qh(i.containerInfo)}catch(X){me(n,n.return,X)}av&&(av=!1,jE(n));break;case 4:c=as,as=Kp(n.stateNode.containerInfo),fi(i,n),pi(n),as=c;break;case 12:fi(i,n),pi(n);break;case 13:fi(i,n),pi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dv=ke()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rv(n,c)));break;case 22:g=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,U=Aa,Q=Ue;if(Aa=U||g,Ue=Q||D,fi(i,n),Ue=Q,Aa=U,pi(n),c&8192)t:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||D||Aa||Ue||zo(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(y=D.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=D.stateNode;var J=D.memoizedProps.style,V=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(X){me(D,D.return,X)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(X){me(D,D.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,rv(n,a))));break;case 19:fi(i,n),pi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rv(n,c)));break;case 30:break;case 21:break;default:fi(i,n),pi(n)}}function pi(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(kE(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=iv(n);Fp(n,y,g);break;case 5:var E=a.stateNode;a.flags&32&&(ac(E,""),a.flags&=-33);var C=iv(n);Fp(n,C,E);break;case 3:case 4:var D=a.stateNode.containerInfo,U=iv(n);sv(n,U,D);break;default:throw Error(s(161))}}catch(Q){me(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function jE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;jE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Er(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)FE(n,i.alternate,i),i=i.sibling}function zo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),zo(i);break;case 1:Ls(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&OE(i,i.return,a),zo(i);break;case 27:Gh(i.stateNode);case 26:case 5:Ls(i,i.return),zo(i);break;case 22:i.memoizedState===null&&zo(i);break;case 30:zo(i);break;default:zo(i)}n=n.sibling}}function _r(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:_r(g,y,a),kh(4,y);break;case 1:if(_r(g,y,a),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){me(c,c.return,U)}if(c=y,g=c.updateQueue,g!==null){var C=c.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)mS(D[g],C)}catch(U){me(c,c.return,U)}}a&&E&64&&LE(y),Nh(y,y.return);break;case 27:NE(y);case 26:case 5:_r(g,y,a),a&&c===null&&E&4&&DE(y),Nh(y,y.return);break;case 12:_r(g,y,a);break;case 13:_r(g,y,a),a&&E&4&&BE(g,y);break;case 22:y.memoizedState===null&&_r(g,y,a),Nh(y,y.return);break;case 30:break;default:_r(g,y,a)}i=i.sibling}}function ov(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bh(a))}function lv(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bh(n))}function Os(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UE(n,i,a,c),i=i.sibling}function UE(n,i,a,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Os(n,i,a,c),g&2048&&kh(9,i);break;case 1:Os(n,i,a,c);break;case 3:Os(n,i,a,c),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bh(n)));break;case 12:if(g&2048){Os(n,i,a,c),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){me(i,i.return,D)}}else Os(n,i,a,c);break;case 13:Os(n,i,a,c);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?Os(n,i,a,c):Ph(n,i):y._visibility&2?Os(n,i,a,c):(y._visibility|=2,wc(n,i,a,c,(i.subtreeFlags&10256)!==0)),g&2048&&ov(E,i);break;case 24:Os(n,i,a,c),g&2048&&lv(i.alternate,i);break;default:Os(n,i,a,c)}}function wc(n,i,a,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,E=i,C=a,D=c,U=E.flags;switch(E.tag){case 0:case 11:case 15:wc(y,E,C,D,g),kh(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&2?wc(y,E,C,D,g):Ph(y,E):(Q._visibility|=2,wc(y,E,C,D,g)),g&&U&2048&&ov(E.alternate,E);break;case 24:wc(y,E,C,D,g),g&&U&2048&&lv(E.alternate,E);break;default:wc(y,E,C,D,g)}i=i.sibling}}function Ph(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,g=c.flags;switch(c.tag){case 22:Ph(a,c),g&2048&&ov(c.alternate,c);break;case 24:Ph(a,c),g&2048&&lv(c.alternate,c);break;default:Ph(a,c)}i=i.sibling}}var Fh=8192;function xc(n){if(n.subtreeFlags&Fh)for(n=n.child;n!==null;)GE(n),n=n.sibling}function GE(n){switch(n.tag){case 26:xc(n),n.flags&Fh&&n.memoizedState!==null&&JR(as,n.memoizedState,n.memoizedProps);break;case 5:xc(n);break;case 3:case 4:var i=as;as=Kp(n.stateNode.containerInfo),xc(n),as=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Fh,Fh=16777216,xc(n),Fh=i):xc(n));break;default:xc(n)}}function qE(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function zh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];cn=c,XE(c,n)}qE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)VE(n),n=n.sibling}function VE(n){switch(n.tag){case 0:case 11:case 15:zh(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:zh(n);break;case 12:zh(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,zp(n)):zh(n);break;default:zh(n)}}function zp(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];cn=c,XE(c,n)}qE(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),zp(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zp(i));break;default:zp(i)}n=n.sibling}}function XE(n,i){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:Sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bh(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,cn=c;else t:for(a=n;cn!==null;){c=cn;var g=c.sibling,y=c.return;if(zE(c),c===a){cn=null;break t}if(g!==null){g.return=y,cn=g;break t}cn=y}}}var gR={getCacheForType:function(n){var i=Mn(Qe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},mR=typeof WeakMap=="function"?WeakMap:Map,se=0,be=null,jt=null,Kt=0,ae=0,gi=null,wr=!1,Tc=!1,cv=!1,Ea=0,Pe=0,xr=0,Ho=0,uv=0,qi=0,Cc=0,Hh=null,ti=null,hv=!1,dv=0,Hp=1/0,Bp=null,Tr=null,vn=0,Cr=null,Rc=null,Mc=0,fv=0,pv=null,YE=null,Bh=0,gv=null;function mi(){if((se&2)!==0&&Kt!==0)return Kt&-Kt;if(H.T!==null){var n=mc;return n!==0?n:Ev()}return It()}function $E(){qi===0&&(qi=(Kt&536870912)===0||te?ur():536870912);var n=Gi.current;return n!==null&&(n.flags|=32),qi}function yi(n,i,a){(n===be&&(ae===2||ae===9)||n.cancelPendingCommit!==null)&&(Lc(n,0),Rr(n,Kt,qi,!1)),Ni(n,a),((se&2)===0||n!==be)&&(n===be&&((se&2)===0&&(Ho|=a),Pe===4&&Rr(n,Kt,qi,!1)),Ds(n))}function KE(n,i,a){if((se&6)!==0)throw Error(s(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||is(n,i),g=c?bR(n,i):vv(n,i,!0),y=c;do{if(g===0){Tc&&!c&&Rr(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!yR(a)){g=vv(n,i,!1),y=!1;continue}if(g===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var C=n;g=Hh;var D=C.current.memoizedState.isDehydrated;if(D&&(Lc(C,E).flags|=256),E=vv(C,E,!1),E!==2){if(cv&&!D){C.errorRecoveryDisabledLanes|=y,Ho|=y,g=4;break t}y=ti,ti=g,y!==null&&(ti===null?ti=y:ti.push.apply(ti,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Lc(n,0),Rr(n,i,0,!0);break}t:{switch(c=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(c,i,qi,!wr);break t;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=dv+300-ke(),10<g)){if(Rr(c,i,qi,!wr),ra(c,0,!0)!==0)break t;c.timeoutHandle=w_(WE.bind(null,c,a,ti,Bp,hv,i,qi,Ho,Cc,wr,y,2,-0,0),g);break t}WE(c,a,ti,Bp,hv,i,qi,Ho,Cc,wr,y,0,-0,0)}}break}while(!0);Ds(n)}function WE(n,i,a,c,g,y,E,C,D,U,Q,J,V,X){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Xh={stylesheets:null,count:0,unsuspend:ZR},GE(i),J=tM(),J!==null)){n.cancelPendingCommit=J(i_.bind(null,n,i,y,a,c,g,E,C,D,Q,1,V,X)),Rr(n,y,E,!U);return}i_(n,i,y,a,c,g,E,C,D)}function yR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],y=g.getSnapshot;g=g.value;try{if(!hi(y(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(n,i,a,c){i&=~uv,i&=~Ho,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var g=i;0<g;){var y=31-ve(g),E=1<<y;c[y]=-1,g&=~E}a!==0&&So(n,a,i)}function Ip(){return(se&6)===0?(Ih(0),!1):!0}function mv(){if(jt!==null){if(ae===0)var n=jt.return;else n=jt,pa=Do=null,ky(n),Ec=null,Lh=0,n=jt;for(;n!==null;)ME(n.alternate,n),n=n.return;jt=null}}function Lc(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,PR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),mv(),be=n,jt=a=ha(n.current,null),Kt=i,ae=0,gi=null,wr=!1,Tc=is(n,i),cv=!1,Cc=qi=uv=Ho=xr=Pe=0,ti=Hh=null,hv=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var g=31-ve(c),y=1<<g;i|=n[g],c&=~y}return Ea=i,lp(),a}function QE(n,i){Ft=null,H.H=Cp,i===Sh||i===yp?(i=pS(),ae=3):i===hS?(i=pS(),ae=4):ae=i===gE?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gi=i,jt===null&&(Pe=1,Dp(n,Bi(i,n.current)))}function ZE(){var n=H.H;return H.H=Cp,n===null?Cp:n}function JE(){var n=H.A;return H.A=gR,n}function yv(){Pe=4,wr||(Kt&4194048)!==Kt&&Gi.current!==null||(Tc=!0),(xr&134217727)===0&&(Ho&134217727)===0||be===null||Rr(be,Kt,qi,!1)}function vv(n,i,a){var c=se;se|=2;var g=ZE(),y=JE();(be!==n||Kt!==i)&&(Bp=null,Lc(n,i)),i=!1;var E=Pe;t:do try{if(ae!==0&&jt!==null){var C=jt,D=gi;switch(ae){case 8:mv(),E=6;break t;case 3:case 2:case 9:case 6:Gi.current===null&&(i=!0);var U=ae;if(ae=0,gi=null,Oc(n,C,D,U),a&&Tc){E=0;break t}break;default:U=ae,ae=0,gi=null,Oc(n,C,D,U)}}vR(),E=Pe;break}catch(Q){QE(n,Q)}while(!0);return i&&n.shellSuspendCounter++,pa=Do=null,se=c,H.H=g,H.A=y,jt===null&&(be=null,Kt=0,lp()),E}function vR(){for(;jt!==null;)t_(jt)}function bR(n,i){var a=se;se|=2;var c=ZE(),g=JE();be!==n||Kt!==i?(Bp=null,Hp=ke()+500,Lc(n,i)):Tc=is(n,i);t:do try{if(ae!==0&&jt!==null){i=jt;var y=gi;e:switch(ae){case 1:ae=0,gi=null,Oc(n,i,y,1);break;case 2:case 9:if(dS(y)){ae=0,gi=null,e_(i);break}i=function(){ae!==2&&ae!==9||be!==n||(ae=7),Ds(n)},y.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:dS(y)?(ae=0,gi=null,e_(i)):(ae=0,gi=null,Oc(n,i,y,7));break;case 5:var E=null;switch(jt.tag){case 26:E=jt.memoizedState;case 5:case 27:var C=jt;if(!E||F_(E)){ae=0,gi=null;var D=C.sibling;if(D!==null)jt=D;else{var U=C.return;U!==null?(jt=U,jp(U)):jt=null}break e}}ae=0,gi=null,Oc(n,i,y,5);break;case 6:ae=0,gi=null,Oc(n,i,y,6);break;case 8:mv(),Pe=6;break t;default:throw Error(s(462))}}AR();break}catch(Q){QE(n,Q)}while(!0);return pa=Do=null,H.H=c,H.A=g,se=a,jt!==null?0:(be=null,Kt=0,lp(),Pe)}function AR(){for(;jt!==null&&!De();)t_(jt)}function t_(n){var i=CE(n.alternate,n,Ea);n.memoizedProps=n.pendingProps,i===null?jp(n):jt=i}function e_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=SE(a,i,i.pendingProps,i.type,void 0,Kt);break;case 11:i=SE(a,i,i.pendingProps,i.type.render,i.ref,Kt);break;case 5:ky(i);default:ME(a,i),i=jt=nS(i,Ea),i=CE(a,i,Ea)}n.memoizedProps=n.pendingProps,i===null?jp(n):jt=i}function Oc(n,i,a,c){pa=Do=null,ky(i),Ec=null,Lh=0;var g=i.return;try{if(cR(n,g,i,a,Kt)){Pe=1,Dp(n,Bi(a,n.current)),jt=null;return}}catch(y){if(g!==null)throw jt=g,y;Pe=1,Dp(n,Bi(a,n.current)),jt=null;return}i.flags&32768?(te||c===1?n=!0:Tc||(Kt&536870912)!==0?n=!1:(wr=n=!0,(c===2||c===9||c===3||c===6)&&(c=Gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),n_(i,n)):jp(i)}function jp(n){var i=n;do{if((i.flags&32768)!==0){n_(i,wr);return}n=i.return;var a=hR(i.alternate,i,Ea);if(a!==null){jt=a;return}if(i=i.sibling,i!==null){jt=i;return}jt=i=n}while(i!==null);Pe===0&&(Pe=5)}function n_(n,i){do{var a=dR(n.alternate,n);if(a!==null){a.flags&=32767,jt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){jt=n;return}jt=n=a}while(n!==null);Pe=6,jt=null}function i_(n,i,a,c,g,y,E,C,D){n.cancelPendingCommit=null;do Up();while(vn!==0);if((se&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=ly,Ao(n,a,y,E,C,D),n===be&&(jt=be=null,Kt=0),Rc=i,Cr=n,Mc=a,fv=y,pv=g,YE=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,wR(In,function(){return l_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,g=q.p,q.p=2,E=se,se|=4;try{fR(n,i,a)}finally{se=E,q.p=g,H.T=c}}vn=1,s_(),a_(),r_()}}function s_(){if(vn===1){vn=0;var n=Cr,i=Rc,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var c=q.p;q.p=2;var g=se;se|=4;try{IE(i,n);var y=Lv,E=XA(n.containerInfo),C=y.focusedElem,D=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&VA(C.ownerDocument.documentElement,C)){if(D!==null&&iy(C)){var U=D.start,Q=D.end;if(Q===void 0&&(Q=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(Q,C.value.length);else{var J=C.ownerDocument||document,V=J&&J.defaultView||window;if(V.getSelection){var X=V.getSelection(),Ct=C.textContent.length,Et=Math.min(D.start,Ct),fe=D.end===void 0?Et:Math.min(D.end,Ct);!X.extend&&Et>fe&&(E=fe,fe=Et,Et=E);var B=qA(C,Et),z=qA(C,fe);if(B&&z&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var j=J.createRange();j.setStart(B.node,B.offset),X.removeAllRanges(),Et>fe?(X.addRange(j),X.extend(z.node,z.offset)):(j.setEnd(z.node,z.offset),X.addRange(j))}}}}for(J=[],X=C;X=X.parentNode;)X.nodeType===1&&J.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var Z=J[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}tg=!!Mv,Lv=Mv=null}finally{se=g,q.p=c,H.T=a}}n.current=i,vn=2}}function a_(){if(vn===2){vn=0;var n=Cr,i=Rc,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var c=q.p;q.p=2;var g=se;se|=4;try{FE(n,i.alternate,i)}finally{se=g,q.p=c,H.T=a}}vn=3}}function r_(){if(vn===4||vn===3){vn=0,$t();var n=Cr,i=Rc,a=Mc,c=YE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?vn=5:(vn=0,Rc=Cr=null,o_(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Tr=null),St(a),i=i.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=H.T,g=q.p,q.p=2,H.T=null;try{for(var y=n.onRecoverableError,E=0;E<c.length;E++){var C=c[E];y(C.value,{componentStack:C.stack})}}finally{H.T=i,q.p=g}}(Mc&3)!==0&&Up(),Ds(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===gv?Bh++:(Bh=0,gv=n):Bh=0,Ih(0)}}function o_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,bh(i)))}function Up(n){return s_(),a_(),r_(),l_()}function l_(){if(vn!==5)return!1;var n=Cr,i=fv;fv=0;var a=St(Mc),c=H.T,g=q.p;try{q.p=32>a?32:a,H.T=null,a=pv,pv=null;var y=Cr,E=Mc;if(vn=0,Rc=Cr=null,Mc=0,(se&6)!==0)throw Error(s(331));var C=se;if(se|=4,VE(y.current),UE(y,y.current,E,a),se=C,Ih(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(Wn,y)}catch{}return!0}finally{q.p=g,H.T=c,o_(n,i)}}function c_(n,i,a){i=Bi(a,i),i=Yy(n.stateNode,i,2),n=yr(n,i,2),n!==null&&(Ni(n,2),Ds(n))}function me(n,i,a){if(n.tag===3)c_(n,n,a);else for(;i!==null;){if(i.tag===3){c_(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tr===null||!Tr.has(c))){n=Bi(a,n),a=fE(2),c=yr(i,a,2),c!==null&&(pE(a,c,i,n),Ni(c,2),Ds(c));break}}i=i.return}}function bv(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new mR;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(a)||(cv=!0,g.add(a),n=SR.bind(null,n,i,a),i.then(n,n))}function SR(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,be===n&&(Kt&a)===a&&(Pe===4||Pe===3&&(Kt&62914560)===Kt&&300>ke()-dv?(se&2)===0&&Lc(n,0):uv|=a,Cc===Kt&&(Cc=0)),Ds(n)}function u_(n,i){i===0&&(i=oa()),n=dc(n,i),n!==null&&(Ni(n,i),Ds(n))}function ER(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(n,a)}function _R(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),u_(n,a)}function wR(n,i){return qt(n,i)}var Gp=null,Dc=null,Av=!1,qp=!1,Sv=!1,Bo=0;function Ds(n){n!==Dc&&n.next===null&&(Dc===null?Gp=Dc=n:Dc=Dc.next=n),qp=!0,Av||(Av=!0,TR())}function Ih(n,i){if(!Sv&&qp){Sv=!0;do for(var a=!1,c=Gp;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var E=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-ve(42|n)+1)-1,y&=g&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,p_(c,y))}else y=Kt,y=ra(c,c===be?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||is(c,y)||(a=!0,p_(c,y));c=c.next}while(a);Sv=!1}}function xR(){h_()}function h_(){qp=Av=!1;var n=0;Bo!==0&&(NR()&&(n=Bo),Bo=0);for(var i=ke(),a=null,c=Gp;c!==null;){var g=c.next,y=d_(c,i);y===0?(c.next=null,a===null?Gp=g:a.next=g,g===null&&(Dc=a)):(a=c,(n!==0||(y&3)!==0)&&(qp=!0)),c=g}Ih(n)}function d_(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-ve(y),C=1<<E,D=g[E];D===-1?((C&a)===0||(C&c)!==0)&&(g[E]=cr(C,i)):D<=i&&(n.expiredLanes|=C),y&=~C}if(i=be,a=Kt,a=ra(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(ae===2||ae===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Wt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||is(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Wt(c),St(a)){case 2:case 8:a=ce;break;case 32:a=In;break;case 268435456:a=xs;break;default:a=In}return c=f_.bind(null,n),a=qt(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Wt(c),n.callbackPriority=2,n.callbackNode=null,2}function f_(n,i){if(vn!==0&&vn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Up()&&n.callbackNode!==a)return null;var c=Kt;return c=ra(n,n===be?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(KE(n,c,i),d_(n,ke()),n.callbackNode!=null&&n.callbackNode===a?f_.bind(null,n):null)}function p_(n,i){if(Up())return null;KE(n,i,!0)}function TR(){FR(function(){(se&6)!==0?qt(Oi,xR):h_()})}function Ev(){return Bo===0&&(Bo=ur()),Bo}function g_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ep(""+n)}function m_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function CR(n,i,a,c,g){if(i==="submit"&&a&&a.stateNode===g){var y=g_((g[mt]||null).action),E=c.submitter;E&&(i=(i=E[mt]||null)?g_(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var C=new ap("action","action",null,c,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Bo!==0){var D=E?m_(g,E):new FormData(g);Uy(a,{pending:!0,data:D,method:g.method,action:y},null,D)}}else typeof y=="function"&&(C.preventDefault(),D=E?m_(g,E):new FormData(g),Uy(a,{pending:!0,data:D,method:g.method,action:y},y,D))},currentTarget:g}]})}}for(var _v=0;_v<oy.length;_v++){var wv=oy[_v],RR=wv.toLowerCase(),MR=wv[0].toUpperCase()+wv.slice(1);ss(RR,"on"+MR)}ss(KA,"onAnimationEnd"),ss(WA,"onAnimationIteration"),ss(QA,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(XC,"onTransitionRun"),ss(YC,"onTransitionStart"),ss($C,"onTransitionCancel"),ss(ZA,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jh));function y_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],g=c.event;c=c.listeners;t:{var y=void 0;if(i)for(var E=c.length-1;0<=E;E--){var C=c[E],D=C.instance,U=C.currentTarget;if(C=C.listener,D!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=U;try{y(g)}catch(Q){Op(Q)}g.currentTarget=null,y=D}else for(E=0;E<c.length;E++){if(C=c[E],D=C.instance,U=C.currentTarget,C=C.listener,D!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=U;try{y(g)}catch(Q){Op(Q)}g.currentTarget=null,y=D}}}}function Ut(n,i){var a=i[we];a===void 0&&(a=i[we]=new Set);var c=n+"__bubble";a.has(c)||(v_(i,n,2,!1),a.add(c))}function xv(n,i,a){var c=0;i&&(c|=4),v_(a,n,c,i)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function Tv(n){if(!n[Vp]){n[Vp]=!0,sh.forEach(function(a){a!=="selectionchange"&&(LR.has(a)||xv(a,!1,n),xv(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Vp]||(i[Vp]=!0,xv("selectionchange",!1,i))}}function v_(n,i,a,c){switch(U_(i)){case 2:var g=iM;break;case 8:g=sM;break;default:g=Iv}a=g.bind(null,i,a,n),g=void 0,!$m||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Cv(n,i,a,c,g){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=Zt(C),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){c=y=E;continue t}C=C.parentNode}}c=c.return}xA(function(){var U=y,Q=Xm(a),J=[];t:{var V=JA.get(n);if(V!==void 0){var X=ap,Ct=n;switch(n){case"keypress":if(ip(a)===0)break t;case"keydown":case"keyup":X=wC;break;case"focusin":Ct="focus",X=Zm;break;case"focusout":Ct="blur",X=Zm;break;case"beforeblur":case"afterblur":X=Zm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=CC;break;case KA:case WA:case QA:X=gC;break;case ZA:X=MC;break;case"scroll":case"scrollend":X=uC;break;case"wheel":X=OC;break;case"copy":case"cut":case"paste":X=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=LA;break;case"toggle":case"beforetoggle":X=kC}var Et=(i&4)!==0,fe=!Et&&(n==="scroll"||n==="scrollend"),B=Et?V!==null?V+"Capture":null:V;Et=[];for(var z=U,j;z!==null;){var Z=z;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||B===null||(Z=rh(z,B),Z!=null&&Et.push(Uh(z,Z,j))),fe)break;z=z.return}0<Et.length&&(V=new X(V,Ct,null,a,Q),J.push({event:V,listeners:Et}))}}if((i&7)===0){t:{if(V=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",V&&a!==Vm&&(Ct=a.relatedTarget||a.fromElement)&&(Zt(Ct)||Ct[_t]))break t;if((X||V)&&(V=Q.window===Q?Q:(V=Q.ownerDocument)?V.defaultView||V.parentWindow:window,X?(Ct=a.relatedTarget||a.toElement,X=U,Ct=Ct?Zt(Ct):null,Ct!==null&&(fe=o(Ct),Et=Ct.tag,Ct!==fe||Et!==5&&Et!==27&&Et!==6)&&(Ct=null)):(X=null,Ct=U),X!==Ct)){if(Et=RA,Z="onMouseLeave",B="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Et=LA,Z="onPointerLeave",B="onPointerEnter",z="pointer"),fe=X==null?V:Eo(X),j=Ct==null?V:Eo(Ct),V=new Et(Z,z+"leave",X,a,Q),V.target=fe,V.relatedTarget=j,Z=null,Zt(Q)===U&&(Et=new Et(B,z+"enter",Ct,a,Q),Et.target=j,Et.relatedTarget=fe,Z=Et),fe=Z,X&&Ct)e:{for(Et=X,B=Ct,z=0,j=Et;j;j=kc(j))z++;for(j=0,Z=B;Z;Z=kc(Z))j++;for(;0<z-j;)Et=kc(Et),z--;for(;0<j-z;)B=kc(B),j--;for(;z--;){if(Et===B||B!==null&&Et===B.alternate)break e;Et=kc(Et),B=kc(B)}Et=null}else Et=null;X!==null&&b_(J,V,X,Et,!1),Ct!==null&&fe!==null&&b_(J,fe,Ct,Et,!0)}}t:{if(V=U?Eo(U):window,X=V.nodeName&&V.nodeName.toLowerCase(),X==="select"||X==="input"&&V.type==="file")var gt=HA;else if(FA(V))if(BA)gt=GC;else{gt=jC;var Ht=IC}else X=V.nodeName,!X||X.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?U&&qm(U.elementType)&&(gt=HA):gt=UC;if(gt&&(gt=gt(n,U))){zA(J,gt,a,Q);break t}Ht&&Ht(n,V,U),n==="focusout"&&U&&V.type==="number"&&U.memoizedProps.value!=null&&Gm(V,"number",V.value)}switch(Ht=U?Eo(U):window,n){case"focusin":(FA(Ht)||Ht.contentEditable==="true")&&(cc=Ht,sy=U,ph=null);break;case"focusout":ph=sy=cc=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,YA(J,a,Q);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":YA(J,a,Q)}var bt;if(ty)t:{switch(n){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else lc?NA(n,a)&&(wt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(OA&&a.locale!=="ko"&&(lc||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&lc&&(bt=TA()):(fr=Q,Km="value"in fr?fr.value:fr.textContent,lc=!0)),Ht=Xp(U,wt),0<Ht.length&&(wt=new MA(wt,n,null,a,Q),J.push({event:wt,listeners:Ht}),bt?wt.data=bt:(bt=PA(a),bt!==null&&(wt.data=bt)))),(bt=PC?FC(n,a):zC(n,a))&&(wt=Xp(U,"onBeforeInput"),0<wt.length&&(Ht=new MA("onBeforeInput","beforeinput",null,a,Q),J.push({event:Ht,listeners:wt}),Ht.data=bt)),CR(J,n,U,a,Q)}y_(J,i)})}function Uh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xp(n,i){for(var a=i+"Capture",c=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=rh(n,a),g!=null&&c.unshift(Uh(n,g,y)),g=rh(n,i),g!=null&&c.push(Uh(n,g,y))),n.tag===3)return c;n=n.return}return[]}function kc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function b_(n,i,a,c,g){for(var y=i._reactName,E=[];a!==null&&a!==c;){var C=a,D=C.alternate,U=C.stateNode;if(C=C.tag,D!==null&&D===c)break;C!==5&&C!==26&&C!==27||U===null||(D=U,g?(U=rh(a,y),U!=null&&E.unshift(Uh(a,U,D))):g||(U=rh(a,y),U!=null&&E.push(Uh(a,U,D)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var OR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function A_(n){return(typeof n=="string"?n:""+n).replace(OR,`
`).replace(DR,"")}function S_(n,i){return i=A_(i),A_(n)===i}function Yp(){}function de(n,i,a,c,g,y){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ac(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ac(n,""+c);break;case"className":dr(n,"class",c);break;case"tabIndex":dr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,a,c);break;case"style":_A(n,c,y);break;case"data":if(i!=="object"){dr(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ep(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&de(n,i,"name",g.name,g,null),de(n,i,"formEncType",g.formEncType,g,null),de(n,i,"formMethod",g.formMethod,g,null),de(n,i,"formTarget",g.formTarget,g,null)):(de(n,i,"encType",g.encType,g,null),de(n,i,"method",g.method,g,null),de(n,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ep(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Yp);break;case"onScroll":c!=null&&Ut("scroll",n);break;case"onScrollEnd":c!=null&&Ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=ep(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ut("beforetoggle",n),Ut("toggle",n),nc(n,"popover",c);break;case"xlinkActuate":ca(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ca(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ca(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ca(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ca(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ca(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ca(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ca(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ca(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":nc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lC.get(a)||a,nc(n,a,c))}}function Rv(n,i,a,c,g,y){switch(a){case"style":_A(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?ac(n,c):(typeof c=="number"||typeof c=="bigint")&&ac(n,""+c);break;case"onScroll":c!=null&&Ut("scroll",n);break;case"onScrollEnd":c!=null&&Ut("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Yp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ah.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),y=n[mt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,g);break t}a in n?n[a]=c:c===!0?n.setAttribute(a,""):nc(n,a,c)}}}function bn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",n),Ut("load",n);var c=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:de(n,i,y,E,a,null)}}g&&de(n,i,"srcSet",a.srcSet,a,null),c&&de(n,i,"src",a.src,a,null);return;case"input":Ut("invalid",n);var C=y=E=g=null,D=null,U=null;for(c in a)if(a.hasOwnProperty(c)){var Q=a[c];if(Q!=null)switch(c){case"name":g=Q;break;case"type":E=Q;break;case"checked":D=Q;break;case"defaultChecked":U=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:de(n,i,c,Q,a,null)}}bA(n,y,C,D,U,E,g,!1),Jf(n);return;case"select":Ut("invalid",n),c=E=y=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:de(n,i,g,C,a,null)}i=y,a=E,n.multiple=!!c,i!=null?sc(n,!!c,i,!1):a!=null&&sc(n,!!c,a,!0);return;case"textarea":Ut("invalid",n),y=g=c=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:de(n,i,E,C,a,null)}SA(n,c,g,y),Jf(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(c=a[D],c!=null))switch(D){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:de(n,i,D,c,a,null)}return;case"dialog":Ut("beforetoggle",n),Ut("toggle",n),Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":Ut("load",n);break;case"video":case"audio":for(c=0;c<jh.length;c++)Ut(jh[c],n);break;case"image":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"embed":case"source":case"link":Ut("error",n),Ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(c=a[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:de(n,i,U,c,a,null)}return;default:if(qm(i)){for(Q in a)a.hasOwnProperty(Q)&&(c=a[Q],c!==void 0&&Rv(n,i,Q,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&de(n,i,C,c,a,null))}function kR(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,C=null,D=null,U=null,Q=null;for(X in a){var J=a[X];if(a.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=J;default:c.hasOwnProperty(X)||de(n,i,X,null,c,J)}}for(var V in c){var X=c[V];if(J=a[V],c.hasOwnProperty(V)&&(X!=null||J!=null))switch(V){case"type":y=X;break;case"name":g=X;break;case"checked":U=X;break;case"defaultChecked":Q=X;break;case"value":E=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==J&&de(n,i,V,X,c,J)}}Um(n,E,C,D,U,Q,y,g);return;case"select":X=E=C=V=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":X=D;default:c.hasOwnProperty(y)||de(n,i,y,null,c,D)}for(g in c)if(y=c[g],D=a[g],c.hasOwnProperty(g)&&(y!=null||D!=null))switch(g){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==D&&de(n,i,g,y,c,D)}i=C,a=E,c=X,V!=null?sc(n,!!a,V,!1):!!c!=!!a&&(i!=null?sc(n,!!a,i,!0):sc(n,!!a,a?[]:"",!1));return;case"textarea":X=V=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:de(n,i,C,null,c,g)}for(E in c)if(g=c[E],y=a[E],c.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":V=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&de(n,i,E,g,c,y)}AA(n,V,X);return;case"option":for(var Ct in a)if(V=a[Ct],a.hasOwnProperty(Ct)&&V!=null&&!c.hasOwnProperty(Ct))switch(Ct){case"selected":n.selected=!1;break;default:de(n,i,Ct,null,c,V)}for(D in c)if(V=c[D],X=a[D],c.hasOwnProperty(D)&&V!==X&&(V!=null||X!=null))switch(D){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:de(n,i,D,V,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)V=a[Et],a.hasOwnProperty(Et)&&V!=null&&!c.hasOwnProperty(Et)&&de(n,i,Et,null,c,V);for(U in c)if(V=c[U],X=a[U],c.hasOwnProperty(U)&&V!==X&&(V!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:de(n,i,U,V,c,X)}return;default:if(qm(i)){for(var fe in a)V=a[fe],a.hasOwnProperty(fe)&&V!==void 0&&!c.hasOwnProperty(fe)&&Rv(n,i,fe,void 0,c,V);for(Q in c)V=c[Q],X=a[Q],!c.hasOwnProperty(Q)||V===X||V===void 0&&X===void 0||Rv(n,i,Q,V,c,X);return}}for(var B in a)V=a[B],a.hasOwnProperty(B)&&V!=null&&!c.hasOwnProperty(B)&&de(n,i,B,null,c,V);for(J in c)V=c[J],X=a[J],!c.hasOwnProperty(J)||V===X||V==null&&X==null||de(n,i,J,V,c,X)}var Mv=null,Lv=null;function $p(n){return n.nodeType===9?n:n.ownerDocument}function E_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ov(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dv=null;function NR(){var n=window.event;return n&&n.type==="popstate"?n===Dv?!1:(Dv=n,!0):(Dv=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,PR=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(n){return x_.resolve(null).then(n).catch(zR)}:w_;function zR(n){setTimeout(function(){throw n})}function Mr(n){return n==="head"}function T_(n,i){var a=i,c=0,g=0;do{var y=a.nextSibling;if(n.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<c&&8>c){a=c;var E=n.ownerDocument;if(a&1&&Gh(E.documentElement),a&2&&Gh(E.body),a&4)for(a=E.head,Gh(a),E=a.firstChild;E;){var C=E.nextSibling,D=E.nodeName;E[Be]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=C}}if(g===0){n.removeChild(y),Qh(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:c=a.charCodeAt(0)-48;else c=0;a=y}while(a);Qh(i)}function kv(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kv(a),Rn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function HR(n,i,a,c){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Be])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=rs(n.nextSibling),n===null)break}return null}function BR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=rs(n.nextSibling),n===null))return null;return n}function Nv(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function IR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function rs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Pv=null;function C_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function R_(n,i,a){switch(i=$p(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Gh(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Rn(n)}var Vi=new Map,M_=new Set;function Kp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _a=q.d;q.d={f:jR,r:UR,D:GR,C:qR,L:VR,m:XR,X:$R,S:YR,M:KR};function jR(){var n=_a.f(),i=Ip();return n||i}function UR(n){var i=ui(n);i!==null&&i.tag===5&&i.type==="form"?KS(i):_a.r(n)}var Nc=typeof document>"u"?null:document;function L_(n,i,a){var c=Nc;if(c&&typeof i=="string"&&i){var g=Hi(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),M_.has(g)||(M_.add(g),n={rel:n,crossOrigin:a,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),bn(i,"link",n),Ie(i),c.head.appendChild(i)))}}function GR(n){_a.D(n),L_("dns-prefetch",n,null)}function qR(n,i){_a.C(n,i),L_("preconnect",n,i)}function VR(n,i,a){_a.L(n,i,a);var c=Nc;if(c&&n&&i){var g='link[rel="preload"][as="'+Hi(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+Hi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+Hi(a.imageSizes)+'"]')):g+='[href="'+Hi(n)+'"]';var y=g;switch(i){case"style":y=Pc(n);break;case"script":y=Fc(n)}Vi.has(y)||(n=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Vi.set(y,n),c.querySelector(g)!==null||i==="style"&&c.querySelector(qh(y))||i==="script"&&c.querySelector(Vh(y))||(i=c.createElement("link"),bn(i,"link",n),Ie(i),c.head.appendChild(i)))}}function XR(n,i){_a.m(n,i);var a=Nc;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Hi(c)+'"][href="'+Hi(n)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fc(n)}if(!Vi.has(y)&&(n=m({rel:"modulepreload",href:n},i),Vi.set(y,n),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vh(y)))return}c=a.createElement("link"),bn(c,"link",n),Ie(c),a.head.appendChild(c)}}}function YR(n,i,a){_a.S(n,i,a);var c=Nc;if(c&&n){var g=hr(c).hoistableStyles,y=Pc(n);i=i||"default";var E=g.get(y);if(!E){var C={loading:0,preload:null};if(E=c.querySelector(qh(y)))C.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Vi.get(y))&&Fv(n,a);var D=E=c.createElement("link");Ie(D),bn(D,"link",n),D._p=new Promise(function(U,Q){D.onload=U,D.onerror=Q}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Wp(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(y,E)}}}function $R(n,i){_a.X(n,i);var a=Nc;if(a&&n){var c=hr(a).hoistableScripts,g=Fc(n),y=c.get(g);y||(y=a.querySelector(Vh(g)),y||(n=m({src:n,async:!0},i),(i=Vi.get(g))&&zv(n,i),y=a.createElement("script"),Ie(y),bn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function KR(n,i){_a.M(n,i);var a=Nc;if(a&&n){var c=hr(a).hoistableScripts,g=Fc(n),y=c.get(g);y||(y=a.querySelector(Vh(g)),y||(n=m({src:n,async:!0,type:"module"},i),(i=Vi.get(g))&&zv(n,i),y=a.createElement("script"),Ie(y),bn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function O_(n,i,a,c){var g=(g=ut.current)?Kp(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pc(a.href),a=hr(g).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Pc(a.href);var y=hr(g).hoistableStyles,E=y.get(n);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=g.querySelector(qh(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Vi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vi.set(n,a),y||WR(g,n,a,E.state))),i&&c===null)throw Error(s(528,""));return E}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fc(a),a=hr(g).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Pc(n){return'href="'+Hi(n)+'"'}function qh(n){return'link[rel="stylesheet"]['+n+"]"}function D_(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function WR(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),bn(i,"link",a),Ie(i),n.head.appendChild(i))}function Fc(n){return'[src="'+Hi(n)+'"]'}function Vh(n){return"script[async]"+n}function k_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Hi(a.href)+'"]');if(c)return i.instance=c,Ie(c),c;var g=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ie(c),bn(c,"style",g),Wp(c,a.precedence,n),i.instance=c;case"stylesheet":g=Pc(a.href);var y=n.querySelector(qh(g));if(y)return i.state.loading|=4,i.instance=y,Ie(y),y;c=D_(a),(g=Vi.get(g))&&Fv(c,g),y=(n.ownerDocument||n).createElement("link"),Ie(y);var E=y;return E._p=new Promise(function(C,D){E.onload=C,E.onerror=D}),bn(y,"link",c),i.state.loading|=4,Wp(y,a.precedence,n),i.instance=y;case"script":return y=Fc(a.src),(g=n.querySelector(Vh(y)))?(i.instance=g,Ie(g),g):(c=a,(g=Vi.get(y))&&(c=m({},a),zv(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ie(g),bn(g,"link",c),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Wp(c,a.precedence,n));return i.instance}function Wp(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===i)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Fv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function zv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Qp=null;function N_(n,i,a){if(Qp===null){var c=new Map,g=Qp=new Map;g.set(a,c)}else g=Qp,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var y=a[g];if(!(y[Be]||y[at]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var C=c.get(E);C?C.push(y):c.set(E,[y])}}return c}function P_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function QR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xh=null;function ZR(){}function JR(n,i,a){if(Xh===null)throw Error(s(475));var c=Xh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Pc(a.href),y=n.querySelector(qh(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Zp.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=y,Ie(y);return}y=n.ownerDocument||n,a=D_(a),(g=Vi.get(g))&&Fv(a,g),y=y.createElement("link"),Ie(y);var E=y;E._p=new Promise(function(C,D){E.onload=C,E.onerror=D}),bn(y,"link",a),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Zp.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function tM(){if(Xh===null)throw Error(s(475));var n=Xh;return n.stylesheets&&n.count===0&&Hv(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Hv(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zp(){if(this.count--,this.count===0){if(this.stylesheets)Hv(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jp=null;function Hv(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jp=new Map,i.forEach(eM,n),Jp=null,Zp.call(n))}function eM(n,i){if(!(i.state.loading&4)){var a=Jp.get(n);if(a)var c=a.get(null);else{a=new Map,Jp.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),c=E)}c&&a.set(null,c)}g=i.instance,E=g.getAttribute("data-precedence"),y=a.get(E)||c,y===c&&a.set(null,g),a.set(E,g),this.count++,c=Zp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Yh={$$typeof:O,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function nM(n,i,a,c,g,y,E,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function z_(n,i,a,c,g,y,E,C,D,U,Q,J){return n=new nM(n,i,a,E,C,D,U,J),i=1,y===!0&&(i|=24),y=di(3,null,null,i),n.current=y,y.stateNode=n,i=by(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:i},_y(y),n}function H_(n){return n?(n=fc,n):fc}function B_(n,i,a,c,g,y){g=H_(g),c.context===null?c.context=g:c.pendingContext=g,c=mr(i),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=yr(n,c,i),a!==null&&(yi(a,n,i),_h(a,n,i))}function I_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Bv(n,i){I_(n,i),(n=n.alternate)&&I_(n,i)}function j_(n){if(n.tag===13){var i=dc(n,67108864);i!==null&&yi(i,n,67108864),Bv(n,67108864)}}var tg=!0;function iM(n,i,a,c){var g=H.T;H.T=null;var y=q.p;try{q.p=2,Iv(n,i,a,c)}finally{q.p=y,H.T=g}}function sM(n,i,a,c){var g=H.T;H.T=null;var y=q.p;try{q.p=8,Iv(n,i,a,c)}finally{q.p=y,H.T=g}}function Iv(n,i,a,c){if(tg){var g=jv(c);if(g===null)Cv(n,i,c,eg,a),G_(n,c);else if(rM(g,n,i,a,c))c.stopPropagation();else if(G_(n,c),i&4&&-1<aM.indexOf(n)){for(;g!==null;){var y=ui(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ue(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var D=1<<31-ve(E);C.entanglements[1]|=D,E&=~D}Ds(y),(se&6)===0&&(Hp=ke()+500,Ih(0))}}break;case 13:C=dc(y,2),C!==null&&yi(C,y,2),Ip(),Bv(y,2)}if(y=jv(c),y===null&&Cv(n,i,c,eg,a),y===g)break;g=y}g!==null&&c.stopPropagation()}else Cv(n,i,c,null,a)}}function jv(n){return n=Xm(n),Uv(n)}var eg=null;function Uv(n){if(eg=null,n=Zt(n),n!==null){var i=o(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return eg=n,null}function U_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Oi:return 2;case ce:return 8;case In:case sa:return 32;case xs:return 268435456;default:return 32}default:return 32}}var Gv=!1,Lr=null,Or=null,Dr=null,$h=new Map,Kh=new Map,kr=[],aM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(n,i){switch(n){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":$h.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(i.pointerId)}}function Wh(n,i,a,c,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},i!==null&&(i=ui(i),i!==null&&j_(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function rM(n,i,a,c,g){switch(i){case"focusin":return Lr=Wh(Lr,n,i,a,c,g),!0;case"dragenter":return Or=Wh(Or,n,i,a,c,g),!0;case"mouseover":return Dr=Wh(Dr,n,i,a,c,g),!0;case"pointerover":var y=g.pointerId;return $h.set(y,Wh($h.get(y)||null,n,i,a,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Kh.set(y,Wh(Kh.get(y)||null,n,i,a,c,g)),!0}return!1}function q_(n){var i=Zt(n.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,jn(n.priority,function(){if(a.tag===13){var c=mi();c=Tn(c);var g=dc(a,c);g!==null&&yi(g,a,c),Bv(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ng(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=jv(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Vm=c,a.target.dispatchEvent(c),Vm=null}else return i=ui(a),i!==null&&j_(i),n.blockedOn=a,!1;i.shift()}return!0}function V_(n,i,a){ng(n)&&a.delete(i)}function oM(){Gv=!1,Lr!==null&&ng(Lr)&&(Lr=null),Or!==null&&ng(Or)&&(Or=null),Dr!==null&&ng(Dr)&&(Dr=null),$h.forEach(V_),Kh.forEach(V_)}function ig(n,i){n.blockedOn===i&&(n.blockedOn=null,Gv||(Gv=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,oM)))}var sg=null;function X_(n){sg!==n&&(sg=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){sg===n&&(sg=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],g=n[i+2];if(typeof c!="function"){if(Uv(c||a)===null)continue;break}var y=ui(a);y!==null&&(n.splice(i,3),i-=3,Uy(y,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function Qh(n){function i(D){return ig(D,n)}Lr!==null&&ig(Lr,n),Or!==null&&ig(Or,n),Dr!==null&&ig(Dr,n),$h.forEach(i),Kh.forEach(i);for(var a=0;a<kr.length;a++){var c=kr[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],y=a[c+1],E=g[mt]||null;if(typeof y=="function")E||X_(a);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[mt]||null)C=E.formAction;else if(Uv(g)!==null)continue}else C=E.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),X_(a)}}}function qv(n){this._internalRoot=n}ag.prototype.render=qv.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,c=mi();B_(a,c,n,i,null,null)},ag.prototype.unmount=qv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;B_(n.current,2,null,n,null,null),Ip(),i[_t]=null}};function ag(n){this._internalRoot=n}ag.prototype.unstable_scheduleHydration=function(n){if(n){var i=It();n={blockedOn:null,target:n,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,n),a===0&&q_(n)}};var Y_=t.version;if(Y_!=="19.1.0")throw Error(s(527,Y_,"19.1.0"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var lM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rg.isDisabled&&rg.supportsFiber)try{Wn=rg.inject(lM),ie=rg}catch{}}return Jh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,c="",g=cE,y=uE,E=hE,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=z_(n,1,!1,null,null,a,c,g,y,E,C,null),n[_t]=i.current,Tv(n),new qv(i)},Jh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var c=!1,g="",y=cE,E=uE,C=hE,D=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=z_(n,1,!0,i,a??null,c,g,y,E,C,D,U),i.context=H_(null),a=i.current,c=mi(),c=Tn(c),g=mr(c),g.callback=null,yr(a,g,c),a=c,i.current.lanes=a,Ni(i,a),Ds(i),n[_t]=i.current,Tv(n),new ag(i)},Jh.version="19.1.0",Jh}var sw;function AM(){if(sw)return $v.exports;sw=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),$v.exports=bM(),$v.exports}var SM=AM(),td={},aw;function EM(){if(aw)return td;aw=1,Object.defineProperty(td,"__esModule",{value:!0}),td.parse=u,td.serialize=p;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,A){const S=new o,w=b.length;if(w<2)return S;const M=(A==null?void 0:A.decode)||m;let T=0;do{const L=b.indexOf("=",T);if(L===-1)break;const O=b.indexOf(";",T),P=O===-1?w:O;if(L>P){T=b.lastIndexOf(";",L-1)+1;continue}const F=d(b,T,L),I=f(b,L,F),G=b.slice(F,I);if(S[G]===void 0){let K=d(b,L+1,P),tt=f(b,P,K);const it=M(b.slice(K,tt));S[G]=it}T=P+1}while(T<w);return S}function d(b,A,S){do{const w=b.charCodeAt(A);if(w!==32&&w!==9)return A}while(++A<S);return S}function f(b,A,S){for(;A>S;){const w=b.charCodeAt(--A);if(w!==32&&w!==9)return A+1}return S}function p(b,A,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!l.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=w(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let T=b+"="+M;if(!S)return T;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);T+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);T+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);T+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);T+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(T+="; HttpOnly"),S.secure&&(T+="; Secure"),S.partitioned&&(T+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return T}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return td}EM();var rw="popstate";function _M(l={}){function t(s,r){let{pathname:o,search:u,hash:d}=s.location;return hb("",{pathname:o,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){return typeof r=="string"?r:wd(r)}return xM(t,e,null,l)}function Le(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Js(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wM(){return Math.random().toString(36).substring(2,10)}function ow(l,t){return{usr:l.state,key:l.key,idx:t}}function hb(l,t,e=null,s){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?th(t):t,state:e,key:t&&t.key||s||wM()}}function wd({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function th(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let s=l.indexOf("?");s>=0&&(t.search=l.substring(s),l=l.substring(0,s)),l&&(t.pathname=l)}return t}function xM(l,t,e,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,u=r.history,d="POP",f=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let M=m(),T=M==null?null:M-p;p=M,f&&f({action:d,location:w.location,delta:T})}function b(M,T){d="PUSH";let L=hb(w.location,M,T);p=m()+1;let O=ow(L,p),P=w.createHref(L);try{u.pushState(O,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(P)}o&&f&&f({action:d,location:w.location,delta:1})}function A(M,T){d="REPLACE";let L=hb(w.location,M,T);p=m();let O=ow(L,p),P=w.createHref(L);u.replaceState(O,"",P),o&&f&&f({action:d,location:w.location,delta:0})}function S(M){return TM(M)}let w={get action(){return d},get location(){return l(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(rw,v),f=M,()=>{r.removeEventListener(rw,v),f=null}},createHref(M){return t(r,M)},createURL:S,encodeLocation(M){let T=S(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:A,go(M){return u.go(M)}};return w}function TM(l,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Le(e,"No window.location.(origin|href) available to create URL");let s=typeof l=="string"?l:wd(l);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function ax(l,t,e="/"){return CM(l,t,e,!1)}function CM(l,t,e,s){let r=typeof t=="string"?th(t):t,o=sr(r.pathname||"/",e);if(o==null)return null;let u=rx(l);RM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=BM(o);d=zM(u[f],p,s)}return d}function rx(l,t=[],e=[],s=""){let r=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Le(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let p=tr([s,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(Le(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rx(o.children,t,m,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:PM(p,o.index),routesMeta:m})};return l.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))r(o,u);else for(let f of ox(o.path))r(o,u,f)}),t}function ox(l){let t=l.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let u=ox(s.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&d.push(...u),d.map(f=>l.startsWith("/")&&f===""?"/":f)}function RM(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:FM(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var MM=/^:[\w-]+$/,LM=3,OM=2,DM=1,kM=10,NM=-2,lw=l=>l==="*";function PM(l,t){let e=l.split("/"),s=e.length;return e.some(lw)&&(s+=NM),t&&(s+=OM),e.filter(r=>!lw(r)).reduce((r,o)=>r+(MM.test(o)?LM:o===""?DM:kM),s)}function FM(l,t){return l.length===t.length&&l.slice(0,-1).every((s,r)=>s===t[r])?l[l.length-1]-t[t.length-1]:0}function zM(l,t,e=!1){let{routesMeta:s}=l,r={},o="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",v=Yg({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),b=f.route;if(!v&&p&&e&&!s[s.length-1].route.index&&(v=Yg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:tr([o,v.pathname]),pathnameBase:GM(tr([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=tr([o,v.pathnameBase]))}return u}function Yg(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,s]=HM(l.path,l.caseSensitive,l.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:v},b)=>{if(m==="*"){let S=d[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const A=d[b];return v&&!A?p[m]=void 0:p[m]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:l}}function HM(l,t=!1,e=!0){Js(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let s=[],r="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(s.push({paramName:"*"}),r+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":l!==""&&l!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function BM(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Js(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function sr(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=l.charAt(e);return s&&s!=="/"?null:l.slice(e)||"/"}function IM(l,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof l=="string"?th(l):l;return{pathname:e?e.startsWith("/")?e:jM(e,t):t,search:qM(s),hash:VM(r)}}function jM(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Zv(l,t,e,s){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UM(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function lx(l){let t=UM(l);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function cx(l,t,e,s=!1){let r;typeof l=="string"?r=th(l):(r={...l},Le(!r.pathname||!r.pathname.includes("?"),Zv("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),Zv("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),Zv("#","search","hash",r)));let o=l===""||r.pathname==="",u=o?"/":r.pathname,d;if(u==null)d=e;else{let v=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}d=v>=0?t[v]:"/"}let f=IM(r,d),p=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var tr=l=>l.join("/").replace(/\/\/+/g,"/"),GM=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),qM=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,VM=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function XM(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var ux=["POST","PUT","PATCH","DELETE"];new Set(ux);var YM=["GET",...ux];new Set(YM);var eh=k.createContext(null);eh.displayName="DataRouter";var Sm=k.createContext(null);Sm.displayName="DataRouterState";var hx=k.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var $M=k.createContext(new Map);$M.displayName="Fetchers";var KM=k.createContext(null);KM.displayName="Await";var ea=k.createContext(null);ea.displayName="Navigation";var Gf=k.createContext(null);Gf.displayName="Location";var na=k.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var I0=k.createContext(null);I0.displayName="RouteError";function WM(l,{relative:t}={}){Le(qf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=k.useContext(ea),{hash:r,pathname:o,search:u}=Vf(l,{relative:t}),d=o;return e!=="/"&&(d=o==="/"?e:tr([e,o])),s.createHref({pathname:d,search:u,hash:r})}function qf(){return k.useContext(Gf)!=null}function vo(){return Le(qf(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Gf).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(l){k.useContext(ea).static||k.useLayoutEffect(l)}function Em(){let{isDataRoute:l}=k.useContext(na);return l?hL():QM()}function QM(){Le(qf(),"useNavigate() may be used only in the context of a <Router> component.");let l=k.useContext(eh),{basename:t,navigator:e}=k.useContext(ea),{matches:s}=k.useContext(na),{pathname:r}=vo(),o=JSON.stringify(lx(s)),u=k.useRef(!1);return fx(()=>{u.current=!0}),k.useCallback((f,p={})=>{if(Js(u.current,dx),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=cx(f,JSON.parse(o),r,p.relative==="path");l==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:tr([t,m.pathname])),(p.replace?e.replace:e.push)(m,p.state,p)},[t,e,o,r,l])}var ZM=k.createContext(null);function JM(l){let t=k.useContext(na).outlet;return t&&k.createElement(ZM.Provider,{value:l},t)}function Vf(l,{relative:t}={}){let{matches:e}=k.useContext(na),{pathname:s}=vo(),r=JSON.stringify(lx(e));return k.useMemo(()=>cx(l,JSON.parse(r),s,t==="path"),[l,r,s,t])}function tL(l,t){return px(l,t)}function px(l,t,e,s){var T;Le(qf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=k.useContext(ea),{matches:o}=k.useContext(na),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let L=m&&m.path||"";gx(f,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=vo(),b;if(t){let L=typeof t=="string"?th(t):t;Le(p==="/"||((T=L.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=v;let A=b.pathname||"/",S=A;if(p!=="/"){let L=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=ax(l,{pathname:S});Js(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Js(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=aL(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:tr([p,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:tr([p,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,e,s);return t&&M?k.createElement(Gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function eL(){let l=uL(),t=XM(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",l),u=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:r},e):null,u)}var nL=k.createElement(eL,null),iL=class extends k.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){console.error("React Router caught the following error during render",l,t)}render(){return this.state.error!==void 0?k.createElement(na.Provider,{value:this.props.routeContext},k.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sL({routeContext:l,match:t,children:e}){let s=k.useContext(eh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(na.Provider,{value:l},e)}function aL(l,t=[],e=null,s=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let r=l,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Le(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=e,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,p,m)=>{let v,b=!1,A=null,S=null;e&&(v=o&&p.route.id?o[p.route.id]:void 0,A=p.route.errorElement||nL,u&&(d<0&&m===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===m&&(b=!0,S=p.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,m+1)),M=()=>{let T;return v?T=A:b?T=S:p.route.Component?T=k.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,k.createElement(sL,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?k.createElement(iL,{location:e.location,revalidation:e.revalidation,component:A,error:v,children:M(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):M()},null)}function j0(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rL(l){let t=k.useContext(eh);return Le(t,j0(l)),t}function oL(l){let t=k.useContext(Sm);return Le(t,j0(l)),t}function lL(l){let t=k.useContext(na);return Le(t,j0(l)),t}function U0(l){let t=lL(l),e=t.matches[t.matches.length-1];return Le(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function cL(){return U0("useRouteId")}function uL(){var s;let l=k.useContext(I0),t=oL("useRouteError"),e=U0("useRouteError");return l!==void 0?l:(s=t.errors)==null?void 0:s[e]}function hL(){let{router:l}=rL("useNavigate"),t=U0("useNavigate"),e=k.useRef(!1);return fx(()=>{e.current=!0}),k.useCallback(async(r,o={})=>{Js(e.current,dx),e.current&&(typeof r=="number"?l.navigate(r):await l.navigate(r,{fromRouteId:t,...o}))},[l,t])}var cw={};function gx(l,t,e){!t&&!cw[l]&&(cw[l]=!0,Js(!1,e))}k.memo(dL);function dL({routes:l,future:t,state:e}){return px(l,void 0,e,t)}function fL(l){return JM(l.context)}function Hc(l){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pL({basename:l="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:o=!1}){Le(!qf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=l.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=th(e));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:b="default"}=e,A=k.useMemo(()=>{let S=sr(f,u);return S==null?null:{location:{pathname:S,search:p,hash:m,state:v,key:b},navigationType:s}},[u,f,p,m,v,b,s]);return Js(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:k.createElement(ea.Provider,{value:d},k.createElement(Gf.Provider,{children:t,value:A}))}function gL({children:l,location:t}){return tL(db(l),t)}function db(l,t=[]){let e=[];return k.Children.forEach(l,(s,r)=>{if(!k.isValidElement(s))return;let o=[...t,r];if(s.type===k.Fragment){e.push.apply(e,db(s.props.children,o));return}Le(s.type===Hc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=db(s.props.children,o)),e.push(u)}),e}var gg="get",mg="application/x-www-form-urlencoded";function _m(l){return l!=null&&typeof l.tagName=="string"}function mL(l){return _m(l)&&l.tagName.toLowerCase()==="button"}function yL(l){return _m(l)&&l.tagName.toLowerCase()==="form"}function vL(l){return _m(l)&&l.tagName.toLowerCase()==="input"}function bL(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function AL(l,t){return l.button===0&&(!t||t==="_self")&&!bL(l)}var og=null;function SL(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var EL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jv(l){return l!=null&&!EL.has(l)?(Js(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mg}"`),null):l}function _L(l,t){let e,s,r,o,u;if(yL(l)){let d=l.getAttribute("action");s=d?sr(d,t):null,e=l.getAttribute("method")||gg,r=Jv(l.getAttribute("enctype"))||mg,o=new FormData(l)}else if(mL(l)||vL(l)&&(l.type==="submit"||l.type==="image")){let d=l.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=l.getAttribute("formaction")||d.getAttribute("action");if(s=f?sr(f,t):null,e=l.getAttribute("formmethod")||d.getAttribute("method")||gg,r=Jv(l.getAttribute("formenctype"))||Jv(d.getAttribute("enctype"))||mg,o=new FormData(d,l),!SL()){let{name:p,type:m,value:v}=l;if(m==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,v)}}else{if(_m(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=gg,s=null,r=mg,u=l}return o&&r==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:o,body:u}}function G0(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}async function wL(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xL(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function TL(l,t,e){let s=await Promise.all(l.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await wL(o,e);return u.links?u.links():[]}return[]}));return LL(s.flat(1).filter(xL).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function uw(l,t,e,s,r,o){let u=(f,p)=>e[p]?f.route.id!==e[p].route.id:!0,d=(f,p)=>{var m;return e[p].pathname!==f.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):o==="data"?t.filter((f,p)=>{var v;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(l,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function CL(l,t,{includeHydrateFallback:e}={}){return RL(l.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function RL(l){return[...new Set(l)]}function ML(l){let t={},e=Object.keys(l).sort();for(let s of e)t[s]=l[s];return t}function LL(l,t){let e=new Set;return new Set(t),l.reduce((s,r)=>{let o=JSON.stringify(ML(r));return e.has(o)||(e.add(o),s.push({key:o,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OL=new Set([100,101,204,205]);function DL(l,t){let e=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return e.pathname==="/"?e.pathname="_root.data":t&&sr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mx(){let l=k.useContext(eh);return G0(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function kL(){let l=k.useContext(Sm);return G0(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var q0=k.createContext(void 0);q0.displayName="FrameworkContext";function yx(){let l=k.useContext(q0);return G0(l,"You must render this element inside a <HydratedRouter> element"),l}function NL(l,t){let e=k.useContext(q0),[s,r]=k.useState(!1),[o,u]=k.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=t,b=k.useRef(null);k.useEffect(()=>{if(l==="render"&&u(!0),l==="viewport"){let w=T=>{T.forEach(L=>{u(L.isIntersecting)})},M=new IntersectionObserver(w,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[l]),k.useEffect(()=>{if(s){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[s]);let A=()=>{r(!0)},S=()=>{r(!1),u(!1)};return e?l!=="intent"?[o,b,{}]:[o,b,{onFocus:ed(d,A),onBlur:ed(f,S),onMouseEnter:ed(p,A),onMouseLeave:ed(m,S),onTouchStart:ed(v,A)}]:[!1,b,{}]}function ed(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function PL({page:l,...t}){let{router:e}=mx(),s=k.useMemo(()=>ax(e.routes,l,e.basename),[e.routes,l,e.basename]);return s?k.createElement(zL,{page:l,matches:s,...t}):null}function FL(l){let{manifest:t,routeModules:e}=yx(),[s,r]=k.useState([]);return k.useEffect(()=>{let o=!1;return TL(l,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[l,t,e]),s}function zL({page:l,matches:t,...e}){let s=vo(),{manifest:r,routeModules:o}=yx(),{basename:u}=mx(),{loaderData:d,matches:f}=kL(),p=k.useMemo(()=>uw(l,t,f,r,s,"data"),[l,t,f,r,s]),m=k.useMemo(()=>uw(l,t,f,r,s,"assets"),[l,t,f,r,s]),v=k.useMemo(()=>{if(l===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(t.forEach(T=>{var O;let L=r.routes[T.route.id];!L||!L.hasLoader||(!p.some(P=>P.route.id===T.route.id)&&T.route.id in d&&((O=o[T.route.id])!=null&&O.shouldRevalidate)||L.hasClientLoader?w=!0:S.add(T.route.id))}),S.size===0)return[];let M=DL(l,u);return w&&S.size>0&&M.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,p,t,l,o]),b=k.useMemo(()=>CL(m,r),[m,r]),A=FL(m);return k.createElement(k.Fragment,null,v.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),A.map(({key:S,link:w})=>k.createElement("link",{key:S,...w})))}function HL(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.6.2")}catch{}function BL({basename:l,children:t,window:e}){let s=k.useRef();s.current==null&&(s.current=_M({window:e,v5Compat:!0}));let r=s.current,[o,u]=k.useState({action:r.action,location:r.location}),d=k.useCallback(f=>{k.startTransition(()=>u(f))},[u]);return k.useLayoutEffect(()=>r.listen(d),[r,d]),k.createElement(pL,{basename:l,children:t,location:o.location,navigationType:o.action,navigator:r})}var bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ax=k.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:o,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:v,...b},A){let{basename:S}=k.useContext(ea),w=typeof p=="string"&&bx.test(p),M,T=!1;if(typeof p=="string"&&w&&(M=p,vx))try{let tt=new URL(window.location.href),it=p.startsWith("//")?new URL(tt.protocol+p):new URL(p),st=sr(it.pathname,S);it.origin===tt.origin&&st!=null?p=st+it.search+it.hash:T=!0}catch{Js(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=WM(p,{relative:r}),[O,P,F]=NL(s,b),I=GL(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:v});function G(tt){t&&t(tt),tt.defaultPrevented||I(tt)}let K=k.createElement("a",{...b,...F,href:M||L,onClick:T||o?t:G,ref:HL(A,P),target:f,"data-discover":!w&&e==="render"?"true":void 0});return O&&!w?k.createElement(k.Fragment,null,K,k.createElement(PL,{page:L})):K});Ax.displayName="Link";var IL=k.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:o,to:u,viewTransition:d,children:f,...p},m){let v=Vf(u,{relative:p.relative}),b=vo(),A=k.useContext(Sm),{navigator:S,basename:w}=k.useContext(ea),M=A!=null&&$L(v)&&d===!0,T=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,L=b.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(L=L.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&w&&(O=sr(O,w)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let F=L===T||!r&&L.startsWith(T)&&L.charAt(P)==="/",I=O!=null&&(O===T||!r&&O.startsWith(T)&&O.charAt(T.length)==="/"),G={isActive:F,isPending:I,isTransitioning:M},K=F?t:void 0,tt;typeof s=="function"?tt=s(G):tt=[s,F?"active":null,I?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let it=typeof o=="function"?o(G):o;return k.createElement(Ax,{...p,"aria-current":K,className:tt,ref:m,style:it,to:u,viewTransition:d},typeof f=="function"?f(G):f)});IL.displayName="NavLink";var jL=k.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:o,method:u=gg,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,...b},A)=>{let S=XL(),w=YL(d,{relative:p}),M=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&bx.test(d),L=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,F=(P==null?void 0:P.getAttribute("formmethod"))||u;S(P||O.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:r,state:o,relative:p,preventScrollReset:m,viewTransition:v})};return k.createElement("form",{ref:A,method:M,action:w,onSubmit:s?f:L,...b,"data-discover":!T&&l==="render"?"true":void 0})});jL.displayName="Form";function UL(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sx(l){let t=k.useContext(eh);return Le(t,UL(l)),t}function GL(l,{target:t,replace:e,state:s,preventScrollReset:r,relative:o,viewTransition:u}={}){let d=Em(),f=vo(),p=Vf(l,{relative:o});return k.useCallback(m=>{if(AL(m,t)){m.preventDefault();let v=e!==void 0?e:wd(f)===wd(p);d(l,{replace:v,state:s,preventScrollReset:r,relative:o,viewTransition:u})}},[f,d,p,e,s,t,l,r,o,u])}var qL=0,VL=()=>`__${String(++qL)}__`;function XL(){let{router:l}=Sx("useSubmit"),{basename:t}=k.useContext(ea),e=cL();return k.useCallback(async(s,r={})=>{let{action:o,method:u,encType:d,formData:f,body:p}=_L(s,t);if(r.navigate===!1){let m=r.fetcherKey||VL();await l.fetch(m,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await l.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[l,t,e])}function YL(l,{relative:t}={}){let{basename:e}=k.useContext(ea),s=k.useContext(na);Le(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...Vf(l||".",{relative:t})},u=vo();if(l==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();o.search=m?`?${m}`:""}}return(!l||l===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:tr([e,o.pathname])),wd(o)}function $L(l,t={}){let e=k.useContext(hx);Le(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sx("useViewTransitionState"),r=Vf(l,{relative:t.relative});if(!e.isTransitioning)return!1;let o=sr(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=sr(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Yg(r.pathname,u)!=null||Yg(r.pathname,o)!=null}[...OL];var Ex={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hw=oi.createContext&&oi.createContext(Ex),KL=["attr","size","title"];function WL(l,t){if(l==null)return{};var e=QL(l,t),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(l,s)&&(e[s]=l[s])}return e}function QL(l,t){if(l==null)return{};var e={};for(var s in l)if(Object.prototype.hasOwnProperty.call(l,s)){if(t.indexOf(s)>=0)continue;e[s]=l[s]}return e}function $g(){return $g=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(l[s]=e[s])}return l},$g.apply(this,arguments)}function dw(l,t){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable})),e.push.apply(e,s)}return e}function Kg(l){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(e),!0).forEach(function(s){ZL(l,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):dw(Object(e)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(e,s))})}return l}function ZL(l,t,e){return t=JL(t),t in l?Object.defineProperty(l,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[t]=e,l}function JL(l){var t=tO(l,"string");return typeof t=="symbol"?t:t+""}function tO(l,t){if(typeof l!="object"||!l)return l;var e=l[Symbol.toPrimitive];if(e!==void 0){var s=e.call(l,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}function _x(l){return l&&l.map((t,e)=>oi.createElement(t.tag,Kg({key:e},t.attr),_x(t.child)))}function V0(l){return t=>oi.createElement(eO,$g({attr:Kg({},l.attr)},t),_x(l.child))}function eO(l){var t=e=>{var{attr:s,size:r,title:o}=l,u=WL(l,KL),d=r||e.size||"1em",f;return e.className&&(f=e.className),l.className&&(f=(f?f+" ":"")+l.className),oi.createElement("svg",$g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:f,style:Kg(Kg({color:l.color||e.color},e.style),l.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&oi.createElement("title",null,o),l.children)};return hw!==void 0?oi.createElement(hw.Consumer,null,e=>t(e)):t(Ex)}function nO(l){return V0({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(l)}function iO(l){return V0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(l)}function sO(l){return V0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(l)}const Qu=Math.min,Gl=Math.max,Wg=Math.round,lg=Math.floor,Zs=l=>({x:l,y:l}),aO={left:"right",right:"left",bottom:"top",top:"bottom"},rO={start:"end",end:"start"};function fb(l,t,e){return Gl(l,Qu(t,e))}function Xf(l,t){return typeof l=="function"?l(t):l}function ql(l){return l.split("-")[0]}function Yf(l){return l.split("-")[1]}function wx(l){return l==="x"?"y":"x"}function X0(l){return l==="y"?"height":"width"}function ho(l){return["top","bottom"].includes(ql(l))?"y":"x"}function Y0(l){return wx(ho(l))}function oO(l,t,e){e===void 0&&(e=!1);const s=Yf(l),r=Y0(l),o=X0(r);let u=r==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=Qg(u)),[u,Qg(u)]}function lO(l){const t=Qg(l);return[pb(l),t,pb(t)]}function pb(l){return l.replace(/start|end/g,t=>rO[t])}function cO(l,t,e){const s=["left","right"],r=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(l){case"top":case"bottom":return e?t?r:s:t?s:r;case"left":case"right":return t?o:u;default:return[]}}function uO(l,t,e,s){const r=Yf(l);let o=cO(ql(l),e==="start",s);return r&&(o=o.map(u=>u+"-"+r),t&&(o=o.concat(o.map(pb)))),o}function Qg(l){return l.replace(/left|right|bottom|top/g,t=>aO[t])}function hO(l){return{top:0,right:0,bottom:0,left:0,...l}}function xx(l){return typeof l!="number"?hO(l):{top:l,right:l,bottom:l,left:l}}function Zg(l){const{x:t,y:e,width:s,height:r}=l;return{width:s,height:r,top:e,left:t,right:t+s,bottom:e+r,x:t,y:e}}function fw(l,t,e){let{reference:s,floating:r}=l;const o=ho(t),u=Y0(t),d=X0(u),f=ql(t),p=o==="y",m=s.x+s.width/2-r.width/2,v=s.y+s.height/2-r.height/2,b=s[d]/2-r[d]/2;let A;switch(f){case"top":A={x:m,y:s.y-r.height};break;case"bottom":A={x:m,y:s.y+s.height};break;case"right":A={x:s.x+s.width,y:v};break;case"left":A={x:s.x-r.width,y:v};break;default:A={x:s.x,y:s.y}}switch(Yf(t)){case"start":A[u]-=b*(e&&p?-1:1);break;case"end":A[u]+=b*(e&&p?-1:1);break}return A}const dO=async(l,t,e)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:u}=e,d=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:l,floating:t,strategy:r}),{x:m,y:v}=fw(p,s,f),b=s,A={},S=0;for(let w=0;w<d.length;w++){const{name:M,fn:T}=d[w],{x:L,y:O,data:P,reset:F}=await T({x:m,y:v,initialPlacement:s,placement:b,strategy:r,middlewareData:A,rects:p,platform:u,elements:{reference:l,floating:t}});m=L??m,v=O??v,A={...A,[M]:{...A[M],...P}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:l,floating:t,strategy:r}):F.rects),{x:m,y:v}=fw(p,b,f)),w=-1)}return{x:m,y:v,placement:b,strategy:r,middlewareData:A}};async function Tx(l,t){var e;t===void 0&&(t={});const{x:s,y:r,platform:o,rects:u,elements:d,strategy:f}=l,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:b=!1,padding:A=0}=Xf(t,l),S=xx(A),M=d[b?v==="floating"?"reference":"floating":v],T=Zg(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(M)))==null||e?M:M.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:m,strategy:f})),L=v==="floating"?{x:s,y:r,width:u.floating.width,height:u.floating.height}:u.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),P=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},F=Zg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:L,offsetParent:O,strategy:f}):L);return{top:(T.top-F.top+S.top)/P.y,bottom:(F.bottom-T.bottom+S.bottom)/P.y,left:(T.left-F.left+S.left)/P.x,right:(F.right-T.right+S.right)/P.x}}const fO=l=>({name:"arrow",options:l,async fn(t){const{x:e,y:s,placement:r,rects:o,platform:u,elements:d,middlewareData:f}=t,{element:p,padding:m=0}=Xf(l,t)||{};if(p==null)return{};const v=xx(m),b={x:e,y:s},A=Y0(r),S=X0(A),w=await u.getDimensions(p),M=A==="y",T=M?"top":"left",L=M?"bottom":"right",O=M?"clientHeight":"clientWidth",P=o.reference[S]+o.reference[A]-b[A]-o.floating[S],F=b[A]-o.reference[A],I=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let G=I?I[O]:0;(!G||!await(u.isElement==null?void 0:u.isElement(I)))&&(G=d.floating[O]||o.floating[S]);const K=P/2-F/2,tt=G/2-w[S]/2-1,it=Qu(v[T],tt),st=Qu(v[L],tt),ft=it,pt=G-w[S]-st,rt=G/2-w[S]/2+K,ct=fb(ft,rt,pt),H=!f.arrow&&Yf(r)!=null&&rt!==ct&&o.reference[S]/2-(rt<ft?it:st)-w[S]/2<0,q=H?rt<ft?rt-ft:rt-pt:0;return{[A]:b[A]+q,data:{[A]:ct,centerOffset:rt-ct-q,...H&&{alignmentOffset:q}},reset:H}}}),pO=function(l){return l===void 0&&(l={}),{name:"flip",options:l,async fn(t){var e,s;const{placement:r,middlewareData:o,rects:u,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...M}=Xf(l,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const T=ql(r),L=ho(d),O=ql(d)===d,P=await(f.isRTL==null?void 0:f.isRTL(p.floating)),F=b||(O||!w?[Qg(d)]:lO(d)),I=S!=="none";!b&&I&&F.push(...uO(d,w,S,P));const G=[d,...F],K=await Tx(t,M),tt=[];let it=((s=o.flip)==null?void 0:s.overflows)||[];if(m&&tt.push(K[T]),v){const rt=oO(r,u,P);tt.push(K[rt[0]],K[rt[1]])}if(it=[...it,{placement:r,overflows:tt}],!tt.every(rt=>rt<=0)){var st,ft;const rt=(((st=o.flip)==null?void 0:st.index)||0)+1,ct=G[rt];if(ct&&(!(v==="alignment"?L!==ho(ct):!1)||it.every(W=>W.overflows[0]>0&&ho(W.placement)===L)))return{data:{index:rt,overflows:it},reset:{placement:ct}};let H=(ft=it.filter(q=>q.overflows[0]<=0).sort((q,W)=>q.overflows[1]-W.overflows[1])[0])==null?void 0:ft.placement;if(!H)switch(A){case"bestFit":{var pt;const q=(pt=it.filter(W=>{if(I){const yt=ho(W.placement);return yt===L||yt==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(yt=>yt>0).reduce((yt,N)=>yt+N,0)]).sort((W,yt)=>W[1]-yt[1])[0])==null?void 0:pt[0];q&&(H=q);break}case"initialPlacement":H=d;break}if(r!==H)return{reset:{placement:H}}}return{}}}};async function gO(l,t){const{placement:e,platform:s,elements:r}=l,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),u=ql(e),d=Yf(e),f=ho(e)==="y",p=["left","top"].includes(u)?-1:1,m=o&&f?-1:1,v=Xf(t,l);let{mainAxis:b,crossAxis:A,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof S=="number"&&(A=d==="end"?S*-1:S),f?{x:A*m,y:b*p}:{x:b*p,y:A*m}}const mO=function(l){return l===void 0&&(l=0),{name:"offset",options:l,async fn(t){var e,s;const{x:r,y:o,placement:u,middlewareData:d}=t,f=await gO(t,l);return u===((e=d.offset)==null?void 0:e.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:r+f.x,y:o+f.y,data:{...f,placement:u}}}}},yO=function(l){return l===void 0&&(l={}),{name:"shift",options:l,async fn(t){const{x:e,y:s,placement:r}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:M=>{let{x:T,y:L}=M;return{x:T,y:L}}},...f}=Xf(l,t),p={x:e,y:s},m=await Tx(t,f),v=ho(ql(r)),b=wx(v);let A=p[b],S=p[v];if(o){const M=b==="y"?"top":"left",T=b==="y"?"bottom":"right",L=A+m[M],O=A-m[T];A=fb(L,A,O)}if(u){const M=v==="y"?"top":"left",T=v==="y"?"bottom":"right",L=S+m[M],O=S-m[T];S=fb(L,S,O)}const w=d.fn({...t,[b]:A,[v]:S});return{...w,data:{x:w.x-e,y:w.y-s,enabled:{[b]:o,[v]:u}}}}}};function wm(){return typeof window<"u"}function nh(l){return Cx(l)?(l.nodeName||"").toLowerCase():"#document"}function Mi(l){var t;return(l==null||(t=l.ownerDocument)==null?void 0:t.defaultView)||window}function ia(l){var t;return(t=(Cx(l)?l.ownerDocument:l.document)||window.document)==null?void 0:t.documentElement}function Cx(l){return wm()?l instanceof Node||l instanceof Mi(l).Node:!1}function _s(l){return wm()?l instanceof Element||l instanceof Mi(l).Element:!1}function ta(l){return wm()?l instanceof HTMLElement||l instanceof Mi(l).HTMLElement:!1}function pw(l){return!wm()||typeof ShadowRoot>"u"?!1:l instanceof ShadowRoot||l instanceof Mi(l).ShadowRoot}function $f(l){const{overflow:t,overflowX:e,overflowY:s,display:r}=ws(l);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(r)}function vO(l){return["table","td","th"].includes(nh(l))}function xm(l){return[":popover-open",":modal"].some(t=>{try{return l.matches(t)}catch{return!1}})}function $0(l){const t=K0(),e=_s(l)?ws(l):l;return["transform","translate","scale","rotate","perspective"].some(s=>e[s]?e[s]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function bO(l){let t=fo(l);for(;ta(t)&&!Zu(t);){if($0(t))return t;if(xm(t))return null;t=fo(t)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zu(l){return["html","body","#document"].includes(nh(l))}function ws(l){return Mi(l).getComputedStyle(l)}function Tm(l){return _s(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:{scrollLeft:l.scrollX,scrollTop:l.scrollY}}function fo(l){if(nh(l)==="html")return l;const t=l.assignedSlot||l.parentNode||pw(l)&&l.host||ia(l);return pw(t)?t.host:t}function Rx(l){const t=fo(l);return Zu(t)?l.ownerDocument?l.ownerDocument.body:l.body:ta(t)&&$f(t)?t:Rx(t)}function xd(l,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=Rx(l),o=r===((s=l.ownerDocument)==null?void 0:s.body),u=Mi(r);if(o){const d=gb(u);return t.concat(u,u.visualViewport||[],$f(r)?r:[],d&&e?xd(d):[])}return t.concat(r,xd(r,[],e))}function gb(l){return l.parent&&Object.getPrototypeOf(l.parent)?l.frameElement:null}function Mx(l){const t=ws(l);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=ta(l),o=r?l.offsetWidth:e,u=r?l.offsetHeight:s,d=Wg(e)!==o||Wg(s)!==u;return d&&(e=o,s=u),{width:e,height:s,$:d}}function W0(l){return _s(l)?l:l.contextElement}function $c(l){const t=W0(l);if(!ta(t))return Zs(1);const e=t.getBoundingClientRect(),{width:s,height:r,$:o}=Mx(t);let u=(o?Wg(e.width):e.width)/s,d=(o?Wg(e.height):e.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const AO=Zs(0);function Lx(l){const t=Mi(l);return!K0()||!t.visualViewport?AO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SO(l,t,e){return t===void 0&&(t=!1),!e||t&&e!==Mi(l)?!1:t}function Vl(l,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=l.getBoundingClientRect(),o=W0(l);let u=Zs(1);t&&(s?_s(s)&&(u=$c(s)):u=$c(l));const d=SO(o,e,s)?Lx(o):Zs(0);let f=(r.left+d.x)/u.x,p=(r.top+d.y)/u.y,m=r.width/u.x,v=r.height/u.y;if(o){const b=Mi(o),A=s&&_s(s)?Mi(s):s;let S=b,w=gb(S);for(;w&&s&&A!==S;){const M=$c(w),T=w.getBoundingClientRect(),L=ws(w),O=T.left+(w.clientLeft+parseFloat(L.paddingLeft))*M.x,P=T.top+(w.clientTop+parseFloat(L.paddingTop))*M.y;f*=M.x,p*=M.y,m*=M.x,v*=M.y,f+=O,p+=P,S=Mi(w),w=gb(S)}}return Zg({width:m,height:v,x:f,y:p})}function Q0(l,t){const e=Tm(l).scrollLeft;return t?t.left+e:Vl(ia(l)).left+e}function Ox(l,t,e){e===void 0&&(e=!1);const s=l.getBoundingClientRect(),r=s.left+t.scrollLeft-(e?0:Q0(l,s)),o=s.top+t.scrollTop;return{x:r,y:o}}function EO(l){let{elements:t,rect:e,offsetParent:s,strategy:r}=l;const o=r==="fixed",u=ia(s),d=t?xm(t.floating):!1;if(s===u||d&&o)return e;let f={scrollLeft:0,scrollTop:0},p=Zs(1);const m=Zs(0),v=ta(s);if((v||!v&&!o)&&((nh(s)!=="body"||$f(u))&&(f=Tm(s)),ta(s))){const A=Vl(s);p=$c(s),m.x=A.x+s.clientLeft,m.y=A.y+s.clientTop}const b=u&&!v&&!o?Ox(u,f,!0):Zs(0);return{width:e.width*p.x,height:e.height*p.y,x:e.x*p.x-f.scrollLeft*p.x+m.x+b.x,y:e.y*p.y-f.scrollTop*p.y+m.y+b.y}}function _O(l){return Array.from(l.getClientRects())}function wO(l){const t=ia(l),e=Tm(l),s=l.ownerDocument.body,r=Gl(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Gl(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-e.scrollLeft+Q0(l);const d=-e.scrollTop;return ws(s).direction==="rtl"&&(u+=Gl(t.clientWidth,s.clientWidth)-r),{width:r,height:o,x:u,y:d}}function xO(l,t){const e=Mi(l),s=ia(l),r=e.visualViewport;let o=s.clientWidth,u=s.clientHeight,d=0,f=0;if(r){o=r.width,u=r.height;const p=K0();(!p||p&&t==="fixed")&&(d=r.offsetLeft,f=r.offsetTop)}return{width:o,height:u,x:d,y:f}}function TO(l,t){const e=Vl(l,!0,t==="fixed"),s=e.top+l.clientTop,r=e.left+l.clientLeft,o=ta(l)?$c(l):Zs(1),u=l.clientWidth*o.x,d=l.clientHeight*o.y,f=r*o.x,p=s*o.y;return{width:u,height:d,x:f,y:p}}function gw(l,t,e){let s;if(t==="viewport")s=xO(l,e);else if(t==="document")s=wO(ia(l));else if(_s(t))s=TO(t,e);else{const r=Lx(l);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Zg(s)}function Dx(l,t){const e=fo(l);return e===t||!_s(e)||Zu(e)?!1:ws(e).position==="fixed"||Dx(e,t)}function CO(l,t){const e=t.get(l);if(e)return e;let s=xd(l,[],!1).filter(d=>_s(d)&&nh(d)!=="body"),r=null;const o=ws(l).position==="fixed";let u=o?fo(l):l;for(;_s(u)&&!Zu(u);){const d=ws(u),f=$0(u);!f&&d.position==="fixed"&&(r=null),(o?!f&&!r:!f&&d.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||$f(u)&&!f&&Dx(l,u))?s=s.filter(m=>m!==u):r=d,u=fo(u)}return t.set(l,s),s}function RO(l){let{element:t,boundary:e,rootBoundary:s,strategy:r}=l;const u=[...e==="clippingAncestors"?xm(t)?[]:CO(t,this._c):[].concat(e),s],d=u[0],f=u.reduce((p,m)=>{const v=gw(t,m,r);return p.top=Gl(v.top,p.top),p.right=Qu(v.right,p.right),p.bottom=Qu(v.bottom,p.bottom),p.left=Gl(v.left,p.left),p},gw(t,d,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function MO(l){const{width:t,height:e}=Mx(l);return{width:t,height:e}}function LO(l,t,e){const s=ta(t),r=ia(t),o=e==="fixed",u=Vl(l,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=Zs(0);function p(){f.x=Q0(r)}if(s||!s&&!o)if((nh(t)!=="body"||$f(r))&&(d=Tm(t)),s){const A=Vl(t,!0,o,t);f.x=A.x+t.clientLeft,f.y=A.y+t.clientTop}else r&&p();o&&!s&&r&&p();const m=r&&!s&&!o?Ox(r,d):Zs(0),v=u.left+d.scrollLeft-f.x-m.x,b=u.top+d.scrollTop-f.y-m.y;return{x:v,y:b,width:u.width,height:u.height}}function tb(l){return ws(l).position==="static"}function mw(l,t){if(!ta(l)||ws(l).position==="fixed")return null;if(t)return t(l);let e=l.offsetParent;return ia(l)===e&&(e=e.ownerDocument.body),e}function kx(l,t){const e=Mi(l);if(xm(l))return e;if(!ta(l)){let r=fo(l);for(;r&&!Zu(r);){if(_s(r)&&!tb(r))return r;r=fo(r)}return e}let s=mw(l,t);for(;s&&vO(s)&&tb(s);)s=mw(s,t);return s&&Zu(s)&&tb(s)&&!$0(s)?e:s||bO(l)||e}const OO=async function(l){const t=this.getOffsetParent||kx,e=this.getDimensions,s=await e(l.floating);return{reference:LO(l.reference,await t(l.floating),l.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function DO(l){return ws(l).direction==="rtl"}const kO={convertOffsetParentRelativeRectToViewportRelativeRect:EO,getDocumentElement:ia,getClippingRect:RO,getOffsetParent:kx,getElementRects:OO,getClientRects:_O,getDimensions:MO,getScale:$c,isElement:_s,isRTL:DO};function Nx(l,t){return l.x===t.x&&l.y===t.y&&l.width===t.width&&l.height===t.height}function NO(l,t){let e=null,s;const r=ia(l);function o(){var d;clearTimeout(s),(d=e)==null||d.disconnect(),e=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const p=l.getBoundingClientRect(),{left:m,top:v,width:b,height:A}=p;if(d||t(),!b||!A)return;const S=lg(v),w=lg(r.clientWidth-(m+b)),M=lg(r.clientHeight-(v+A)),T=lg(m),O={rootMargin:-S+"px "+-w+"px "+-M+"px "+-T+"px",threshold:Gl(0,Qu(1,f))||1};let P=!0;function F(I){const G=I[0].intersectionRatio;if(G!==f){if(!P)return u();G?u(!1,G):s=setTimeout(()=>{u(!1,1e-7)},1e3)}G===1&&!Nx(p,l.getBoundingClientRect())&&u(),P=!1}try{e=new IntersectionObserver(F,{...O,root:r.ownerDocument})}catch{e=new IntersectionObserver(F,O)}e.observe(l)}return u(!0),o}function PO(l,t,e,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=W0(l),m=r||o?[...p?xd(p):[],...xd(t)]:[];m.forEach(T=>{r&&T.addEventListener("scroll",e,{passive:!0}),o&&T.addEventListener("resize",e)});const v=p&&d?NO(p,e):null;let b=-1,A=null;u&&(A=new ResizeObserver(T=>{let[L]=T;L&&L.target===p&&A&&(A.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=A)==null||O.observe(t)})),e()}),p&&!f&&A.observe(p),A.observe(t));let S,w=f?Vl(l):null;f&&M();function M(){const T=Vl(l);w&&!Nx(w,T)&&e(),w=T,S=requestAnimationFrame(M)}return e(),()=>{var T;m.forEach(L=>{r&&L.removeEventListener("scroll",e),o&&L.removeEventListener("resize",e)}),v==null||v(),(T=A)==null||T.disconnect(),A=null,f&&cancelAnimationFrame(S)}}const FO=mO,zO=yO,HO=pO,BO=fO,yw=(l,t,e)=>{const s=new Map,r={platform:kO,...e},o={...r.platform,_c:s};return dO(l,t,{...r,platform:o})};var eb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vw;function IO(){return vw||(vw=1,function(l){(function(){var t={}.hasOwnProperty;function e(){for(var o="",u=0;u<arguments.length;u++){var d=arguments[u];d&&(o=r(o,s(d)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var d in o)t.call(o,d)&&o[d]&&(u=r(u,d));return u}function r(o,u){return u?o?o+" "+u:o+u:o}l.exports?(e.default=e,l.exports=e):window.classNames=e})()}(eb)),eb.exports}var jO=IO();const mb=H0(jO);var bw={};const UO="react-tooltip-core-styles",GO="react-tooltip-base-styles",Aw={core:!1,base:!1};function Sw({css:l,id:t=GO,type:e="base",ref:s}){var r,o;if(!l||typeof document>"u"||Aw[e]||e==="core"&&typeof process<"u"&&(!((r=process==null?void 0:bw)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES)||e!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:bw)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;e==="core"&&(t=UO),s||(s={});const{insertAt:u}=s;if(document.getElementById(t))return;const d=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.id=t,f.type="text/css",u==="top"&&d.firstChild?d.insertBefore(f,d.firstChild):d.appendChild(f),f.styleSheet?f.styleSheet.cssText=l:f.appendChild(document.createTextNode(l)),Aw[e]=!0}const Ew=async({elementReference:l=null,tooltipReference:t=null,tooltipArrowReference:e=null,place:s="top",offset:r=10,strategy:o="absolute",middlewares:u=[FO(Number(r)),HO({fallbackAxisSideDirection:"start"}),zO({padding:5})],border:d,arrowSize:f=8})=>{if(!l)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};const p=u;return e?(p.push(BO({element:e,padding:5})),yw(l,t,{placement:s,strategy:o,middleware:p}).then(({x:m,y:v,placement:b,middlewareData:A})=>{var S,w;const M={left:`${m}px`,top:`${v}px`,border:d},{x:T,y:L}=(S=A.arrow)!==null&&S!==void 0?S:{x:0,y:0},O=(w={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]])!==null&&w!==void 0?w:"bottom",P=d&&{borderBottom:d,borderRight:d};let F=0;if(d){const I=`${d}`.match(/(\d+)px/);F=I!=null&&I[1]?Number(I[1]):1}return{tooltipStyles:M,tooltipArrowStyles:{left:T!=null?`${T}px`:"",top:L!=null?`${L}px`:"",right:"",bottom:"",...P,[O]:`-${f/2+F}px`},place:b}})):yw(l,t,{placement:"bottom",strategy:o,middleware:p}).then(({x:m,y:v,placement:b})=>({tooltipStyles:{left:`${m}px`,top:`${v}px`},tooltipArrowStyles:{},place:b}))},_w=(l,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(l,t),ww=(l,t,e)=>{let s=null;const r=function(...o){const u=()=>{s=null};!s&&(l.apply(this,o),s=setTimeout(u,t))};return r.cancel=()=>{s&&(clearTimeout(s),s=null)},r},xw=l=>l!==null&&!Array.isArray(l)&&typeof l=="object",yb=(l,t)=>{if(l===t)return!0;if(Array.isArray(l)&&Array.isArray(t))return l.length===t.length&&l.every((r,o)=>yb(r,t[o]));if(Array.isArray(l)!==Array.isArray(t))return!1;if(!xw(l)||!xw(t))return l===t;const e=Object.keys(l),s=Object.keys(t);return e.length===s.length&&e.every(r=>yb(l[r],t[r]))},qO=l=>{if(!(l instanceof HTMLElement||l instanceof SVGElement))return!1;const t=getComputedStyle(l);return["overflow","overflow-x","overflow-y"].some(e=>{const s=t.getPropertyValue(e);return s==="auto"||s==="scroll"})},Tw=l=>{if(!l)return null;let t=l.parentElement;for(;t;){if(qO(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},VO=typeof window<"u"?k.useLayoutEffect:k.useEffect,Xi=l=>{l.current&&(clearTimeout(l.current),l.current=null)},XO="DEFAULT_TOOLTIP_ID",YO={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$O=k.createContext({getTooltipData:()=>YO});function Px(l=XO){return k.useContext($O).getTooltipData(l)}var zc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},nb={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const KO=({forwardRef:l,id:t,className:e,classNameArrow:s,variant:r="dark",anchorId:o,anchorSelect:u,place:d="top",offset:f=10,events:p=["hover"],openOnClick:m=!1,positionStrategy:v="absolute",middlewares:b,wrapper:A,delayShow:S=0,delayHide:w=0,float:M=!1,hidden:T=!1,noArrow:L=!1,clickable:O=!1,closeOnEsc:P=!1,closeOnScroll:F=!1,closeOnResize:I=!1,openEvents:G,closeEvents:K,globalCloseEvents:tt,imperativeModeOnly:it,style:st,position:ft,afterShow:pt,afterHide:rt,disableTooltip:ct,content:H,contentWrapperRef:q,isOpen:W,defaultIsOpen:yt=!1,setIsOpen:N,activeAnchor:$,setActiveAnchor:nt,border:et,opacity:ht,arrowColor:xt,arrowSize:ut=8,role:Tt="tooltip"})=>{var Dt;const Gt=k.useRef(null),Xt=k.useRef(null),Oe=k.useRef(null),rn=k.useRef(null),qt=k.useRef(null),[Wt,De]=k.useState({tooltipStyles:{},tooltipArrowStyles:{},place:d}),[$t,ke]=k.useState(!1),[Bn,Oi]=k.useState(!1),[ce,In]=k.useState(null),sa=k.useRef(!1),xs=k.useRef(null),{anchorRefs:aa,setActiveAnchor:or}=Px(t),Wn=k.useRef(!1),[ie,We]=k.useState([]),ve=k.useRef(!1),Di=m||p.includes("click"),ih=Di||(G==null?void 0:G.click)||(G==null?void 0:G.dblclick)||(G==null?void 0:G.mousedown),lr=G?{...G}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!G&&Di&&Object.assign(lr,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ki=K?{...K}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!K&&Di&&Object.assign(ki,{mouseleave:!1,blur:!1,mouseout:!1});const xn=tt?{...tt}:{escape:P||!1,scroll:F||!1,resize:I||!1,clickOutsideAnchor:ih||!1};it&&(Object.assign(lr,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ki,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(xn,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),VO(()=>(ve.current=!0,()=>{ve.current=!1}),[]);const ue=at=>{ve.current&&(at&&Oi(!0),setTimeout(()=>{ve.current&&(N==null||N(at),W===void 0&&ke(at))},10))};k.useEffect(()=>{if(W===void 0)return()=>null;W&&Oi(!0);const at=setTimeout(()=>{ke(W)},10);return()=>{clearTimeout(at)}},[W]),k.useEffect(()=>{if($t!==sa.current)if(Xi(qt),sa.current=$t,$t)pt==null||pt();else{const at=(mt=>{const _t=mt.match(/^([\d.]+)(ms|s)$/);if(!_t)return 0;const[,we,on]=_t;return Number(we)*(on==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));qt.current=setTimeout(()=>{Oi(!1),In(null),rt==null||rt()},at+25)}},[$t]);const ra=at=>{De(mt=>yb(mt,at)?mt:at)},is=(at=S)=>{Xi(Oe),Bn?ue(!0):Oe.current=setTimeout(()=>{ue(!0)},at)},cr=(at=w)=>{Xi(rn),rn.current=setTimeout(()=>{Wn.current||ue(!1)},at)},ur=at=>{var mt;if(!at)return;const _t=(mt=at.currentTarget)!==null&&mt!==void 0?mt:at.target;if(!(_t!=null&&_t.isConnected))return nt(null),void or({current:null});S?is():ue(!0),nt(_t),or({current:_t}),Xi(rn)},oa=()=>{O?cr(w||100):w?cr():ue(!1),Xi(Oe)},Ts=({x:at,y:mt})=>{var _t;const we={getBoundingClientRect:()=>({x:at,y:mt,width:0,height:0,top:mt,left:at,right:at,bottom:mt})};Ew({place:(_t=ce==null?void 0:ce.place)!==null&&_t!==void 0?_t:d,offset:f,elementReference:we,tooltipReference:Gt.current,tooltipArrowReference:Xt.current,strategy:v,middlewares:b,border:et,arrowSize:ut}).then(on=>{ra(on)})},Ni=at=>{if(!at)return;const mt=at,_t={x:mt.clientX,y:mt.clientY};Ts(_t),xs.current=_t},Ao=at=>{var mt;if(!$t)return;const _t=at.target;_t.isConnected&&(!((mt=Gt.current)===null||mt===void 0)&&mt.contains(_t)||[document.querySelector(`[id='${o}']`),...ie].some(we=>we==null?void 0:we.contains(_t))||(ue(!1),Xi(Oe)))},So=ww(ur,50),He=ww(oa,50),Tn=at=>{He.cancel(),So(at)},St=()=>{So.cancel(),He()},It=k.useCallback(()=>{var at,mt;const _t=(at=ce==null?void 0:ce.position)!==null&&at!==void 0?at:ft;_t?Ts(_t):M?xs.current&&Ts(xs.current):$!=null&&$.isConnected&&Ew({place:(mt=ce==null?void 0:ce.place)!==null&&mt!==void 0?mt:d,offset:f,elementReference:$,tooltipReference:Gt.current,tooltipArrowReference:Xt.current,strategy:v,middlewares:b,border:et,arrowSize:ut}).then(we=>{ve.current&&ra(we)})},[$t,$,H,st,d,ce==null?void 0:ce.place,f,v,ft,ce==null?void 0:ce.position,M,ut]);k.useEffect(()=>{var at,mt;const _t=new Set(aa);ie.forEach(Jt=>{ct!=null&&ct(Jt)||_t.add({current:Jt})});const we=document.querySelector(`[id='${o}']`);we&&!(ct!=null&&ct(we))&&_t.add({current:we});const on=()=>{ue(!1)},Pi=Tw($),ci=Tw(Gt.current);xn.scroll&&(window.addEventListener("scroll",on),Pi==null||Pi.addEventListener("scroll",on),ci==null||ci.addEventListener("scroll",on));let Be=null;xn.resize?window.addEventListener("resize",on):$&&Gt.current&&(Be=PO($,Gt.current,It,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Rn=Jt=>{Jt.key==="Escape"&&ue(!1)};xn.escape&&window.addEventListener("keydown",Rn),xn.clickOutsideAnchor&&window.addEventListener("click",Ao);const Zt=[],ui=Jt=>!!(Jt!=null&&Jt.target&&($!=null&&$.contains(Jt.target))),Eo=Jt=>{$t&&ui(Jt)||ur(Jt)},hr=Jt=>{$t&&ui(Jt)&&oa()},Ie=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],sh=["click","dblclick","mousedown","mouseup"];Object.entries(lr).forEach(([Jt,Fi])=>{Fi&&(Ie.includes(Jt)?Zt.push({event:Jt,listener:Tn}):sh.includes(Jt)&&Zt.push({event:Jt,listener:Eo}))}),Object.entries(ki).forEach(([Jt,Fi])=>{Fi&&(Ie.includes(Jt)?Zt.push({event:Jt,listener:St}):sh.includes(Jt)&&Zt.push({event:Jt,listener:hr}))}),M&&Zt.push({event:"pointermove",listener:Ni});const ah=()=>{Wn.current=!0},Cs=()=>{Wn.current=!1,oa()},la=O&&(ki.mouseout||ki.mouseleave);return la&&((at=Gt.current)===null||at===void 0||at.addEventListener("mouseover",ah),(mt=Gt.current)===null||mt===void 0||mt.addEventListener("mouseout",Cs)),Zt.forEach(({event:Jt,listener:Fi})=>{_t.forEach(ec=>{var _o;(_o=ec.current)===null||_o===void 0||_o.addEventListener(Jt,Fi)})}),()=>{var Jt,Fi;xn.scroll&&(window.removeEventListener("scroll",on),Pi==null||Pi.removeEventListener("scroll",on),ci==null||ci.removeEventListener("scroll",on)),xn.resize?window.removeEventListener("resize",on):Be==null||Be(),xn.clickOutsideAnchor&&window.removeEventListener("click",Ao),xn.escape&&window.removeEventListener("keydown",Rn),la&&((Jt=Gt.current)===null||Jt===void 0||Jt.removeEventListener("mouseover",ah),(Fi=Gt.current)===null||Fi===void 0||Fi.removeEventListener("mouseout",Cs)),Zt.forEach(({event:ec,listener:_o})=>{_t.forEach(nc=>{var dr;(dr=nc.current)===null||dr===void 0||dr.removeEventListener(ec,_o)})})}},[$,It,Bn,aa,ie,G,K,tt,Di,S,w]),k.useEffect(()=>{var at,mt;let _t=(mt=(at=ce==null?void 0:ce.anchorSelect)!==null&&at!==void 0?at:u)!==null&&mt!==void 0?mt:"";!_t&&t&&(_t=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const we=new MutationObserver(on=>{const Pi=[],ci=[];on.forEach(Be=>{if(Be.type==="attributes"&&Be.attributeName==="data-tooltip-id"&&(Be.target.getAttribute("data-tooltip-id")===t?Pi.push(Be.target):Be.oldValue===t&&ci.push(Be.target)),Be.type==="childList"){if($){const Rn=[...Be.removedNodes].filter(Zt=>Zt.nodeType===1);if(_t)try{ci.push(...Rn.filter(Zt=>Zt.matches(_t))),ci.push(...Rn.flatMap(Zt=>[...Zt.querySelectorAll(_t)]))}catch{}Rn.some(Zt=>{var ui;return!!(!((ui=Zt==null?void 0:Zt.contains)===null||ui===void 0)&&ui.call(Zt,$))&&(Oi(!1),ue(!1),nt(null),Xi(Oe),Xi(rn),!0)})}if(_t)try{const Rn=[...Be.addedNodes].filter(Zt=>Zt.nodeType===1);Pi.push(...Rn.filter(Zt=>Zt.matches(_t))),Pi.push(...Rn.flatMap(Zt=>[...Zt.querySelectorAll(_t)]))}catch{}}}),(Pi.length||ci.length)&&We(Be=>[...Be.filter(Rn=>!ci.includes(Rn)),...Pi])});return we.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{we.disconnect()}},[t,u,ce==null?void 0:ce.anchorSelect,$]),k.useEffect(()=>{It()},[It]),k.useEffect(()=>{if(!(q!=null&&q.current))return()=>null;const at=new ResizeObserver(()=>{setTimeout(()=>It())});return at.observe(q.current),()=>{at.disconnect()}},[H,q==null?void 0:q.current]),k.useEffect(()=>{var at;const mt=document.querySelector(`[id='${o}']`),_t=[...ie,mt];$&&_t.includes($)||nt((at=ie[0])!==null&&at!==void 0?at:mt)},[o,ie,$]),k.useEffect(()=>(yt&&ue(!0),()=>{Xi(Oe),Xi(rn)}),[]),k.useEffect(()=>{var at;let mt=(at=ce==null?void 0:ce.anchorSelect)!==null&&at!==void 0?at:u;if(!mt&&t&&(mt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),mt)try{const _t=Array.from(document.querySelectorAll(mt));We(_t)}catch{We([])}},[t,u,ce==null?void 0:ce.anchorSelect]),k.useEffect(()=>{Oe.current&&(Xi(Oe),is(S))},[S]);const jn=(Dt=ce==null?void 0:ce.content)!==null&&Dt!==void 0?Dt:H,Cn=$t&&Object.keys(Wt.tooltipStyles).length>0;return k.useImperativeHandle(l,()=>({open:at=>{if(at!=null&&at.anchorSelect)try{document.querySelector(at.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${at.anchorSelect}" is not a valid CSS selector`)}In(at??null),at!=null&&at.delay?is(at.delay):ue(!0)},close:at=>{at!=null&&at.delay?cr(at.delay):ue(!1)},activeAnchor:$,place:Wt.place,isOpen:!!(Bn&&!T&&jn&&Cn)})),Bn&&!T&&jn?oi.createElement(A,{id:t,role:Tt,className:mb("react-tooltip",zc.tooltip,nb.tooltip,nb[r],e,`react-tooltip__place-${Wt.place}`,zc[Cn?"show":"closing"],Cn?"react-tooltip__show":"react-tooltip__closing",v==="fixed"&&zc.fixed,O&&zc.clickable),onTransitionEnd:at=>{Xi(qt),$t||at.propertyName!=="opacity"||(Oi(!1),In(null),rt==null||rt())},style:{...st,...Wt.tooltipStyles,opacity:ht!==void 0&&Cn?ht:void 0},ref:Gt},jn,oi.createElement(A,{className:mb("react-tooltip-arrow",zc.arrow,nb.arrow,s,L&&zc.noArrow),style:{...Wt.tooltipArrowStyles,background:xt?`linear-gradient(to right bottom, transparent 50%, ${xt} 50%)`:void 0,"--rt-arrow-size":`${ut}px`},ref:Xt})):null},WO=({content:l})=>oi.createElement("span",{dangerouslySetInnerHTML:{__html:l}}),ib=oi.forwardRef(({id:l,anchorId:t,anchorSelect:e,content:s,html:r,render:o,className:u,classNameArrow:d,variant:f="dark",place:p="top",offset:m=10,wrapper:v="div",children:b=null,events:A=["hover"],openOnClick:S=!1,positionStrategy:w="absolute",middlewares:M,delayShow:T=0,delayHide:L=0,float:O=!1,hidden:P=!1,noArrow:F=!1,clickable:I=!1,closeOnEsc:G=!1,closeOnScroll:K=!1,closeOnResize:tt=!1,openEvents:it,closeEvents:st,globalCloseEvents:ft,imperativeModeOnly:pt=!1,style:rt,position:ct,isOpen:H,defaultIsOpen:q=!1,disableStyleInjection:W=!1,border:yt,opacity:N,arrowColor:$,arrowSize:nt,setIsOpen:et,afterShow:ht,afterHide:xt,disableTooltip:ut,role:Tt="tooltip"},Dt)=>{const[Gt,Xt]=k.useState(s),[Oe,rn]=k.useState(r),[qt,Wt]=k.useState(p),[De,$t]=k.useState(f),[ke,Bn]=k.useState(m),[Oi,ce]=k.useState(T),[In,sa]=k.useState(L),[xs,aa]=k.useState(O),[or,Wn]=k.useState(P),[ie,We]=k.useState(v),[ve,Di]=k.useState(A),[ih,lr]=k.useState(w),[ki,xn]=k.useState(null),[ue,ra]=k.useState(null),is=k.useRef(W),{anchorRefs:cr,activeAnchor:ur}=Px(l),oa=He=>He==null?void 0:He.getAttributeNames().reduce((Tn,St)=>{var It;return St.startsWith("data-tooltip-")&&(Tn[St.replace(/^data-tooltip-/,"")]=(It=He==null?void 0:He.getAttribute(St))!==null&&It!==void 0?It:null),Tn},{}),Ts=He=>{const Tn={place:St=>{var It;Wt((It=St)!==null&&It!==void 0?It:p)},content:St=>{Xt(St??s)},html:St=>{rn(St??r)},variant:St=>{var It;$t((It=St)!==null&&It!==void 0?It:f)},offset:St=>{Bn(St===null?m:Number(St))},wrapper:St=>{var It;We((It=St)!==null&&It!==void 0?It:v)},events:St=>{const It=St==null?void 0:St.split(" ");Di(It??A)},"position-strategy":St=>{var It;lr((It=St)!==null&&It!==void 0?It:w)},"delay-show":St=>{ce(St===null?T:Number(St))},"delay-hide":St=>{sa(St===null?L:Number(St))},float:St=>{aa(St===null?O:St==="true")},hidden:St=>{Wn(St===null?P:St==="true")},"class-name":St=>{xn(St)}};Object.values(Tn).forEach(St=>St(null)),Object.entries(He).forEach(([St,It])=>{var jn;(jn=Tn[St])===null||jn===void 0||jn.call(Tn,It)})};k.useEffect(()=>{Xt(s)},[s]),k.useEffect(()=>{rn(r)},[r]),k.useEffect(()=>{Wt(p)},[p]),k.useEffect(()=>{$t(f)},[f]),k.useEffect(()=>{Bn(m)},[m]),k.useEffect(()=>{ce(T)},[T]),k.useEffect(()=>{sa(L)},[L]),k.useEffect(()=>{aa(O)},[O]),k.useEffect(()=>{Wn(P)},[P]),k.useEffect(()=>{lr(w)},[w]),k.useEffect(()=>{is.current!==W&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[W]),k.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:W==="core",disableBase:W}}))},[]),k.useEffect(()=>{var He;const Tn=new Set(cr);let St=e;if(!St&&l&&(St=`[data-tooltip-id='${l.replace(/'/g,"\\'")}']`),St)try{document.querySelectorAll(St).forEach(mt=>{Tn.add({current:mt})})}catch{console.warn(`[react-tooltip] "${St}" is not a valid CSS selector`)}const It=document.querySelector(`[id='${t}']`);if(It&&Tn.add({current:It}),!Tn.size)return()=>null;const jn=(He=ue??It)!==null&&He!==void 0?He:ur.current,Cn=new MutationObserver(mt=>{mt.forEach(_t=>{var we;if(!jn||_t.type!=="attributes"||!(!((we=_t.attributeName)===null||we===void 0)&&we.startsWith("data-tooltip-")))return;const on=oa(jn);Ts(on)})}),at={attributes:!0,childList:!1,subtree:!1};if(jn){const mt=oa(jn);Ts(mt),Cn.observe(jn,at)}return()=>{Cn.disconnect()}},[cr,ur,ue,t,e]),k.useEffect(()=>{rt!=null&&rt.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),yt&&!_w("border",`${yt}`)&&console.warn(`[react-tooltip] "${yt}" is not a valid \`border\`.`),rt!=null&&rt.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),N&&!_w("opacity",`${N}`)&&console.warn(`[react-tooltip] "${N}" is not a valid \`opacity\`.`)},[]);let Ni=b;const Ao=k.useRef(null);if(o){const He=o({content:(ue==null?void 0:ue.getAttribute("data-tooltip-content"))||Gt||null,activeAnchor:ue});Ni=He?oi.createElement("div",{ref:Ao,className:"react-tooltip-content-wrapper"},He):null}else Gt&&(Ni=Gt);Oe&&(Ni=oi.createElement(WO,{content:Oe}));const So={forwardRef:Dt,id:l,anchorId:t,anchorSelect:e,className:mb(u,ki),classNameArrow:d,content:Ni,contentWrapperRef:Ao,place:qt,variant:De,offset:ke,wrapper:ie,events:ve,openOnClick:S,positionStrategy:ih,middlewares:M,delayShow:Oi,delayHide:In,float:xs,hidden:or,noArrow:F,clickable:I,closeOnEsc:G,closeOnScroll:K,closeOnResize:tt,openEvents:it,closeEvents:st,globalCloseEvents:ft,imperativeModeOnly:pt,style:rt,position:ct,isOpen:H,defaultIsOpen:q,border:yt,opacity:N,arrowColor:$,arrowSize:nt,setIsOpen:et,afterShow:ht,afterHide:xt,disableTooltip:ut,activeAnchor:ue,setActiveAnchor:He=>ra(He),role:Tt};return oi.createElement(KO,{...So})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",l=>{l.detail.disableCore||Sw({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),l.detail.disableBase||Sw({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function QO(){const l=Em(),t=vo(),[e,s]=k.useState(!1);var r=e?250:60;const o=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);r=o?r*.8:r;const u=()=>s(!e),d={marginBottom:"10px",display:"flex",background:"none",border:"none",color:"#ccc",cursor:"pointer",fontSize:"18px",justifyContent:"center",transition:"width 0.3s",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center",paddingBottom:"5px",paddingTop:"5px",boxSizing:"border-box",width:"90%",textOverflow:"ellipsis"},f={zIndex:2e3,backgroundColor:"#333",color:"#fff",borderRadius:"6px",padding:"6px 10px",fontSize:"14px",fontWeight:"bold"},p={display:"flex",justifyContent:"center"};return Y.jsxs("div",{style:{display:"flex"},children:[Y.jsx("div",{style:{width:r,height:"100%",background:"#382240",color:"#fff",transition:"width 0.3s ease",overflow:"hidden",padding:"10px",position:"fixed",boxSizing:"border-box",zIndex:1e3,display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:Y.jsxs("ul",{style:{listStyleType:"none",margin:0,paddingLeft:0,paddingRight:0,boxSizing:"border-box",width:"100%",transition:"width 0.3s ease"},children:[Y.jsx("li",{style:{...p},children:Y.jsx("button",{onClick:u,style:{...d,marginBottom:"40px"},children:Y.jsx("span",{children:e?"←":"→"})})}),Y.jsxs("li",{style:{...p},children:[Y.jsx("button",{"data-tooltip-id":"home-tooltip","data-tooltip-content":"Home",onClick:()=>{l("/"),e&&u()},style:{...d,fontWeight:t.pathname==="/"?"bold":"normal"},children:Y.jsx("span",{children:e?"Home":Y.jsx(iO,{})})}),!e&&!o&&Y.jsx(ib,{id:"home-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]}),Y.jsxs("li",{style:{...p},children:[Y.jsx("button",{"data-tooltip-id":"resume-tooltip","data-tooltip-content":"Resume/CV",onClick:()=>{l("/resume"),e&&u()},style:{...d,fontWeight:t.pathname==="/resume"?"bold":"normal"},children:Y.jsx("span",{children:e?"Resume/CV":Y.jsx(sO,{})})}),!e&&!o&&Y.jsx(ib,{id:"resume-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]}),Y.jsx("li",{style:{...p},children:Y.jsx("hr",{style:{borderTop:"1px solid white",opacity:"70%",width:"90%",transition:"width 0.3s ease",marginTop:"10px",marginBottom:"20px"}})}),Y.jsxs("li",{style:{...p},children:[Y.jsx("button",{"data-tooltip-id":"2048-tooltip","data-tooltip-content":"2048 Agent",onClick:()=>{l("/2048_agent"),e&&u()},style:{...d,fontWeight:t.pathname==="/2048_agent"?"bold":"normal"},children:Y.jsx("span",{children:e?"2048 Agent":Y.jsx(nO,{})})}),!e&&!o&&Y.jsx(ib,{id:"2048-tooltip",place:"right",offset:10,delayShow:20,positionStrategy:"fixed",style:{...f}})]})]})}),Y.jsx("div",{style:{padding:"20px",marginLeft:e?r/1.2:0,transition:"margin-left 0.3s",display:"flex",flexGrow:1,justifyContent:"center",height:"100vh",boxSizing:"border-box",scrollPaddingBottom:"20px"}})]})}function ZO(){return Y.jsxs("div",{style:{display:"flex"},children:[Y.jsx(QO,{}),Y.jsx("div",{style:{flexGrow:1,paddingTop:"20px"},children:Y.jsx(fL,{})})]})}function JO({targetDateString:l}){const[t,e]=k.useState(null);return k.useEffect(()=>{const s=new Date,o=new Date(l).getTime()-s.getTime(),u=Math.ceil(o/(1e3*60*60*24));e(u)},[l]),Y.jsx("div",{style:{display:"flex",justifyContent:"center",margin:0},children:t>0?Y.jsxs("p",{style:{fontWeight:"bold",margin:2},children:[t," day",t!==1?"s":""," until graduation!"]}):Y.jsx("p",{style:{fontWeight:"bold"},children:"I have officially graduated!"})})}function tD(){return Y.jsxs("div",{style:{marginTop:"20px",padding:"20px"},children:[Y.jsx("div",{style:{display:"flex",justifyContent:"center"},children:Y.jsx("a",{href:"https://www.linkedin.com/in/justin-everett-6b629a253/",target:"_blank",children:Y.jsx("img",{src:"/PersonalWebpage/WebsitePlaceHolder.jpg",alt:"LinkedIn",style:{width:"200px",maxWidth:"100%",borderRadius:"10%"}})})}),Y.jsx("h1",{style:{textAlign:"center"},children:"Justin Everett"}),Y.jsxs("div",{className:"aboutMe",children:[Y.jsx("h2",{children:"Versatile Programmer, Dedicated Learner"}),Y.jsxs("div",{style:{width:"80%",display:"flex",flexWrap:"wrap",justifyContent:"center",textAlign:"center"},children:[Y.jsx("span",{children:"American living in London with right to work in the UK. I love learning new things, especially around technology and personal development. Recently completed my BSc in Computer Science at Royal Holloway, graduating this July."}),Y.jsx("hr",{}),Y.jsx("span",{children:"I consider myself an adept and versatile programmer, eager to learn from others and share my knowledge. Growing up in an international school, I developed a deep respect for people from various cultural backgrounds. As a non-native resident, I appreciate the richness that diverse perspectives bring to both personal and professional settings."}),Y.jsx("hr",{}),Y.jsx("span",{children:"Outside of work, I am passionate about music and will often ask for recommendations on the best album of all time. I am active in team sports, participating in the Royal Holloway Ultimate Frisbee community. I also value the time spent with loved ones, as moving across the world has underscored the importance of family and close relationships."})]})]}),Y.jsxs("div",{className:"card",style:{flexWrap:"wrap"},children:[Y.jsx("div",{style:{width:"100%"},children:Y.jsx(JO,{targetDateString:"2025-07-31"})}),Y.jsx("p",{style:{textAlign:"center",margin:2,width:"100%"},children:Y.jsx("code",{children:"Use the sidebar to the left to navigate"})}),Y.jsxs("p",{className:"read-the-docs",style:{textAlign:"center",margin:5,width:"100%"},children:["Click on the image of me to visit my"," ",Y.jsx("span",{children:Y.jsx("a",{href:"https://www.linkedin.com/in/justin-everett-6b629a253/",children:"LinkedIn"})})," ","profile!"]})]})]})}const eD="modulepreload",nD=function(l){return"/PersonalWebpage/"+l},Cw={},cg=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let u=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=u(e.map(p=>{if(p=nD(p),p in Cw)return;Cw[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":eD,m||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((A,S)=>{b.addEventListener("load",A),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Sd={};Sd.d=(l,t)=>{for(var e in t)Sd.o(t,e)&&!Sd.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})};Sd.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t);var Lt=globalThis.pdfjsLib={};Sd.d(Lt,{AbortException:()=>Jl,AnnotationEditorLayer:()=>M0,AnnotationEditorParamsType:()=>Mt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>Yl,AnnotationLayer:()=>tk,AnnotationMode:()=>zr,ColorPicker:()=>nm,DOMSVGFactory:()=>cA,DrawLayer:()=>k0,FeatureTest:()=>Yn,GlobalWorkerOptions:()=>Ja,ImageKind:()=>yg,InvalidPDFException:()=>zx,MissingPDFException:()=>Zl,OPS:()=>ls,OutputScale:()=>Eb,PDFDataRangeTransport:()=>k1,PDFDateString:()=>nA,PDFWorker:()=>Wc,PasswordResponses:()=>rD,PermissionFlag:()=>aD,PixelsPerInch:()=>po,RenderingCancelledException:()=>tA,TextLayer:()=>Wb,UnexpectedResponseException:()=>Lm,Util:()=>vt,VerbosityLevel:()=>Cm,XfaLayer:()=>P1,build:()=>N2,createValidAbsoluteUrl:()=>uD,fetchData:()=>Dm,getDocument:()=>x2,getFilenameFromUrl:()=>bD,getPdfFilenameFromUrl:()=>AD,getXfaPageViewport:()=>SD,isDataScheme:()=>km,isPdfFile:()=>eA,noContextMenu:()=>ns,normalizeUnicode:()=>mD,setLayerDimensions:()=>Xl,shadow:()=>Yt,version:()=>k2});const Hn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Fx=[1,0,0,1,0,0],vb=[.001,0,0,.001,0,0],iD=1e7,sb=1.35,Ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sD="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},aD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},On={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},yg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},nd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Cm={ERRORS:0,WARNINGS:1,INFOS:5},ls={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},rD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rm=Cm.WARNINGS;function oD(l){Number.isInteger(l)&&(Rm=l)}function lD(){return Rm}function Mm(l){Rm>=Cm.INFOS&&console.log(`Info: ${l}`)}function zt(l){Rm>=Cm.WARNINGS&&console.log(`Warning: ${l}`)}function Se(l){throw new Error(l)}function sn(l,t){l||Se(t)}function cD(l){switch(l==null?void 0:l.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uD(l,t=null,e=null){if(!l)return null;try{if(e&&typeof l=="string"){if(e.addDefaultProtocol&&l.startsWith("www.")){const r=l.match(/\./g);(r==null?void 0:r.length)>=2&&(l=`http://${l}`)}if(e.tryConvertEncoding)try{l=gD(l)}catch{}}const s=t?new URL(l,t):new URL(l);if(cD(s))return s}catch{}return null}function Yt(l,t,e,s=!1){return Object.defineProperty(l,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const bo=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class bb extends bo{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ab extends bo{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class zx extends bo{constructor(t){super(t,"InvalidPDFException")}}class Zl extends bo{constructor(t){super(t,"MissingPDFException")}}class Lm extends bo{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class hD extends bo{constructor(t){super(t,"FormatError")}}class Jl extends bo{constructor(t){super(t,"AbortException")}}function Hx(l){(typeof l!="object"||(l==null?void 0:l.length)===void 0)&&Se("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),u=l.subarray(r,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function Om(l){typeof l!="string"&&Se("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=l.charCodeAt(s)&255;return e}function dD(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function Z0(l){const t=Object.create(null);for(const[e,s]of l)t[e]=s;return t}function fD(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function pD(){try{return new Function(""),!0}catch{return!1}}class Yn{static get isLittleEndian(){return Yt(this,"isLittleEndian",fD())}static get isEvalSupported(){return Yt(this,"isEvalSupported",pD())}static get isOffscreenCanvasSupported(){return Yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Yt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ab=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));var nr,vg,Sb;class vt{static makeHexColor(t,e,s){return`#${ab[t]}${ab[e]}${ab[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],u[0]),Math.min(s[1],r[1],o[1],u[1]),Math.max(s[0],r[0],o[0],u[0]),Math.max(s[1],r[1],o[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-o*r))/2,p=d+f||1,m=d-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[s,o,r,u]}static bezierBoundingBox(t,e,s,r,o,u,d,f,p){return p?(p[0]=Math.min(p[0],t,d),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,d),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],x(this,nr,Sb).call(this,t,s,o,d,e,r,u,f,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),p),x(this,nr,Sb).call(this,t,s,o,d,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),p),p}}nr=new WeakSet,vg=function(t,e,s,r,o,u,d,f,p,m){if(p<=0||p>=1)return;const v=1-p,b=p*p,A=b*p,S=v*(v*(v*t+3*p*e)+3*b*s)+A*r,w=v*(v*(v*o+3*p*u)+3*b*d)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],w)},Sb=function(t,e,s,r,o,u,d,f,p,m,v,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&x(this,nr,vg).call(this,t,e,s,r,o,u,d,f,-v/m,b);return}const A=m**2-4*v*p;if(A<0)return;const S=Math.sqrt(A),w=2*p;x(this,nr,vg).call(this,t,e,s,r,o,u,d,f,(-m+S)/w,b),x(this,nr,vg).call(this,t,e,s,r,o,u,d,f,(-m-S)/w,b)},R(vt,nr);function gD(l){return decodeURIComponent(escape(l))}let rb=null,Rw=null;function mD(l){return rb||(rb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Rw=new Map([["ﬅ","ſt"]])),l.replaceAll(rb,(t,e,s)=>e?e.normalize("NFKC"):Rw.get(s))}function yD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const l=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(l);else for(let t=0;t<32;t++)l[t]=Math.floor(Math.random()*255);return Hx(l)}const J0="pdfjs_internal_id_",wa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function vD(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(Hx(l))}const Ta="http://www.w3.org/2000/svg",Vo=class Vo{};Rt(Vo,"CSS",96),Rt(Vo,"PDF",72),Rt(Vo,"PDF_TO_CSS_UNITS",Vo.CSS/Vo.PDF);let po=Vo;async function Dm(l,t="text"){if(ad(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",l,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Kf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let A,S,w,M;p===0?(A=Math.abs(f-t[1])*e+r,S=Math.abs(d-t[0])*e+o,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,S=Math.abs(f-t[1])*e+o,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[p*e,m*e,v*e,b*e,A-p*e*d-v*e*f,S-m*e*d-b*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return Yt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Kf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return vt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=vt.applyTransform([t[0],t[1]],this.transform),s=vt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return vt.applyInverseTransform([t,e],this.transform)}}class tA extends bo{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function km(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function eA(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function bD(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function AD(l,t="document.pdf"){if(typeof l!="string")return t;if(km(l))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(l);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class Mw{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(t){t in this.started&&zt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||zt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function ad(l,t){try{const{protocol:e}=t?new URL(l,t):new URL(l);return e==="http:"||e==="https:"}catch{return!1}}function ns(l){l.preventDefault()}function Lw(l){console.log("Deprecated API usage: "+l)}var Cd;class nA{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Cd)||_(this,Cd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Cd).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(u+=m,d+=v):p==="+"&&(u-=m,d-=v),new Date(Date.UTC(s,r,o,u,d,f))}}Cd=new WeakMap,R(nA,Cd);function SD(l,{scale:t=1,rotation:e=0}){const{width:s,height:r}=l.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Kf({viewBox:o,scale:t,rotation:e})}function iA(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(zt(`Not a valid color format: "${l}"`),[0,0,0])}function ED(l){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of l.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;l.set(e,iA(s))}t.remove()}function Me(l){const{a:t,b:e,c:s,d:r,e:o,f:u}=l.getTransform();return[t,e,s,r,o,u]}function xa(l){const{a:t,b:e,c:s,d:r,e:o,f:u}=l.getTransform().invertSelf();return[t,e,s,r,o,u]}function Xl(l,t,e=!1,s=!0){if(t instanceof Kf){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:u}=l,d=Yn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=d?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=m,u.height=v):(u.width=v,u.height=m)}s&&l.setAttribute("data-main-rotation",t.rotation)}class Eb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Hr,Yo,cs,$o,Rd,Md,sm,Bx,$n,Ix,jx,bg,Ux,wb;const Ca=class Ca{constructor(t){R(this,$n);R(this,Hr,null);R(this,Yo,null);R(this,cs);R(this,$o,null);R(this,Rd,null);_(this,cs,t),h(Ca,Md)||_(Ca,Md,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,Hr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,cs)._uiManager._signal;t.addEventListener("contextmenu",ns,{signal:e}),t.addEventListener("pointerdown",x(Ca,sm,Bx),{signal:e});const s=_(this,$o,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,cs).toolbarPosition;if(r){const{style:o}=t,u=h(this,cs)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,$n,Ux).call(this),t}get div(){return h(this,Hr)}hide(){var t;h(this,Hr).classList.add("hidden"),(t=h(this,Yo))==null||t.hideDropdown()}show(){var t;h(this,Hr).classList.remove("hidden"),(t=h(this,Rd))==null||t.shown()}async addAltText(t){const e=await t.render();x(this,$n,bg).call(this,e),h(this,$o).prepend(e,h(this,$n,wb)),_(this,Rd,t)}addColorPicker(t){_(this,Yo,t);const e=t.renderButton();x(this,$n,bg).call(this,e),h(this,$o).prepend(e,h(this,$n,wb))}remove(){var t;h(this,Hr).remove(),(t=h(this,Yo))==null||t.destroy(),_(this,Yo,null)}};Hr=new WeakMap,Yo=new WeakMap,cs=new WeakMap,$o=new WeakMap,Rd=new WeakMap,Md=new WeakMap,sm=new WeakSet,Bx=function(t){t.stopPropagation()},$n=new WeakSet,Ix=function(t){h(this,cs)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},jx=function(t){h(this,cs)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},bg=function(t){const e=h(this,cs)._uiManager._signal;t.addEventListener("focusin",x(this,$n,Ix).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",x(this,$n,jx).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ns,{signal:e})},Ux=function(){const{editorType:t,_uiManager:e}=h(this,cs),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ca,Md)[t]),x(this,$n,bg).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,$o).append(s)},wb=function(){const t=document.createElement("div");return t.className="divider",t},R(Ca,sm),R(Ca,Md,null);let _b=Ca;var Ld,Ko,Wo,mo,Gx,qx,Vx;class _D{constructor(t){R(this,mo);R(this,Ld,null);R(this,Ko,null);R(this,Wo);_(this,Wo,t)}show(t,e,s){const[r,o]=x(this,mo,qx).call(this,e,s),{style:u}=h(this,Ko)||_(this,Ko,x(this,mo,Gx).call(this));t.append(h(this,Ko)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ko).remove()}}Ld=new WeakMap,Ko=new WeakMap,Wo=new WeakMap,mo=new WeakSet,Gx=function(){const t=_(this,Ko,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ns,{signal:h(this,Wo)._signal});const e=_(this,Ld,document.createElement("div"));return e.className="buttons",t.append(e),x(this,mo,Vx).call(this),t},qx=function(t,e){let s=0,r=0;for(const o of t){const u=o.y+o.height;if(u<s)continue;const d=o.x+(e?o.width:0);if(u>s){r=d,s=u;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Vx=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,Wo)._signal;t.addEventListener("contextmenu",ns,{signal:s}),t.addEventListener("click",()=>{h(this,Wo).highlightSelection("floating_button")},{signal:s}),h(this,Ld).append(t)};function Jg(l,t,e){for(const s of e)t.addEventListener(s,l[s].bind(l))}function wD(l){return Math.round(Math.min(255,Math.max(1,255*l))).toString(16).padStart(2,"0")}var am;class xD{constructor(){R(this,am,0)}get id(){return`${sD}${Gn(this,am)._++}`}}am=new WeakMap;var Jc,Od,kn,tu,Ag;const dA=class dA{constructor(){R(this,tu);R(this,Jc,yD());R(this,Od,0);R(this,kn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Yt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return x(this,tu,Ag).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return x(this,tu,Ag).call(this,t,t)}async getFromBlob(t,e){const s=await e;return x(this,tu,Ag).call(this,t,s)}async getFromId(t){h(this,kn)||_(this,kn,new Map);const e=h(this,kn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,kn)||_(this,kn,new Map);let s=h(this,kn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,Jc)}_${Gn(this,Od)._++}`,refCounter:1,isSvg:!1},h(this,kn).set(t,s),h(this,kn).set(s.id,s),s}getSvgUrl(t){const e=h(this,kn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,kn)||_(this,kn,new Map);const e=h(this,kn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,Jc)}_`)}};Jc=new WeakMap,Od=new WeakMap,kn=new WeakMap,tu=new WeakSet,Ag=async function(t,e){h(this,kn)||_(this,kn,new Map);let s=h(this,kn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,Jc)}_${Gn(this,Od)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Dm(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=dA._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((p,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,p()},u.onload=async()=>{const v=s.svgUrl=u.result;d.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=u.onerror=m});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,kn).set(t,s),s&&h(this,kn).set(s.id,s),s};let xb=dA;var dn,Br,Dd,fn;class TD{constructor(t=128){R(this,dn,[]);R(this,Br,!1);R(this,Dd);R(this,fn,-1);_(this,Dd,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&t(),h(this,Br))return;const f={cmd:t,undo:e,post:s,type:o};if(h(this,fn)===-1){h(this,dn).length>0&&(h(this,dn).length=0),_(this,fn,0),h(this,dn).push(f);return}if(u&&h(this,dn)[h(this,fn)].type===o){d&&(f.undo=h(this,dn)[h(this,fn)].undo),h(this,dn)[h(this,fn)]=f;return}const p=h(this,fn)+1;p===h(this,Dd)?h(this,dn).splice(0,1):(_(this,fn,p),p<h(this,dn).length&&h(this,dn).splice(p)),h(this,dn).push(f)}undo(){if(h(this,fn)===-1)return;_(this,Br,!0);const{undo:t,post:e}=h(this,dn)[h(this,fn)];t(),e==null||e(),_(this,Br,!1),_(this,fn,h(this,fn)-1)}redo(){if(h(this,fn)<h(this,dn).length-1){_(this,fn,h(this,fn)+1),_(this,Br,!0);const{cmd:t,post:e}=h(this,dn)[h(this,fn)];t(),e==null||e(),_(this,Br,!1)}}hasSomethingToUndo(){return h(this,fn)!==-1}hasSomethingToRedo(){return h(this,fn)<h(this,dn).length-1}destroy(){_(this,dn,null)}}dn=new WeakMap,Br=new WeakMap,Dd=new WeakMap,fn=new WeakMap;var rm,Xx;class Wf{constructor(t){R(this,rm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Yn.platform;for(const[s,r,o={}]of t)for(const u of s){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(x(this,rm,Xx).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:u=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...u,e)(),o||(e.stopPropagation(),e.preventDefault()))}}rm=new WeakSet,Xx=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const om=class om{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return ED(t),Yt(this,"_colors",t)}convert(t){const e=iA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,u)=>o===e[u]))return om._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?vt.makeHexColor(...e):t}};Rt(om,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Tb=om;var eu,bi,tn,Sn,nu,Ma,iu,us,Ir,su,Qo,Ns,hs,Zo,kd,Nd,au,Pd,Ps,jr,ru,Ur,Fs,lm,Gr,Fd,qr,Jo,zd,Hd,pn,re,La,tl,Bd,Id,Vr,zs,Oa,jd,$i,lt,Sg,Cb,Yx,$x,Eg,Kx,Wx,Qx,Rb,Zx,Mb,Lb,Jx,qn,Pr,t1,e1,Ob,n1,rd,Db;const Yc=class Yc{constructor(t,e,s,r,o,u,d,f,p,m,v){R(this,lt);R(this,eu,new AbortController);R(this,bi,null);R(this,tn,new Map);R(this,Sn,new Map);R(this,nu,null);R(this,Ma,null);R(this,iu,null);R(this,us,new TD);R(this,Ir,null);R(this,su,0);R(this,Qo,new Set);R(this,Ns,null);R(this,hs,null);R(this,Zo,new Set);R(this,kd,!1);R(this,Nd,!1);R(this,au,!1);R(this,Pd,null);R(this,Ps,null);R(this,jr,null);R(this,ru,null);R(this,Ur,!1);R(this,Fs,null);R(this,lm,new xD);R(this,Gr,!1);R(this,Fd,!1);R(this,qr,null);R(this,Jo,null);R(this,zd,null);R(this,Hd,null);R(this,pn,Nt.NONE);R(this,re,new Set);R(this,La,null);R(this,tl,null);R(this,Bd,null);R(this,Id,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,Vr,[0,0]);R(this,zs,null);R(this,Oa,null);R(this,jd,null);R(this,$i,null);const b=this._signal=h(this,eu).signal;_(this,Oa,t),_(this,jd,e),_(this,nu,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),x(this,lt,Kx).call(this),x(this,lt,Jx).call(this),x(this,lt,Rb).call(this),_(this,Ma,o.annotationStorage),_(this,Pd,o.filterFactory),_(this,tl,u),_(this,ru,d||null),_(this,kd,f),_(this,Nd,p),_(this,au,m),_(this,Hd,v||null),this.viewParameters={realScale:po.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Yc.prototype,e=u=>h(u,Oa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Wf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Oa).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Oa).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,$i))==null||t.resolve(),_(this,$i,null),(e=h(this,eu))==null||e.abort(),_(this,eu,null),this._signal=null;for(const o of h(this,Sn).values())o.destroy();h(this,Sn).clear(),h(this,tn).clear(),h(this,Zo).clear(),_(this,bi,null),h(this,re).clear(),h(this,us).destroy(),(s=h(this,nu))==null||s.destroy(),(r=h(this,Fs))==null||r.hide(),_(this,Fs,null),h(this,Ps)&&(clearTimeout(h(this,Ps)),_(this,Ps,null)),h(this,zs)&&(clearTimeout(h(this,zs)),_(this,zs,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Hd)}get useNewAltTextFlow(){return h(this,Nd)}get useNewAltTextWhenAddingImage(){return h(this,au)}get hcmFilter(){return Yt(this,"hcmFilter",h(this,tl)?h(this,Pd).addHCMFilter(h(this,tl).foreground,h(this,tl).background):"none")}get direction(){return Yt(this,"direction",getComputedStyle(h(this,Oa)).direction)}get highlightColors(){return Yt(this,"highlightColors",h(this,ru)?new Map(h(this,ru).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Yt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,zd,t)}editAltText(t,e=!1){var s;(s=h(this,nu))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,au,e);break}}onPageChanging({pageNumber:t}){_(this,su,t-1)}focusMainContainer(){h(this,Oa).focus()}findParent(t,e){for(const s of h(this,Sn).values()){const{x:r,y:o,width:u,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){h(this,jd).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Zo).add(t)}removeShouldRescale(t){h(this,Zo).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*po.PDF_TO_CSS_UNITS;for(const e of h(this,Zo))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u}=e,d=e.toString(),p=x(this,lt,Sg).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const v=x(this,lt,Cb).call(this,p),b=h(this,pn)===Nt.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u,text:d}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Nt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ma)&&!h(this,Ma).has(t.id)&&h(this,Ma).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Ur)&&(_(this,Ur,!1),x(this,lt,Eg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,re))if(e.div.contains(t)){_(this,Jo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,Jo))return;const[t,e]=h(this,Jo);_(this,Jo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){x(this,lt,Rb).call(this),x(this,lt,Mb).call(this)}removeEditListeners(){x(this,lt,Zx).call(this),x(this,lt,Lb).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,hs))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,hs))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,bi))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,re)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of h(this,hs))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){zt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of s){const p=await r.deserialize(f);if(!p)return;o.push(p)}const u=()=>{for(const f of o)x(this,lt,Ob).call(this,f);x(this,lt,Db).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){zt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,pn)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Yc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Ur)&&(_(this,Ur,!1),x(this,lt,Eg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(x(this,lt,Wx).call(this),x(this,lt,Mb).call(this),x(this,lt,qn).call(this,{isEditing:h(this,pn)!==Nt.NONE,isEmpty:x(this,lt,rd).call(this),hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:h(this,us).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,lt,Qx).call(this),x(this,lt,Lb).call(this),x(this,lt,qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,hs)){_(this,hs,t);for(const e of h(this,hs))x(this,lt,Pr).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,lm).id}get currentLayer(){return h(this,Sn).get(h(this,su))}getLayer(t){return h(this,Sn).get(t)}get currentPageIndex(){return h(this,su)}addLayer(t){h(this,Sn).set(t.pageIndex,t),h(this,Gr)?t.enable():t.disable()}removeLayer(t){h(this,Sn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,pn)!==t&&!(h(this,$i)&&(await h(this,$i).promise,!h(this,$i)))){if(_(this,$i,Promise.withResolvers()),_(this,pn,t),t===Nt.NONE){this.setEditingState(!1),x(this,lt,e1).call(this),h(this,$i).resolve();return}this.setEditingState(!0),await x(this,lt,t1).call(this),this.unselectAll();for(const r of h(this,Sn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,$i).resolve();return}for(const r of h(this,tn).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,$i).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,hs)){switch(t){case Mt.CREATE:this.currentLayer.addNewEditor();return;case Mt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,zd))==null||s.updateColor(e);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Bd)||_(this,Bd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,re))r.updateParams(t,e);for(const r of h(this,hs))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const u of h(this,tn).values())u.editorType===t&&u.show(e);(((o=h(this,Bd))==null?void 0:o.get(Mt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&x(this,lt,Pr).call(this,[[Mt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Fd)!==t){_(this,Fd,t);for(const e of h(this,Sn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,tn).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,tn).get(t)}addEditor(t){h(this,tn).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,Ps)&&clearTimeout(h(this,Ps)),_(this,Ps,setTimeout(()=>{this.focusMainContainer(),_(this,Ps,null)},0))),h(this,tn).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Qo).has(t.annotationElementId))&&((e=h(this,Ma))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Qo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Qo).has(t)}removeDeletedAnnotationElement(t){h(this,Qo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,bi)!==t&&(_(this,bi,t),t&&x(this,lt,Pr).call(this,t.propertiesToUpdate))}updateUI(t){h(this,lt,n1)===t&&x(this,lt,Pr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,re).has(t)){h(this,re).delete(t),t.unselect(),x(this,lt,qn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,re).add(t),t.select(),x(this,lt,Pr).call(this,t.propertiesToUpdate),x(this,lt,qn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,re))e!==t&&e.unselect();h(this,re).clear(),h(this,re).add(t),t.select(),x(this,lt,Pr).call(this,t.propertiesToUpdate),x(this,lt,qn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,re).has(t)}get firstSelectedEditor(){return h(this,re).values().next().value}unselect(t){t.unselect(),h(this,re).delete(t),x(this,lt,qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,re).size!==0}get isEnterHandled(){return h(this,re).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,us).undo(),x(this,lt,qn).call(this,{hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,lt,rd).call(this)})}redo(){h(this,us).redo(),x(this,lt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,us).hasSomethingToRedo(),isEmpty:x(this,lt,rd).call(this)})}addCommands(t){h(this,us).add(t),x(this,lt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,lt,rd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,re)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)x(this,lt,Ob).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,bi))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,bi)||this.hasSelection}selectAll(){for(const t of h(this,re))t.commit();x(this,lt,Db).call(this,h(this,tn).values())}unselectAll(){if(!(h(this,bi)&&(h(this,bi).commitOrRemove(),h(this,pn)!==Nt.NONE))&&this.hasSelection){for(const t of h(this,re))t.unselect();h(this,re).clear(),x(this,lt,qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,Vr)[0]+=t,h(this,Vr)[1]+=e;const[r,o]=h(this,Vr),u=[...h(this,re)],d=1e3;h(this,zs)&&clearTimeout(h(this,zs)),_(this,zs,setTimeout(()=>{_(this,zs,null),h(this,Vr)[0]=h(this,Vr)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,tn).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of u)h(this,tn).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,Ns,new Map);for(const t of h(this,re))h(this,Ns).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Ns))return!1;this.disableUserSelect(!1);const t=h(this,Ns);_(this,Ns,null);let e=!1;for(const[{x:r,y:o,pageIndex:u},d]of t)d.newX=r,d.newY=o,d.newPageIndex=u,e||(e=r!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const s=(r,o,u,d)=>{if(h(this,tn).has(r.id)){const f=h(this,Sn).get(d);f?r._setParentAndPosition(f,o,u):(r.pageIndex=d,r.x=o,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:u,newPageIndex:d}]of t)s(r,o,u,d)},undo:()=>{for(const[r,{savedX:o,savedY:u,savedPageIndex:d}]of t)s(r,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,Ns))for(const s of h(this,Ns).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,re).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,bi)===t}getActive(){return h(this,bi)}getMode(){return h(this,pn)}get imageManager(){return Yt(this,"imageManager",new xb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(p,m,v,b)=>({x:(m-r)/u,y:1-(p+v-s)/o,width:b/u,height:v/o});break;case"180":d=(p,m,v,b)=>({x:1-(p+v-s)/o,y:1-(m+b-r)/u,width:v/o,height:b/u});break;case"270":d=(p,m,v,b)=>({x:1-(m+b-r)/u,y:(p-s)/o,width:b/u,height:v/o});break;default:d=(p,m,v,b)=>({x:(p-s)/o,y:(m-r)/u,width:v/o,height:b/u});break}const f=[];for(let p=0,m=e.rangeCount;p<m;p++){const v=e.getRangeAt(p);if(!v.collapsed)for(const{x:b,y:A,width:S,height:w}of v.getClientRects())S===0||w===0||f.push(d(b,A,S,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,iu)||_(this,iu,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,iu))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,iu))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,Ma).getRawValue(e);s&&(h(this,pn)===Nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};eu=new WeakMap,bi=new WeakMap,tn=new WeakMap,Sn=new WeakMap,nu=new WeakMap,Ma=new WeakMap,iu=new WeakMap,us=new WeakMap,Ir=new WeakMap,su=new WeakMap,Qo=new WeakMap,Ns=new WeakMap,hs=new WeakMap,Zo=new WeakMap,kd=new WeakMap,Nd=new WeakMap,au=new WeakMap,Pd=new WeakMap,Ps=new WeakMap,jr=new WeakMap,ru=new WeakMap,Ur=new WeakMap,Fs=new WeakMap,lm=new WeakMap,Gr=new WeakMap,Fd=new WeakMap,qr=new WeakMap,Jo=new WeakMap,zd=new WeakMap,Hd=new WeakMap,pn=new WeakMap,re=new WeakMap,La=new WeakMap,tl=new WeakMap,Bd=new WeakMap,Id=new WeakMap,Vr=new WeakMap,zs=new WeakMap,Oa=new WeakMap,jd=new WeakMap,$i=new WeakMap,lt=new WeakSet,Sg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Cb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,Sn).values())if(s.hasTextLayer(t))return s;return null},Yx=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=x(this,lt,Sg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,Fs)||_(this,Fs,new _D(this)),h(this,Fs).show(s,r,this.direction==="ltr"))},$x=function(){var o,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,La)&&((o=h(this,Fs))==null||o.hide(),_(this,La,null),x(this,lt,qn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,La))return;const r=x(this,lt,Sg).call(this,t).closest(".textLayer");if(!r){h(this,La)&&((u=h(this,Fs))==null||u.hide(),_(this,La,null),x(this,lt,qn).call(this,{hasSelectedText:!1}));return}if((d=h(this,Fs))==null||d.hide(),_(this,La,e),x(this,lt,qn).call(this,{hasSelectedText:!0}),!(h(this,pn)!==Nt.HIGHLIGHT&&h(this,pn)!==Nt.NONE)&&(h(this,pn)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Ur,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,pn)===Nt.HIGHLIGHT?x(this,lt,Cb).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),v=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&x(this,lt,Eg).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},Eg=function(t=""){h(this,pn)===Nt.HIGHLIGHT?this.highlightSelection(t):h(this,kd)&&x(this,lt,Yx).call(this)},Kx=function(){document.addEventListener("selectionchange",x(this,lt,$x).bind(this),{signal:this._signal})},Wx=function(){if(h(this,jr))return;_(this,jr,new AbortController);const t=this.combinedSignal(h(this,jr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Qx=function(){var t;(t=h(this,jr))==null||t.abort(),_(this,jr,null)},Rb=function(){if(h(this,qr))return;_(this,qr,new AbortController);const t=this.combinedSignal(h(this,qr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Zx=function(){var t;(t=h(this,qr))==null||t.abort(),_(this,qr,null)},Mb=function(){if(h(this,Ir))return;_(this,Ir,new AbortController);const t=this.combinedSignal(h(this,Ir));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Lb=function(){var t;(t=h(this,Ir))==null||t.abort(),_(this,Ir,null)},Jx=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},qn=function(t){Object.entries(t).some(([s,r])=>h(this,Id)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Id),t)}),h(this,pn)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&x(this,lt,Pr).call(this,[[Mt.HIGHLIGHT_FREE,!0]]))},Pr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},t1=async function(){if(!h(this,Gr)){_(this,Gr,!0);const t=[];for(const e of h(this,Sn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,tn).values())e.enable()}},e1=function(){if(this.unselectAll(),h(this,Gr)){_(this,Gr,!1);for(const t of h(this,Sn).values())t.disable();for(const t of h(this,tn).values())t.disable()}},Ob=function(t){const e=h(this,Sn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},n1=function(){let t=null;for(t of h(this,re));return t},rd=function(){if(h(this,tn).size===0)return!0;if(h(this,tn).size===1)for(const t of h(this,tn).values())return t.isEmpty();return!1},Db=function(t){for(const e of h(this,re))e.unselect();h(this,re).clear();for(const e of t)e.isEmpty()||(h(this,re).add(e),e.select());x(this,lt,qn).call(this,{hasSelectedEditor:this.hasSelection})},Rt(Yc,"TRANSLATE_SMALL",1),Rt(Yc,"TRANSLATE_BIG",10);let Yl=Yc;var gn,Hs,ds,ou,Bs,Ai,lu,Is,ii,Da,el,js,Xr,Es,od,_g;const Vn=class Vn{constructor(t){R(this,Es);R(this,gn,null);R(this,Hs,!1);R(this,ds,null);R(this,ou,null);R(this,Bs,null);R(this,Ai,null);R(this,lu,!1);R(this,Is,null);R(this,ii,null);R(this,Da,null);R(this,el,null);R(this,js,!1);_(this,ii,t),_(this,js,t._uiManager.useNewAltTextFlow),h(Vn,Xr)||_(Vn,Xr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Vn._l10n??(Vn._l10n=t)}async render(){const t=_(this,ds,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,ou,document.createElement("span"));t.append(e),h(this,js)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Vn,Xr).missing),e.setAttribute("data-l10n-id",h(Vn,Xr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,ii)._uiManager._signal;t.addEventListener("contextmenu",ns,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),h(this,ii)._uiManager.editAltText(h(this,ii)),h(this,js)&&h(this,ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Es,od)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(_(this,lu,!0),r(o))},{signal:s}),await x(this,Es,_g).call(this),t}finish(){h(this,ds)&&(h(this,ds).focus({focusVisible:h(this,lu)}),_(this,lu,!1))}isEmpty(){return h(this,js)?h(this,gn)===null:!h(this,gn)&&!h(this,Hs)}hasData(){return h(this,js)?h(this,gn)!==null||!!h(this,Da):this.isEmpty()}get guessedText(){return h(this,Da)}async setGuessedText(t){h(this,gn)===null&&(_(this,Da,t),_(this,el,await Vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),x(this,Es,_g).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,js)||h(this,gn)){(e=h(this,Is))==null||e.remove(),_(this,Is,null);return}if(!h(this,Is)){const s=_(this,Is,document.createElement("div"));s.className="noAltTextBadge",h(this,ii).div.append(s)}h(this,Is).classList.toggle("hidden",!t)}serialize(t){let e=h(this,gn);return!t&&h(this,Da)===e&&(e=h(this,el)),{altText:e,decorative:h(this,Hs),guessedText:h(this,Da),textWithDisclaimer:h(this,el)}}get data(){return{altText:h(this,gn),decorative:h(this,Hs)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(_(this,Da,s),_(this,el,r)),!(h(this,gn)===t&&h(this,Hs)===e)&&(o||(_(this,gn,t),_(this,Hs,e)),x(this,Es,_g).call(this))}toggle(t=!1){h(this,ds)&&(!t&&h(this,Ai)&&(clearTimeout(h(this,Ai)),_(this,Ai,null)),h(this,ds).disabled=!t)}shown(){h(this,ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Es,od)}})}destroy(){var t,e;(t=h(this,ds))==null||t.remove(),_(this,ds,null),_(this,ou,null),_(this,Bs,null),(e=h(this,Is))==null||e.remove(),_(this,Is,null)}};gn=new WeakMap,Hs=new WeakMap,ds=new WeakMap,ou=new WeakMap,Bs=new WeakMap,Ai=new WeakMap,lu=new WeakMap,Is=new WeakMap,ii=new WeakMap,Da=new WeakMap,el=new WeakMap,js=new WeakMap,Xr=new WeakMap,Es=new WeakSet,od=function(){return h(this,gn)&&"added"||h(this,gn)===null&&this.guessedText&&"review"||"missing"},_g=async function(){var r,o,u;const t=h(this,ds);if(!t)return;if(h(this,js)){if(t.classList.toggle("done",!!h(this,gn)),t.setAttribute("data-l10n-id",h(Vn,Xr)[h(this,Es,od)]),(r=h(this,ou))==null||r.setAttribute("data-l10n-id",h(Vn,Xr)[`${h(this,Es,od)}-label`]),!h(this,gn)){(o=h(this,Bs))==null||o.remove();return}}else{if(!h(this,gn)&&!h(this,Hs)){t.classList.remove("done"),(u=h(this,Bs))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,Bs);if(!e){_(this,Bs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,ii).id}`;const d=100,f=h(this,ii)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,Ai)),_(this,Ai,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,Ai,setTimeout(()=>{_(this,Ai,null),h(this,Bs).classList.add("show"),h(this,ii)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;h(this,Ai)&&(clearTimeout(h(this,Ai)),_(this,Ai,null)),(p=h(this,Bs))==null||p.classList.remove("show")},{signal:f})}h(this,Hs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,gn)),e.parentNode||t.append(e);const s=h(this,ii).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},R(Vn,Xr,null),Rt(Vn,"_l10n",null);let tm=Vn;var nl,fs,Ce,cu,il,En,sl,Yr,Ud,al,$r,Gd,rl,ka,Us,uu,hu,Ki,qd,cm,Pt,kb,Vd,Nb,Pb,i1,s1,Fb,zb,Hb,a1,Bb,r1,o1,l1,Ib,ld;const ne=class ne{constructor(t){R(this,Pt);R(this,nl,null);R(this,fs,null);R(this,Ce,null);R(this,cu,!1);R(this,il,!1);R(this,En,null);R(this,sl,null);R(this,Yr,null);R(this,Ud,"");R(this,al,!1);R(this,$r,null);R(this,Gd,!1);R(this,rl,!1);R(this,ka,!1);R(this,Us,null);R(this,uu,0);R(this,hu,0);R(this,Ki,null);Rt(this,"_editToolbar",null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_initialData",null);Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);R(this,qd,!1);R(this,cm,ne._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ne.prototype._resizeWithKeyboard,e=Yl.TRANSLATE_SMALL,s=Yl.TRANSLATE_BIG;return Yt(this,"_resizerKeyboardManager",new Wf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Yt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new CD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ne._l10n??(ne._l10n=t),ne._l10nResizer||(ne._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ne._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ne._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Se("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,qd)}set _isDraggable(t){var e;_(this,qd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,cm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):x(this,Pt,ld).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,al)?_(this,al,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){x(this,Pt,kb).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,$r)||_(this,$r,[this.x,this.y]),x(this,Pt,kb).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,$r)||_(this,$r,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,$r)&&(h(this,$r)[0]!==this.x||h(this,$r)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=ne,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:u,height:d}=this;if(u*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(u,o));break;case 180:r=Math.min(e,Math.max(u,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-u,o));break}this.x=r/=e,this.y=o/=s;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return x(s=ne,Vd,Nb).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return x(s=ne,Vd,Nb).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,il)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!h(this,il)&&e.endsWith("%");if(r&&o)return;const[u,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!h(this,il)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,Ce))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,rl)?this._editToolbar:(this._editToolbar=new _b(this),this.div.append(this._editToolbar.render()),h(this,Ce)&&await this._editToolbar.addAltText(h(this,Ce)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,Ce))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,Ce)||(tm.initialize(ne._l10n),_(this,Ce,new tm(this)),h(this,nl)&&(h(this,Ce).data=h(this,nl),_(this,nl,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,Ce))==null?void 0:t.data}set altTextData(t){h(this,Ce)&&(h(this,Ce).data=t)}get guessedAltText(){var t;return(t=h(this,Ce))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,Ce))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,Ce))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,Ce)&&!h(this,Ce).isEmpty()}hasAltTextData(){var t;return((t=h(this,Ce))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,cu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,Pt,Bb).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Jg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,al,!0),this._isDraggable){x(this,Pt,a1).call(this,t);return}x(this,Pt,Hb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,Us)&&clearTimeout(h(this,Us)),_(this,Us,setTimeout(()=>{var t;_(this,Us,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,p=t/r,m=e/r,v=this.x*o,b=this.y*u,A=this.width*o,S=this.height*u;switch(s){case 0:return[v+p+d,u-b-m-S+f,v+p+A+d,u-b-m+f];case 90:return[v+m+d,u-b+p+f,v+m+S+d,u-b+p+A+f];case 180:return[v-p-A+d,u-b+m+f,v-p+d,u-b+m+S+f];case 270:return[v-m-S+d,u-b-p-A+f,v-m+d,u-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,u]=t,d=o-s,f=u-r;switch(this.rotation){case 0:return[s,e-u,d,f];case 90:return[s,e-r,f,d];case 180:return[o,e-r,d,f];case 270:return[o,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,rl,!0)}disableEditMode(){_(this,rl,!1)}isInEditMode(){return h(this,rl)}shouldGetKeyboardEvents(){return h(this,ka)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,Pt,Bb).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Se("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,nl,t.accessibilityData);const[o,u]=r.pageDimensions,[d,f,p,m]=r.getRectInCurrentCoords(t.rect,u);return r.x=d/o,r.y=f/u,r.width=p/o,r.height=m/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,Yr))==null||t.abort(),_(this,Yr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,Us)&&(clearTimeout(h(this,Us)),_(this,Us,null)),x(this,Pt,ld).call(this),this.removeEditToolbar(),h(this,Ki)){for(const e of h(this,Ki).values())clearTimeout(e);_(this,Ki,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Pt,i1).call(this),h(this,En).classList.remove("hidden"),Jg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,sl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,En).children;if(!h(this,fs)){_(this,fs,Array.from(e));const u=x(this,Pt,r1).bind(this),d=x(this,Pt,o1).bind(this),f=this._uiManager._signal;for(const p of h(this,fs)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",d,{signal:f}),p.addEventListener("focus",x(this,Pt,l1).bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",ne._l10nResizer[m])}}const s=h(this,fs)[0];let r=0;for(const u of e){if(u===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,fs).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)h(this,En).append(h(this,En).firstChild);else if(o>r)for(let d=0;d<o-r;d++)h(this,En).firstChild.before(h(this,En).lastChild);let u=0;for(const d of e){const p=h(this,fs)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",ne._l10nResizer[p])}}x(this,Pt,Ib).call(this,0),_(this,ka,!0),h(this,En).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,ka)&&x(this,Pt,zb).call(this,h(this,Ud),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){x(this,Pt,ld).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,Ce))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=h(this,En))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,Ce))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Gd)}set isEditing(t){_(this,Gd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,il,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,Ki)||_(this,Ki,new Map);const{action:s}=t;let r=h(this,Ki).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,Ki).delete(s),h(this,Ki).size===0&&_(this,Ki,null)},ne._telemetryTimeout),h(this,Ki).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,cu,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,cu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};nl=new WeakMap,fs=new WeakMap,Ce=new WeakMap,cu=new WeakMap,il=new WeakMap,En=new WeakMap,sl=new WeakMap,Yr=new WeakMap,Ud=new WeakMap,al=new WeakMap,$r=new WeakMap,Gd=new WeakMap,rl=new WeakMap,ka=new WeakMap,Us=new WeakMap,uu=new WeakMap,hu=new WeakMap,Ki=new WeakMap,qd=new WeakMap,cm=new WeakMap,Pt=new WeakSet,kb=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},Vd=new WeakSet,Nb=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Pb=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},i1=function(){if(h(this,En))return;_(this,En,document.createElement("div")),h(this,En).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,En).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",x(this,Pt,s1).bind(this,s),{signal:e}),r.addEventListener("contextmenu",ns,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,En))},s1=function(t,e){var S;e.preventDefault();const{isMac:s}=Yn.platform;if(e.button!==0||e.ctrlKey&&s)return;(S=h(this,Ce))==null||S.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,Pt,zb).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",ns,{signal:u});const d=this.x,f=this.y,p=this.width,m=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var w;o.abort(),this.parent.togglePointerEvents(!0),(w=h(this,Ce))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=b,x(this,Pt,Fb).call(this,d,f,p,m)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},Fb=function(t,e,s,r){const o=this.x,u=this.y,d=this.width,f=this.height;o===t&&u===e&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[p,m]=this.parentDimensions;this.setDims(p*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[p,m]=this.parentDimensions;this.setDims(p*s,m*r),this.fixAndSetPosition()},mustExec:!0})},zb=function(t,e){const[s,r]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,p=ne.MIN_SIZE/s,m=ne.MIN_SIZE/r,v=q=>Math.round(q*1e4)/1e4,b=x(this,Pt,Pb).call(this,this.rotation),A=(q,W)=>[b[0]*q+b[2]*W,b[1]*q+b[3]*W],S=x(this,Pt,Pb).call(this,360-this.rotation),w=(q,W)=>[S[0]*q+S[2]*W,S[1]*q+S[3]*W];let M,T,L=!1,O=!1;switch(t){case"topLeft":L=!0,M=(q,W)=>[0,0],T=(q,W)=>[q,W];break;case"topMiddle":M=(q,W)=>[q/2,0],T=(q,W)=>[q/2,W];break;case"topRight":L=!0,M=(q,W)=>[q,0],T=(q,W)=>[0,W];break;case"middleRight":O=!0,M=(q,W)=>[q,W/2],T=(q,W)=>[0,W/2];break;case"bottomRight":L=!0,M=(q,W)=>[q,W],T=(q,W)=>[0,0];break;case"bottomMiddle":M=(q,W)=>[q/2,W],T=(q,W)=>[q/2,0];break;case"bottomLeft":L=!0,M=(q,W)=>[0,W],T=(q,W)=>[q,0];break;case"middleLeft":O=!0,M=(q,W)=>[0,W/2],T=(q,W)=>[q,W/2];break}const P=M(d,f),F=T(d,f);let I=A(...F);const G=v(o+I[0]),K=v(u+I[1]);let tt=1,it=1,[st,ft]=this.screenToPageTranslation(e.movementX,e.movementY);if([st,ft]=w(st/s,ft/r),L){const q=Math.hypot(d,f);tt=it=Math.max(Math.min(Math.hypot(F[0]-P[0]-st,F[1]-P[1]-ft)/q,1/d,1/f),p/d,m/f)}else O?tt=Math.max(p,Math.min(1,Math.abs(F[0]-P[0]-st)))/d:it=Math.max(m,Math.min(1,Math.abs(F[1]-P[1]-ft)))/f;const pt=v(d*tt),rt=v(f*it);I=A(...T(pt,rt));const ct=G-I[0],H=K-I[1];this.width=pt,this.height=rt,this.x=ct,this.y=H,this.setDims(s*pt,r*rt),this.fixAndSetPosition()},Hb=function(t){const{isMac:e}=Yn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},a1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),_(this,uu,t.clientX),_(this,hu,t.clientY);const u=d=>{const{clientX:f,clientY:p}=d,[m,v]=this.screenToPageTranslation(f-h(this,uu),p-h(this,hu));_(this,uu,f),_(this,hu,p),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),_(this,al,!1),this._uiManager.endDragSession()||x(this,Pt,Hb).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Bb=function(){if(h(this,Yr)||!this.div)return;_(this,Yr,new AbortController);const t=this._uiManager.combinedSignal(h(this,Yr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},r1=function(t){ne._resizerKeyboardManager.exec(this,t)},o1=function(t){var e;h(this,ka)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,En)&&x(this,Pt,ld).call(this)},l1=function(t){_(this,Ud,h(this,ka)?t:"")},Ib=function(t){if(h(this,fs))for(const e of h(this,fs))e.tabIndex=t},ld=function(){if(_(this,ka,!1),x(this,Pt,Ib).call(this,-1),h(this,sl)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,sl);x(this,Pt,Fb).call(this,t,e,s,r),_(this,sl,null)}},R(ne,Vd),Rt(ne,"_l10n",null),Rt(ne,"_l10nResizer",null),Rt(ne,"_borderLineWidth",-1),Rt(ne,"_colorManager",new Tb),Rt(ne,"_zIndex",1),Rt(ne,"_telemetryTimeout",1e3);let le=ne;class CD extends le{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ow=3285377520,Yi=4294901760,ks=65535;class c1{constructor(t){this.h1=t?t&4294967295:Ow,this.h2=t?t&4294967295:Ow}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let w=0,M=t.length;w<M;w++){const T=t.charCodeAt(w);T<=255?e[s++]=T:(e[s++]=T>>>8,e[s++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,u=new Uint32Array(e.buffer,0,r);let d=0,f=0,p=this.h1,m=this.h2;const v=3432918353,b=461845907,A=v&ks,S=b&ks;for(let w=0;w<r;w++)w&1?(d=u[w],d=d*v&Yi|d*A&ks,d=d<<15|d>>>17,d=d*b&Yi|d*S&ks,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[w],f=f*v&Yi|f*A&ks,f=f<<15|f>>>17,f=f*b&Yi|f*S&ks,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*v&Yi|d*A&ks,d=d<<15|d>>>17,d=d*b&Yi|d*S&ks,r&1?p^=d:m^=d}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Yi|t*36045&ks,e=e*4283543511&Yi|((e<<16|t>>>16)*2950163797&Yi)>>>16,t^=e>>>1,t=t*444984403&Yi|t*60499&ks,e=e*3301882366&Yi|((e<<16|t>>>16)*3120437893&Yi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const jb=Object.freeze({map:null,hash:"",transfer:void 0});var ol,ll,mn,um,u1;class sA{constructor(){R(this,um);R(this,ol,!1);R(this,ll,null);R(this,mn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,mn).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,mn).get(t)}remove(t){if(h(this,mn).delete(t),h(this,mn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,mn).values())if(e instanceof le)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,mn).get(t);let r=!1;if(s!==void 0)for(const[o,u]of Object.entries(e))s[o]!==u&&(r=!0,s[o]=u);else r=!0,h(this,mn).set(t,e);r&&x(this,um,u1).call(this),e instanceof le&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,mn).has(t)}getAll(){return h(this,mn).size>0?Z0(h(this,mn)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,mn).size}resetModified(){h(this,ol)&&(_(this,ol,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h1(this)}get serializable(){if(h(this,mn).size===0)return jb;const t=new Map,e=new c1,s=[],r=Object.create(null);let o=!1;for(const[u,d]of h(this,mn)){const f=d instanceof le?d.serialize(!1,r):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:jb}get editorStats(){let t=null;const e=new Map;for(const s of h(this,mn).values()){if(!(s instanceof le))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[o]||(t[o]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,ll,null)}get modifiedIds(){if(h(this,ll))return h(this,ll);const t=[];for(const e of h(this,mn).values())!(e instanceof le)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,ll,{ids:new Set(t),hash:t.join(",")})}}ol=new WeakMap,ll=new WeakMap,mn=new WeakMap,um=new WeakSet,u1=function(){h(this,ol)||(_(this,ol,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xd;class h1 extends sA{constructor(e){super();R(this,Xd);const{map:s,hash:r,transfer:o}=e.serializable,u=structuredClone(s,o?{transfer:o}:null);_(this,Xd,{map:u,hash:r,transfer:o})}get print(){Se("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Xd)}get modifiedIds(){return Yt(this,"modifiedIds",{ids:new Set,hash:""})}}Xd=new WeakMap;var du;class RD{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){R(this,du,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,du).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,du).has(t.loadedName))){if(sn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,u=new FontFace(s,r,o);this.addNativeFontFace(u);try{await u.load(),h(this,du).add(s),e==null||e(t)}catch{zt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Se("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw zt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Yt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Hn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Yt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(sn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(P,F){return P.charCodeAt(F)<<24|P.charCodeAt(F+1)<<16|P.charCodeAt(F+2)<<8|P.charCodeAt(F+3)&255}function r(P,F,I,G){const K=P.substring(0,F),tt=P.substring(F+I);return K+G+tt}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let p=0;function m(P,F){if(++p>30){zt("Load test font never loaded."),F();return}if(f.font="30px "+P,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,P,F))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,v.length,v);const S=16,w=1482184792;let M=s(b,S);for(o=0,u=v.length-3;o<u;o+=4)M=M-w+s(v,o)|0;o<v.length&&(M=M-w+s(v+"XXX",o)|0),b=r(b,S,4,dD(M));const T=`url(data:font/opentype;base64,${btoa(b)});`,L=`@font-face {font-family:"${v}";src:${T}}`;this.insertRule(L);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const P of[t.loadedName,v]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=P,O.append(F)}this._document.body.append(O),m(v,()=>{O.remove(),e.complete()})}}du=new WeakMap;class MD{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${vD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){zt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,u){};const r=[];for(let o=0,u=s.length;o<u;)switch(s[o++]){case wa.BEZIER_CURVE_TO:{const[d,f,p,m,v,b]=s.slice(o,o+6);r.push(A=>A.bezierCurveTo(d,f,p,m,v,b)),o+=6}break;case wa.MOVE_TO:{const[d,f]=s.slice(o,o+2);r.push(p=>p.moveTo(d,f)),o+=2}break;case wa.LINE_TO:{const[d,f]=s.slice(o,o+2);r.push(p=>p.lineTo(d,f)),o+=2}break;case wa.QUADRATIC_CURVE_TO:{const[d,f,p,m]=s.slice(o,o+4);r.push(v=>v.quadraticCurveTo(d,f,p,m)),o+=4}break;case wa.RESTORE:r.push(d=>d.restore());break;case wa.SAVE:r.push(d=>d.save());break;case wa.SCALE:sn(r.length===2,"Scale command is only valid at the third position.");break;case wa.TRANSFORM:{const[d,f,p,m,v,b]=s.slice(o,o+6);r.push(A=>A.transform(d,f,p,m,v,b)),o+=6}break;case wa.TRANSLATE:{const[d,f]=s.slice(o,o+2);r.push(p=>p.translate(d,f)),o+=2}break}return this.compiledGlyphs[e]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,p=r.length;f<p;f++)r[f](u)}}}var Yd;class d1{constructor({enableHWA:t=!1}){R(this,Yd,!1);_(this,Yd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,Yd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Se("Abstract method `_createCanvas` called.")}}Yd=new WeakMap;class LD extends d1{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class f1{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Se("Abstract method `_fetch` called.")}}class p1 extends f1{async _fetch(t){const e=await Dm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Om(e)}}class g1{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var cl,ul,Gs,Na,Nn,hm,hl,dt,Dn,Bc,Ic,wg,jc,m1,Ub,Uc,cd,ud,Gb,hd;class OD extends g1{constructor({docId:e,ownerDocument:s=globalThis.document}){super();R(this,dt);R(this,cl);R(this,ul);R(this,Gs);R(this,Na);R(this,Nn);R(this,hm);R(this,hl,0);_(this,Na,e),_(this,Nn,s)}addFilter(e){if(!e)return"none";let s=h(this,dt,Dn).get(e);if(s)return s;const[r,o,u]=x(this,dt,wg).call(this,e),d=e.length===1?r:`${r}${o}${u}`;if(s=h(this,dt,Dn).get(d),s)return h(this,dt,Dn).set(e,s),s;const f=`g_${h(this,Na)}_transfer_map_${Gn(this,hl)._++}`,p=x(this,dt,jc).call(this,f);h(this,dt,Dn).set(e,p),h(this,dt,Dn).set(d,p);const m=x(this,dt,Uc).call(this,f);return x(this,dt,ud).call(this,r,o,u,m),p}addHCMFilter(e,s){var S;const r=`${e}-${s}`,o="base";let u=h(this,dt,Bc).get(o);if((u==null?void 0:u.key)===r||(u?((S=u.filter)==null||S.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},h(this,dt,Bc).set(o,u)),!e||!s))return u.url;const d=x(this,dt,hd).call(this,e);e=vt.makeHexColor(...d);const f=x(this,dt,hd).call(this,s);if(s=vt.makeHexColor(...f),h(this,dt,Ic).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const p=new Array(256);for(let w=0;w<=255;w++){const M=w/255;p[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),v=`g_${h(this,Na)}_hcm_filter`,b=u.filter=x(this,dt,Uc).call(this,v);x(this,dt,ud).call(this,m,m,m,b),x(this,dt,Ub).call(this,b);const A=(w,M)=>{const T=d[w]/255,L=f[w]/255,O=new Array(M+1);for(let P=0;P<=M;P++)O[P]=T+P/M*(L-T);return O.join(",")};return x(this,dt,ud).call(this,A(0,5),A(1,5),A(2,5),b),u.url=x(this,dt,jc).call(this,v),u.url}addAlphaFilter(e){let s=h(this,dt,Dn).get(e);if(s)return s;const[r]=x(this,dt,wg).call(this,[e]),o=`alpha_${r}`;if(s=h(this,dt,Dn).get(o),s)return h(this,dt,Dn).set(e,s),s;const u=`g_${h(this,Na)}_alpha_map_${Gn(this,hl)._++}`,d=x(this,dt,jc).call(this,u);h(this,dt,Dn).set(e,d),h(this,dt,Dn).set(o,d);const f=x(this,dt,Uc).call(this,u);return x(this,dt,Gb).call(this,r,f),d}addLuminosityFilter(e){let s=h(this,dt,Dn).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=x(this,dt,wg).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=h(this,dt,Dn).get(o),s)return h(this,dt,Dn).set(e,s),s;const u=`g_${h(this,Na)}_luminosity_map_${Gn(this,hl)._++}`,d=x(this,dt,jc).call(this,u);h(this,dt,Dn).set(e,d),h(this,dt,Dn).set(o,d);const f=x(this,dt,Uc).call(this,u);return x(this,dt,m1).call(this,f),e&&x(this,dt,Gb).call(this,r,f),d}addHighlightHCMFilter(e,s,r,o,u){var L;const d=`${s}-${r}-${o}-${u}`;let f=h(this,dt,Bc).get(e);if((f==null?void 0:f.key)===d||(f?((L=f.filter)==null||L.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,dt,Bc).set(e,f)),!s||!r))return f.url;const[p,m]=[s,r].map(x(this,dt,hd).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[o,u].map(x(this,dt,hd).bind(this));b<v&&([v,b,A,S]=[b,v,S,A]),h(this,dt,Ic).style.color="";const w=(O,P,F)=>{const I=new Array(256),G=(b-v)/F,K=O/255,tt=(P-O)/(255*F);let it=0;for(let st=0;st<=F;st++){const ft=Math.round(v+st*G),pt=K+st*tt;for(let rt=it;rt<=ft;rt++)I[rt]=pt;it=ft+1}for(let st=it;st<256;st++)I[st]=I[it-1];return I.join(",")},M=`g_${h(this,Na)}_hcm_${e}_filter`,T=f.filter=x(this,dt,Uc).call(this,M);return x(this,dt,Ub).call(this,T),x(this,dt,ud).call(this,w(A[0],S[0],5),w(A[1],S[1],5),w(A[2],S[2],5),T),f.url=x(this,dt,jc).call(this,M),f.url}destroy(e=!1){e&&h(this,dt,Bc).size!==0||(h(this,Gs)&&(h(this,Gs).parentNode.parentNode.remove(),_(this,Gs,null)),h(this,ul)&&(h(this,ul).clear(),_(this,ul,null)),_(this,hl,0))}}cl=new WeakMap,ul=new WeakMap,Gs=new WeakMap,Na=new WeakMap,Nn=new WeakMap,hm=new WeakMap,hl=new WeakMap,dt=new WeakSet,Dn=function(){return h(this,ul)||_(this,ul,new Map)},Bc=function(){return h(this,hm)||_(this,hm,new Map)},Ic=function(){if(!h(this,Gs)){const e=h(this,Nn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,Nn).createElementNS(Ta,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,Gs,h(this,Nn).createElementNS(Ta,"defs")),e.append(r),r.append(h(this,Gs)),h(this,Nn).body.append(e)}return h(this,Gs)},wg=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=p[b]/255;const v=m.join(",");return[v,v,v]}const[s,r,o]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=s[p]/255,d[p]=r[p]/255,f[p]=o[p]/255;return[u.join(","),d.join(","),f.join(",")]},jc=function(e){if(h(this,cl)===void 0){_(this,cl,"");const s=h(this,Nn).URL;s!==h(this,Nn).baseURI&&(km(s)?zt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,cl,s.split("#",1)[0]))}return`url(${h(this,cl)}#${e})`},m1=function(e){const s=h(this,Nn).createElementNS(Ta,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Ub=function(e){const s=h(this,Nn).createElementNS(Ta,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},Uc=function(e){const s=h(this,Nn).createElementNS(Ta,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,dt,Ic).append(s),s},cd=function(e,s,r){const o=h(this,Nn).createElementNS(Ta,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},ud=function(e,s,r,o){const u=h(this,Nn).createElementNS(Ta,"feComponentTransfer");o.append(u),x(this,dt,cd).call(this,u,"feFuncR",e),x(this,dt,cd).call(this,u,"feFuncG",s),x(this,dt,cd).call(this,u,"feFuncB",r)},Gb=function(e,s){const r=h(this,Nn).createElementNS(Ta,"feComponentTransfer");s.append(r),x(this,dt,cd).call(this,r,"feFuncA",e)},hd=function(e){return h(this,dt,Ic).style.color=e,iA(getComputedStyle(h(this,dt,Ic)).getPropertyValue("color"))};class y1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Se("Abstract method `_fetch` called.")}}class v1 extends y1{async _fetch(t){const e=await Dm(t,"arraybuffer");return new Uint8Array(e)}}if(Hn){var qb=Promise.withResolvers(),Ed=null;(async()=>{const t=await cg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await cg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await cg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await cg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:u}))})().then(t=>{Ed=t,qb.resolve()},t=>{zt(`loadPackages: ${t}`),Ed=new Map,qb.resolve()})}class go{static get promise(){return qb.promise}static get(t){return Ed==null?void 0:Ed.get(t)}}async function b1(l){const e=await go.get("fs").promises.readFile(l);return new Uint8Array(e)}class DD extends g1{}class kD extends d1{_createCanvas(t,e){return go.get("canvas").createCanvas(t,e)}}class ND extends f1{async _fetch(t){return b1(t)}}class PD extends y1{async _fetch(t){return b1(t)}}const Xn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vb(l,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),l.clip(r)}class aA{getPattern(){Se("Abstract method `getPattern` called.")}}class FD extends aA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===Xn.STROKE||r===Xn.FILL){const u=e.current.getClippedPathBoundingBox(r,Me(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",d,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),s=vt.transform(s,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Vb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(s);o.setTransform(v)}else Vb(t,this._bbox),o=this._createGradient(t);return o}}function ob(l,t,e,s,r,o,u,d){const f=t.coords,p=t.colors,m=l.data,v=l.width*4;let b;f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=u,u=d,d=b),f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,w=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,T=(f[r]+t.offsetX)*t.scaleX,L=(f[r+1]+t.offsetY)*t.scaleY;if(S>=L)return;const O=p[o],P=p[o+1],F=p[o+2],I=p[u],G=p[u+1],K=p[u+2],tt=p[d],it=p[d+1],st=p[d+2],ft=Math.round(S),pt=Math.round(L);let rt,ct,H,q,W,yt,N,$;for(let nt=ft;nt<=pt;nt++){if(nt<M){const Tt=nt<S?0:(S-nt)/(S-M);rt=A-(A-w)*Tt,ct=O-(O-I)*Tt,H=P-(P-G)*Tt,q=F-(F-K)*Tt}else{let Tt;nt>L?Tt=1:M===L?Tt=0:Tt=(M-nt)/(M-L),rt=w-(w-T)*Tt,ct=I-(I-tt)*Tt,H=G-(G-it)*Tt,q=K-(K-st)*Tt}let et;nt<S?et=0:nt>L?et=1:et=(S-nt)/(S-L),W=A-(A-T)*et,yt=O-(O-tt)*et,N=P-(P-it)*et,$=F-(F-st)*et;const ht=Math.round(Math.min(rt,W)),xt=Math.round(Math.max(rt,W));let ut=v*nt+ht*4;for(let Tt=ht;Tt<=xt;Tt++)et=(rt-Tt)/(rt-W),et<0?et=0:et>1&&(et=1),m[ut++]=ct-(ct-yt)*et|0,m[ut++]=H-(H-N)*et|0,m[ut++]=q-(q-$)*et|0,m[ut++]=255}}function zD(l,t,e){const s=t.coords,r=t.colors;let o,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,p=d-1;for(o=0;o<f;o++){let m=o*d;for(let v=0;v<p;v++,m++)ob(l,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),ob(l,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)ob(l,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class HD extends aA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=p/v,S=m/b,w={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/A,scaleY:1/S},M=v+2*2,T=b+2*2,L=s.getCanvas("mesh",M,T),O=L.context,P=O.createImageData(v,b);if(e){const I=P.data;for(let G=0,K=I.length;G<K;G+=4)I[G]=e[0],I[G+1]=e[1],I[G+2]=e[2],I[G+3]=255}for(const I of this._figures)zD(P,I,w);return O.putImageData(P,2,2),{canvas:L.canvas,offsetX:d-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,r){Vb(t,this._bbox);let o;if(r===Xn.SHADING)o=vt.singularValueDecompose2dScale(Me(t));else if(o=vt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=vt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,r===Xn.SHADING?null:this._background,e.cachedCanvases);return r!==Xn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class BD extends aA{getPattern(){return"hotpink"}}function ID(l){switch(l[0]){case"RadialAxial":return new FD(l);case"Mesh":return new HD(l);case"Dummy":return new BD}throw new Error(`Unknown IR type: ${l[0]}`)}const Dw={COLORED:1,UNCOLORED:2},dm=class dm{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Mm("TilingType: "+o);const m=e[0],v=e[1],b=e[2],A=e[3],S=b-m,w=A-v,M=vt.singularValueDecompose2dScale(this.matrix),T=vt.singularValueDecompose2dScale(this.baseTransform),L=M[0]*T[0],O=M[1]*T[1];let P=S,F=w,I=!1,G=!1;const K=Math.ceil(f*L),tt=Math.ceil(p*O),it=Math.ceil(S*L),st=Math.ceil(w*O);K>=it?P=f:I=!0,tt>=st?F=p:G=!0;const ft=this.getSizeAndScale(P,this.ctx.canvas.width,L),pt=this.getSizeAndScale(F,this.ctx.canvas.height,O),rt=t.cachedCanvases.getCanvas("pattern",ft.size,pt.size),ct=rt.context,H=d.createCanvasGraphics(ct);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,r,u),ct.translate(-ft.scale*m,-pt.scale*v),H.transform(ft.scale,0,0,pt.scale,0,0),ct.save(),this.clipBbox(H,m,v,b,A),H.baseTransform=Me(H.ctx),H.executeOperatorList(s),H.endDrawing(),ct.restore(),I||G){const q=rt.canvas;I&&(P=f),G&&(F=p);const W=this.getSizeAndScale(P,this.ctx.canvas.width,L),yt=this.getSizeAndScale(F,this.ctx.canvas.height,O),N=W.size,$=yt.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",N,$),et=nt.context,ht=I?Math.floor(S/f):0,xt=G?Math.floor(w/p):0;for(let ut=0;ut<=ht;ut++)for(let Tt=0;Tt<=xt;Tt++)et.drawImage(q,N*ut,$*Tt,N,$,0,0,N,$);return{canvas:nt.canvas,scaleX:W.scale,scaleY:yt.scale,offsetX:m,offsetY:v}}return{canvas:rt.canvas,scaleX:ft.scale,scaleY:pt.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,s){const r=Math.max(dm.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const u=r-e,d=o-s;t.ctx.rect(e,s,u,d),t.current.updateRectMinMax(Me(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case Dw.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case Dw.UNCOLORED:const d=vt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new hD(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==Xn.SHADING&&(o=vt.transform(o,e.baseTransform),this.matrix&&(o=vt.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};Rt(dm,"MAX_PATTERN_SIZE",3e3);let Xb=dm;function jD({src:l,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=Yn.isLittleEndian?4278190080:255,[f,p]=u?[o,d]:[d,o],m=s>>3,v=s&7,b=l.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<r;S++){for(const M=t+m;t<M;t++){const T=t<b?l[t]:255;e[A++]=T&128?p:f,e[A++]=T&64?p:f,e[A++]=T&32?p:f,e[A++]=T&16?p:f,e[A++]=T&8?p:f,e[A++]=T&4?p:f,e[A++]=T&2?p:f,e[A++]=T&1?p:f}if(v===0)continue;const w=t<b?l[t++]:255;for(let M=0;M<v;M++)e[A++]=w&1<<7-M?p:f}return{srcPos:t,destPos:A}}const kw=16,Nw=100,UD=15,Pw=10,Fw=1e3,ri=16;function GD(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},l.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},l.transform=function(s,r,o,u,d,f){t.transform(s,r,o,u,d,f),this.__originalTransform(s,r,o,u,d,f)},l.setTransform=function(s,r,o,u,d,f){t.setTransform(s,r,o,u,d,f),this.__originalSetTransform(s,r,o,u,d,f)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(s){t.rotate(s),this.__originalRotate(s)},l.clip=function(s){t.clip(s),this.__originalClip(s)},l.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},l.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},l.bezierCurveTo=function(e,s,r,o,u,d){t.bezierCurveTo(e,s,r,o,u,d),this.__originalBezierCurveTo(e,s,r,o,u,d)},l.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class qD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function ug(l,t,e,s,r,o,u,d,f,p){const[m,v,b,A,S,w]=Me(l);if(v===0&&b===0){const L=u*m+S,O=Math.round(L),P=d*A+w,F=Math.round(P),I=(u+f)*m+S,G=Math.abs(Math.round(I)-O)||1,K=(d+p)*A+w,tt=Math.abs(Math.round(K)-F)||1;return l.setTransform(Math.sign(m),0,0,Math.sign(A),O,F),l.drawImage(t,e,s,r,o,0,0,G,tt),l.setTransform(m,v,b,A,S,w),[G,tt]}if(m===0&&A===0){const L=d*b+S,O=Math.round(L),P=u*v+w,F=Math.round(P),I=(d+p)*b+S,G=Math.abs(Math.round(I)-O)||1,K=(u+f)*v+w,tt=Math.abs(Math.round(K)-F)||1;return l.setTransform(0,Math.sign(v),Math.sign(b),0,O,F),l.drawImage(t,e,s,r,o,0,0,tt,G),l.setTransform(m,v,b,A,S,w),[tt,G]}l.drawImage(t,e,s,r,o,u,d,f,p);const M=Math.hypot(m,v),T=Math.hypot(b,A);return[M*f,T*p]}function VD(l){const{width:t,height:e}=l;if(t>Fw||e>Fw)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let u=new Uint8Array(o*(e+1)),d,f,p;const m=t+7&-8;let v=new Uint8Array(m*e),b=0;for(const T of l.data){let L=128;for(;L>0;)v[b++]=T&L?0:255,L>>=1}let A=0;for(b=0,v[b]!==0&&(u[0]=1,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[f]=v[b]?2:1,++A),b++;for(v[b]!==0&&(u[f]=2,++A),d=1;d<e;d++){b=d*m,p=d*o,v[b-m]!==v[b]&&(u[p]=v[b]?1:8,++A);let T=(v[b]?4:0)+(v[b-m]?8:0);for(f=1;f<t;f++)T=(T>>2)+(v[b+1]?4:0)+(v[b-m+1]?8:0),r[T]&&(u[p+f]=r[T],++A),b++;if(v[b-m]!==v[b]&&(u[p+f]=v[b]?2:4,++A),A>s)return null}for(b=m*(e-1),p=d*o,v[b]!==0&&(u[p]=8,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[p+f]=v[b]?4:8,++A),b++;if(v[b]!==0&&(u[p+f]=4,++A),A>s)return null;const S=new Int32Array([0,o,-1,0,-o,0,0,0,1]),w=new Path2D;for(d=0;A&&d<=e;d++){let T=d*o;const L=T+t;for(;T<L&&!u[T];)T++;if(T===L)continue;w.moveTo(T%o,d);const O=T;let P=u[T];do{const F=S[P];do T+=F;while(!u[T]);const I=u[T];I!==5&&I!==10?(P=I,u[T]=0):(P=I&51*P>>4,u[T]&=P>>2|P<<2),w.lineTo(T%o,T/o|0),u[T]||--A}while(O!==T);--d}return v=null,u=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(w),T.beginPath(),T.restore()}}class zw{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Fx,this.textMatrixScale=1,this.fontMatrix=vb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=On.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=vt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=vt.applyTransform(e,t),r=vt.applyTransform(e.slice(2),t),o=vt.applyTransform([e[0],e[3]],t),u=vt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],u[1])}updateScalingPathMinMax(t,e){vt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,u,d,f,p,m){const v=vt.bezierBoundingBox(e,s,r,o,u,d,f,p,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Xn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Xn.STROKE){e||Se("Stroke bounding box must include transform.");const r=vt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=u,s[2]+=o,s[3]+=u}return s}updateClipFromPath(){const t=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Xn.FILL,e=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Hw(l,t){if(typeof ImageData<"u"&&t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%ri,o=(e-r)/ri,u=r===0?o:o+1,d=l.createImageData(s,ri);let f=0,p;const m=t.data,v=d.data;let b,A,S,w;if(t.kind===yg.GRAYSCALE_1BPP){const M=m.byteLength,T=new Uint32Array(v.buffer,0,v.byteLength>>2),L=T.length,O=s+7>>3,P=4294967295,F=Yn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(S=b<o?ri:r,p=0,A=0;A<S;A++){const I=M-f;let G=0;const K=I>O?s:I*8-7,tt=K&-8;let it=0,st=0;for(;G<tt;G+=8)st=m[f++],T[p++]=st&128?P:F,T[p++]=st&64?P:F,T[p++]=st&32?P:F,T[p++]=st&16?P:F,T[p++]=st&8?P:F,T[p++]=st&4?P:F,T[p++]=st&2?P:F,T[p++]=st&1?P:F;for(;G<K;G++)it===0&&(st=m[f++],it=128),T[p++]=st&it?P:F,it>>=1}for(;p<L;)T[p++]=0;l.putImageData(d,0,b*ri)}}else if(t.kind===yg.RGBA_32BPP){for(A=0,w=s*ri*4,b=0;b<o;b++)v.set(m.subarray(f,f+w)),f+=w,l.putImageData(d,0,A),A+=ri;b<u&&(w=s*r*4,v.set(m.subarray(f,f+w)),l.putImageData(d,0,A))}else if(t.kind===yg.RGB_24BPP)for(S=ri,w=s*S,b=0;b<u;b++){for(b>=o&&(S=r,w=s*S),p=0,A=w;A--;)v[p++]=m[f++],v[p++]=m[f++],v[p++]=m[f++],v[p++]=255;l.putImageData(d,0,b*ri)}else throw new Error(`bad image kind: ${t.kind}`)}function Bw(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%ri,o=(e-r)/ri,u=r===0?o:o+1,d=l.createImageData(s,ri);let f=0;const p=t.data,m=d.data;for(let v=0;v<u;v++){const b=v<o?ri:r;({srcPos:f}=jD({src:p,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),l.putImageData(d,0,v*ri)}}function id(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)l[s]!==void 0&&(t[s]=l[s]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function hg(l){if(l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0),!Hn){const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}}function Iw(l,t){if(t)return!0;const e=vt.singularValueDecompose2dScale(l);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*po.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const XD=["butt","round","square"],YD=["miter","round","bevel"],$D={},jw={};var yo,Yb,$b;const fA=class fA{constructor(t,e,s,r,o,{optionalContentConfig:u,markedContentStack:d=null},f,p){R(this,yo);this.ctx=t,this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new qD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Me(this.compositeCtx))}this.ctx.save(),hg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Me(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,u=t.fnArray;let d=e||0;const f=o.length;if(f===d)return d;const p=f-d>Pw&&typeof s=="function",m=p?Date.now()+UD:0;let v=0;const b=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(S=u[d],S!==ls.dependency)this[S].apply(this,o[d]);else for(const w of o[d]){const M=w.startsWith("g_")?b:A;if(!M.has(w))return M.get(w,s),d}if(d++,d===f)return d;if(p&&++v>Pw){if(Date.now()>m)return s(),d;v=0}}}endDrawing(){x(this,yo,Yb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),x(this,yo,$b).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=s,f=r,p="prescale1",m,v;for(;o>2&&d>1||u>2&&f>1;){let b=d,A=f;o>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/b),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),m=this.cachedCanvases.getCanvas(p,b,A),v=m.context,v.clearRect(0,0,b,A),v.drawImage(t,0,0,d,f,0,0,b,A),t=m.canvas,d=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,u=this.current.patternFill,d=Me(e);let f,p,m,v;if((t.bitmap||t.data)&&t.count>1){const K=t.bitmap||t.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(K),f||(f=new Map,this._cachedBitmapsMap.set(K,f));const tt=f.get(p);if(tt&&!u){const it=Math.round(Math.min(d[0],d[2])+d[4]),st=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:tt,offsetX:it,offsetY:st}}m=tt}m||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),Bw(v.context,t));let b=vt.transform(d,[1/s,0,0,-1/r,0,0]);b=vt.transform(b,[1,0,0,1,0,-r]);const[A,S,w,M]=vt.getAxialAlignedBoundingBox([0,0,s,r],b),T=Math.round(w-A)||1,L=Math.round(M-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",T,L),P=O.context,F=A,I=S;P.translate(-F,-I),P.transform(...b),m||(m=this._scaleImage(v.canvas,xa(P)),m=m.img,f&&u&&f.set(p,m)),P.imageSmoothingEnabled=Iw(Me(P),t.interpolate),ug(P,m,0,0,m.width,m.height,0,0,s,r),P.globalCompositeOperation="source-in";const G=vt.transform(xa(P),[1,0,0,1,-F,-I]);return P.fillStyle=u?o.getPattern(e,this,G,Xn.FILL):o,P.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(F),offsetY:Math.round(I)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=XD[t]}setLineJoin(t){this.ctx.lineJoin=YD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Me(this.suspendedCtx)),id(this.suspendedCtx,o),GD(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],u=r[1],d=r[2]-o,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,s,d,f,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,u,d,f,p,m,v){let b=t.canvas,A=f-m,S=p-v;if(u){const M=vt.makeHexColor(...u);if(A<0||S<0||A+s>b.width||S+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),L=T.context;L.drawImage(b,-A,-S),L.globalCompositeOperation="destination-atop",L.fillStyle=M,L.fillRect(0,0,s,r),L.globalCompositeOperation="source-over",b=T.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,S,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,S,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const w=new Path2D;w.rect(f,p,s,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,A,S,s,r,f,p,s,r),e.restore()}save(){this.inSMaskMode?(id(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),id(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,u){this.ctx.transform(t,e,s,r,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let u=o.x,d=o.y,f,p;const m=Me(r),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=v?s.slice(0):null;for(let A=0,S=0,w=t.length;A<w;A++)switch(t[A]|0){case ls.rectangle:u=e[S++],d=e[S++];const M=e[S++],T=e[S++],L=u+M,O=d+T;r.moveTo(u,d),M===0||T===0?r.lineTo(L,O):(r.lineTo(L,d),r.lineTo(L,O),r.lineTo(u,O)),v||o.updateRectMinMax(m,[u,d,L,O]),r.closePath();break;case ls.moveTo:u=e[S++],d=e[S++],r.moveTo(u,d),v||o.updatePathMinMax(m,u,d);break;case ls.lineTo:u=e[S++],d=e[S++],r.lineTo(u,d),v||o.updatePathMinMax(m,u,d);break;case ls.curveTo:f=u,p=d,u=e[S+4],d=e[S+5],r.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],u,d),o.updateCurvePathMinMax(m,f,p,e[S],e[S+1],e[S+2],e[S+3],u,d,b),S+=6;break;case ls.curveTo2:f=u,p=d,r.bezierCurveTo(u,d,e[S],e[S+1],e[S+2],e[S+3]),o.updateCurvePathMinMax(m,f,p,u,d,e[S],e[S+1],e[S+2],e[S+3],b),u=e[S+2],d=e[S+3],S+=4;break;case ls.curveTo3:f=u,p=d,u=e[S+2],d=e[S+3],r.bezierCurveTo(e[S],e[S+1],u,d,u,d),o.updateCurvePathMinMax(m,f,p,e[S],e[S+1],u,d,u,d,b),S+=4;break;case ls.closePath:r.closePath();break}v&&o.updateScalingPathMinMax(m,b),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,xa(e),Xn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,xa(e),Xn.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$D}eoClip(){this.pendingClip=jw}beginText(){this.current.textMatrix=Fx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||vb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let p=e;e<kw?p=kw:e>Nw&&(p=Nw),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,u){this.current.textMatrix=[t,e,s,r,o,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&On.FILL_STROKE_MASK,v=!!(f&On.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile;let A;(d.disableFontFace||v||b)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b?(o.save(),o.translate(e,s),o.beginPath(),A(o,p),r&&o.setTransform(...r),(m===On.FILL||m===On.FILL_STROKE)&&o.fill(),(m===On.STROKE||m===On.FILL_STROKE)&&o.stroke(),o.restore()):((m===On.FILL||m===On.FILL_STROKE)&&o.fillText(t,e,s),(m===On.STROKE||m===On.FILL_STROKE)&&o.strokeText(t,e,s)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Me(o),x:e,y:s,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Yt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,v=t.length,b=s.vertical,A=b?1:-1,S=s.defaultVMetrics,w=r*e.fontMatrix[0],M=e.textRenderingMode===On.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),p>0?o.scale(m,-1):o.scale(m,1);let T;if(e.patternFill){o.save();const I=e.fillColor.getPattern(o,this,xa(o),Xn.FILL);T=Me(o),o.restore(),o.fillStyle=I}let L=e.lineWidth;const O=e.textMatrixScale;if(O===0||L===0){const I=e.textRenderingMode&On.FILL_STROKE_MASK;(I===On.STROKE||I===On.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=O;if(u!==1&&(o.scale(u,u),L/=u),o.lineWidth=L,s.isInvalidPDFjsFont){const I=[];let G=0;for(const K of t)I.push(K.unicode),G+=K.width;o.fillText(I.join(""),0,0),e.x+=G*w*m,o.restore(),this.compose();return}let P=0,F;for(F=0;F<v;++F){const I=t[F];if(typeof I=="number"){P+=A*I*r/1e3;continue}let G=!1;const K=(I.isSpace?f:0)+d,tt=I.fontChar,it=I.accent;let st,ft,pt=I.width;if(b){const ct=I.vmetric||S,H=-(I.vmetric?ct[1]:pt*.5)*w,q=ct[2]*w;pt=ct?-ct[0]:pt,st=H/u,ft=(P+q)/u}else st=P/u,ft=0;if(s.remeasure&&pt>0){const ct=o.measureText(tt).width*1e3/r*u;if(pt<ct&&this.isFontSubpixelAAEnabled){const H=pt/ct;G=!0,o.save(),o.scale(H,1),st/=H}else pt!==ct&&(st+=(pt-ct)/2e3*r/u)}if(this.contentVisible&&(I.isInFont||s.missingFile)){if(M&&!it)o.fillText(tt,st,ft);else if(this.paintChar(tt,st,ft,T),it){const ct=st+r*it.offset.x/u,H=ft-r*it.offset.y/u;this.paintChar(it.fontChar,ct,H,T)}}const rt=b?pt*w-K*p:pt*w+K*p;P+=rt,G&&o.restore()}b?e.y-=P:e.x+=P*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,m=s.textHScale*u,v=s.fontMatrix||vb,b=t.length,A=s.textRenderingMode===On.INVISIBLE;let S,w,M,T;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,u),S=0;S<b;++S){if(w=t[S],typeof w=="number"){T=d*w*o/1e3,this.ctx.translate(T,0),s.x+=T*m;continue}const L=(w.isSpace?p:0)+f,O=r.charProcOperatorList[w.operatorListId];if(!O){zt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(o,o),e.transform(...v),this.executeOperatorList(O),this.restore()),M=vt.applyTransform([w.width,0],v)[0]*o+L,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,u){this.ctx.rect(s,r,o-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||Me(this.ctx),o={createCanvasGraphics:u=>new fA(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Xb(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=vt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=vt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=ID(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,xa(e),Xn.SHADING);const r=xa(e);if(r){const{width:o,height:u}=e.canvas,[d,f,p,m]=vt.getAxialAlignedBoundingBox([0,0,o,u],r);this.ctx.fillRect(d,f,p-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Se("Should not call beginInlineImage")}beginImageData(){Se("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Me(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(Me(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Mm("TODO: Support non-isolated groups."),t.knockout&&zt("Knockout groups not supported.");const s=Me(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=vt.getAxialAlignedBoundingBox(t.bbox,Me(e));const o=[0,0,e.canvas.width,e.canvas.height];r=vt.intersect(r,o)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,p),b=v.context;b.translate(-u,-d),b.transform(...s),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),id(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Me(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=vt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(x(this,yo,Yb).call(this),hg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,p]=vt.singularValueDecompose2dScale(Me(this.ctx)),{viewportScale:m}=this,v=Math.ceil(u*this.outputScaleX*m),b=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,d*p),hg(this.ctx)}else hg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,yo,$b).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=VD(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),u=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=Me(d);d.transform(e,s,r,o,0,0);const p=this._createMaskCanvas(t);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,v=u.length;m<v;m+=2){const b=vt.transform(f,[e,s,r,o,u[m],u[m+1]]),[A,S]=vt.applyTransform([0,0],b);d.drawImage(p.canvas,A,S)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:u,width:d,height:f,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const b=this.getObject(u,o);Bw(v,b),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,xa(e),Xn.FILL):s,v.fillRect(0,0,d,f),v.restore(),e.save(),e.transform(...p),e.scale(1,-1),ug(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){zt("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[e,0,0,s,r[p],r[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!Hn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;Hw(f,t),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,xa(r));r.imageSmoothingEnabled=Iw(Me(r),t.interpolate),ug(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;Hw(f,t),r=this.applyTransferMapsToCanvas(f)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),ug(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===jw?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Me(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(e),p=Math.abs(o);if(f===p)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/p;else{const m=f*t,v=p*t;u=m<1?1/m:1,d=v<1?1/v:1}}else{const f=Math.abs(e*o-s*r),p=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)u=m/f,d=p/f;else{const v=t*f;u=m>v?m/v:1,d=p>v?p/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,o),u.length>0){const d=Math.max(r,o);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};yo=new WeakSet,Yb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$b=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Kc=fA;for(const l in ls)Kc.prototype[l]!==void 0&&(Kc.prototype[ls[l]]=Kc.prototype[l]);var $d,Kd;class Ja{static get workerPort(){return h(this,$d)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,$d,t)}static get workerSrc(){return h(this,Kd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,Kd,t)}}$d=new WeakMap,Kd=new WeakMap,R(Ja,$d,null),R(Ja,Kd,"");const dg={DATA:1,ERROR:2},Ye={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vi(l){switch(l instanceof Error||typeof l=="object"&&l!==null||Se('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new Jl(l.message);case"MissingPDFException":return new Zl(l.message);case"PasswordException":return new bb(l.message,l.code);case"UnexpectedResponseException":return new Lm(l.message,l.status);case"UnknownErrorException":return new Ab(l.message,l.details);default:return new Ab(l.message,l.toString())}}var fu,es,A1,S1,E1,xg;class dd{constructor(t,e,s){R(this,es);R(this,fu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",x(this,es,A1).bind(this),{signal:h(this,fu).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:o,data:e,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Ye.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{sn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Ye.CANCEL,streamId:o,reason:vi(p)}),m.promise}},s)}destroy(){var t;(t=h(this,fu))==null||t.abort(),_(this,fu,null)}}fu=new WeakMap,es=new WeakSet,A1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){x(this,es,E1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===dg.DATA)r.resolve(t.data);else if(t.callback===dg.ERROR)r.reject(vi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){o.postMessage({sourceName:s,targetName:r,callback:dg.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:s,targetName:r,callback:dg.ERROR,callbackId:t.callbackId,reason:vi(u)})});return}if(t.streamId){x(this,es,S1).call(this,t);return}e(t.data)},S1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(p,m=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Ye.ENQUEUE,streamId:e,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ye.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){sn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ye.ERROR,streamId:e,reason:vi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(d(t.data,f))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ye.START_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Ye.START_COMPLETE,streamId:e,reason:vi(p)})})},E1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Ye.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(vi(t.reason));break;case Ye.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(vi(t.reason));break;case Ye.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=d.onPull)==null?void 0:p.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Ye.PULL_COMPLETE,streamId:e,reason:vi(f)})});break;case Ye.ENQUEUE:if(sn(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ye.CLOSE:if(sn(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),x(this,es,xg).call(this,u,e);break;case Ye.ERROR:sn(u,"error should have stream controller"),u.controller.error(vi(t.reason)),x(this,es,xg).call(this,u,e);break;case Ye.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(vi(t.reason)),x(this,es,xg).call(this,u,e);break;case Ye.CANCEL:if(!d)break;new Promise(function(f){var p;f((p=d.onCancel)==null?void 0:p.call(d,vi(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:e,reason:vi(f)})}),d.sinkCapability.reject(vi(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},xg=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var dl,Wd;class KD{constructor({parsedData:t,rawData:e}){R(this,dl);R(this,Wd);_(this,dl,t),_(this,Wd,e)}getRaw(){return h(this,Wd)}get(t){return h(this,dl).get(t)??null}getAll(){return Z0(h(this,dl))}has(t){return h(this,dl).has(t)}}dl=new WeakMap,Wd=new WeakMap;const Gc=Symbol("INTERNAL");var Qd,Zd,Jd,pu;class WD{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){R(this,Qd,!1);R(this,Zd,!1);R(this,Jd,!1);R(this,pu,!0);_(this,Qd,!!(t&Ci.DISPLAY)),_(this,Zd,!!(t&Ci.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(h(this,Jd))return h(this,pu);if(!h(this,pu))return!1;const{print:t,view:e}=this.usage;return h(this,Qd)?(e==null?void 0:e.viewState)!=="OFF":h(this,Zd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Gc&&Se("Internal method `_setVisible` called."),_(this,Jd,s),_(this,pu,e)}}Qd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,pu=new WeakMap;var Kr,oe,gu,mu,tf,Kb;class QD{constructor(t,e=Ci.DISPLAY){R(this,tf);R(this,Kr,null);R(this,oe,new Map);R(this,gu,null);R(this,mu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,mu,t.order);for(const s of t.groups)h(this,oe).set(s.id,new WD(e,s));if(t.baseState==="OFF")for(const s of h(this,oe).values())s._setVisible(Gc,!1);for(const s of t.on)h(this,oe).get(s)._setVisible(Gc,!0);for(const s of t.off)h(this,oe).get(s)._setVisible(Gc,!1);_(this,gu,this.getHash())}}isVisible(t){if(h(this,oe).size===0)return!0;if(!t)return Mm("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,oe).has(t.id)?h(this,oe).get(t.id).visible:(zt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return x(this,tf,Kb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,oe).has(e))return zt(`Optional content group not found: ${e}`),!0;if(h(this,oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,oe).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!h(this,oe).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,oe).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!h(this,oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,oe).has(e))return zt(`Optional content group not found: ${e}`),!0;if(h(this,oe).get(e).visible)return!1}return!0}return zt(`Unknown optional content policy ${t.policy}.`),!0}return zt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=h(this,oe).get(t);if(!r){zt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const d of u)d!==t&&((o=h(this,oe).get(d))==null||o._setVisible(Gc,!1,!0));r._setVisible(Gc,!!e,!0),_(this,Kr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=h(this,oe).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}_(this,Kr,null)}get hasInitialVisibility(){return h(this,gu)===null||this.getHash()===h(this,gu)}getOrder(){return h(this,oe).size?h(this,mu)?h(this,mu).slice():[...h(this,oe).keys()]:null}getGroups(){return h(this,oe).size>0?Z0(h(this,oe)):null}getGroup(t){return h(this,oe).get(t)||null}getHash(){if(h(this,Kr)!==null)return h(this,Kr);const t=new c1;for(const[e,s]of h(this,oe))t.update(`${e}:${s.visible}`);return _(this,Kr,t.hexdigest())}}Kr=new WeakMap,oe=new WeakMap,gu=new WeakMap,mu=new WeakMap,tf=new WeakSet,Kb=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let u;if(Array.isArray(o))u=x(this,tf,Kb).call(this,o);else if(h(this,oe).has(o))u=h(this,oe).get(o).visible;else return zt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class ZD{constructor(t,{disableRange:e=!1,disableStream:s=!1}){sn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});sn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){sn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new JD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new t2(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class JD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=eA(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class t2{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function e2(l){let t=!0,e=s("filename\\*","i").exec(l);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=p(m),o(m)}if(e=u(l),e){const m=p(e);return o(m)}if(e=s("filename","i").exec(l),e){e=e[1];let m=d(e);return m=p(m),o(m)}function s(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(m,{fatal:!0}),A=Om(v);v=b.decode(A),t=!1}catch{}}return v}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function u(m){const v=[];let b;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,w,M,T]=b;if(w=parseInt(w,10),w in v){if(w===0)break;continue}v[w]=[M,T]}const S=[];for(let w=0;w<v.length&&w in v;++w){let[M,T]=v[w];T=d(T),M&&(T=unescape(T),w===0&&(T=f(T))),S.push(T)}return S.join("")}function d(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let b=0;b<v.length;++b){const A=v[b].indexOf('"');A!==-1&&(v[b]=v[b].slice(0,A),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function f(m){const v=m.indexOf("'");if(v===-1)return m;const b=m.slice(0,v),S=m.slice(v+1).replace(/^[^']*'/,"");return r(b,S)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function rA(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function oA({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function lA(l){const t=l.get("Content-Disposition");if(t){let e=e2(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(eA(e))return e}return null}function Nm(l,t){return l===404||l===0&&t.startsWith("file:")?new Zl('Missing PDF "'+t+'".'):new Lm(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l)}function _1(l){return l===200||l===206}function w1(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function x1(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(zt(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class Uw{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n2(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new i2(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class n2{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,w1(s,this._withCredentials,this._abortController)).then(o=>{if(!_1(o.status))throw Nm(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:d,suggestedLength:f}=oA({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=lA(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Jl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:x1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class i2{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,w1(o,this._withCredentials,this._abortController)).then(d=>{if(!_1(d.status))throw Nm(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:x1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const lb=200,cb=206;function s2(l){const t=l.response;return typeof t!="string"?t:Om(t).buffer}class a2{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rA(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=cb):r.expectedStatus=lb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,p,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const o=r.status||lb;if(!(o===lb&&s.expectedStatus===cb)&&o!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const d=s2(r);if(o===cb){const v=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);s.onDone({begin:parseInt(b[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class r2{constructor(t){this._source=t,this._manager=new a2(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return sn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o2(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new l2(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class o2{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=oA({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=lA(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Nm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l2{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Nm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const c2=/^[a-z][a-z0-9\-+.]+:/i;function u2(l){if(c2.test(l))return new URL(l);const t=go.get("url");return new URL(t.pathToFileURL(l))}function T1(l,t,e){return l.protocol==="http:"?go.get("http").request(l,{headers:t},e):go.get("https").request(l,{headers:t},e)}class h2{constructor(t){this.source=t,this.url=u2(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=rA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p2(this):new d2(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new g2(this,t,e):new f2(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class C1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Jl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class d2 extends C1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new Zl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=oA({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=lA(o)};this._request=T1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class f2 extends R1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=u=>{if(u.statusCode===404){const d=new Zl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=T1(this._url,r,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class p2 extends C1{constructor(t){super(t);const e=go.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Zl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class g2 extends R1{constructor(t,e,s){super(t);const r=go.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const m2=1e5,ei=30,y2=.8;var ix,Wr,si,ef,nf,fl,Pa,sf,af,pl,yu,vu,Qr,bu,rf,Au,gl,of,lf,ze,ml,yl,cf,Zr,Su,ar,M1,L1,Qb,Li,Tg,Zb,O1,D1;let Wb=(ze=class{constructor({textContentSource:t,container:e,viewport:s}){R(this,ar);R(this,Wr,Promise.withResolvers());R(this,si,null);R(this,ef,!1);R(this,nf,!!((ix=globalThis.FontInspector)!=null&&ix.enabled));R(this,fl,null);R(this,Pa,null);R(this,sf,0);R(this,af,0);R(this,pl,null);R(this,yu,null);R(this,vu,0);R(this,Qr,0);R(this,bu,Object.create(null));R(this,rf,[]);R(this,Au,null);R(this,gl,[]);R(this,of,new WeakMap);R(this,lf,null);var f;if(t instanceof ReadableStream)_(this,Au,t);else if(typeof t=="object")_(this,Au,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,si,_(this,yu,e)),_(this,Qr,s.scale*(globalThis.devicePixelRatio||1)),_(this,vu,s.rotation),_(this,Pa,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:u,pageY:d}=s.rawDims;_(this,lf,[1,0,0,-1,-u,d+o]),_(this,af,r),_(this,sf,o),x(f=ze,Li,O1).call(f),Xl(e,s),h(this,Wr).promise.finally(()=>{h(ze,Su).delete(this),_(this,Pa,null),_(this,bu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Yn.platform;return Yt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,pl).read().then(({value:e,done:s})=>{if(s){h(this,Wr).resolve();return}h(this,fl)??_(this,fl,e.lang),Object.assign(h(this,bu),e.styles),x(this,ar,M1).call(this,e.items),t()},h(this,Wr).reject)};return _(this,pl,h(this,Au).getReader()),h(ze,Su).add(this),t(),h(this,Wr).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,vu)&&(e==null||e(),_(this,vu,r),Xl(h(this,yu),{rotation:r})),s!==h(this,Qr)){e==null||e(),_(this,Qr,s);const u={div:null,properties:null,ctx:x(o=ze,Li,Tg).call(o,h(this,fl))};for(const d of h(this,gl))u.properties=h(this,of).get(d),u.div=d,x(this,ar,Qb).call(this,u)}}cancel(){var e;const t=new Jl("TextLayer task cancelled.");(e=h(this,pl))==null||e.cancel(t).catch(()=>{}),_(this,pl,null),h(this,Wr).reject(t)}get textDivs(){return h(this,gl)}get textContentItemsStr(){return h(this,rf)}static cleanup(){if(!(h(this,Su).size>0)){h(this,ml).clear();for(const{canvas:t}of h(this,yl).values())t.remove();h(this,yl).clear()}}},Wr=new WeakMap,si=new WeakMap,ef=new WeakMap,nf=new WeakMap,fl=new WeakMap,Pa=new WeakMap,sf=new WeakMap,af=new WeakMap,pl=new WeakMap,yu=new WeakMap,vu=new WeakMap,Qr=new WeakMap,bu=new WeakMap,rf=new WeakMap,Au=new WeakMap,gl=new WeakMap,of=new WeakMap,lf=new WeakMap,ml=new WeakMap,yl=new WeakMap,cf=new WeakMap,Zr=new WeakMap,Su=new WeakMap,ar=new WeakSet,M1=function(t){var r,o;if(h(this,ef))return;(o=h(this,Pa)).ctx??(o.ctx=x(r=ze,Li,Tg).call(r,h(this,fl)));const e=h(this,gl),s=h(this,rf);for(const u of t){if(e.length>m2){zt("Ignoring additional textDivs for performance reasons."),_(this,ef,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,si);_(this,si,document.createElement("span")),h(this,si).classList.add("markedContent"),u.id!==null&&h(this,si).setAttribute("id",`${u.id}`),d.append(h(this,si))}else u.type==="endMarkedContent"&&_(this,si,h(this,si).parentNode);continue}s.push(u.str),x(this,ar,L1).call(this,u)}},L1=function(t){var w;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,gl).push(e);const r=vt.transform(h(this,lf),t.transform);let o=Math.atan2(r[1],r[0]);const u=h(this,bu)[t.fontName];u.vertical&&(o+=Math.PI/2);let d=h(this,nf)&&u.fontSubstitution||u.fontFamily;d=ze.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),p=f*x(w=ze,Li,D1).call(w,d,h(this,fl));let m,v;o===0?(m=r[4],v=r[5]-p):(m=r[4]+p*Math.sin(o),v=r[5]-p*Math.cos(o));const b="calc(var(--scale-factor)*",A=e.style;h(this,si)===h(this,yu)?(A.left=`${(100*m/h(this,af)).toFixed(2)}%`,A.top=`${(100*v/h(this,sf)).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${v.toFixed(2)}px)`),A.fontSize=`${b}${(h(ze,Zr)*f).toFixed(2)}px)`,A.fontFamily=d,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,nf)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),h(this,of).set(e,s),h(this,Pa).div=e,h(this,Pa).properties=s,x(this,ar,Qb).call(this,h(this,Pa)),s.hasText&&h(this,si).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,si).append(M)}},Qb=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let u="";if(h(ze,Zr)>1&&(u=`scale(${1/h(ze,Zr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=o,{canvasWidth:p,fontSize:m}=s;x(d=ze,Li,Zb).call(d,r,m*h(this,Qr),f);const{width:v}=r.measureText(e.textContent);v>0&&(u=`scaleX(${p*h(this,Qr)/v}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(o.transform=u)},Li=new WeakSet,Tg=function(t=null){let e=h(this,yl).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,yl).set(t,e),h(this,cf).set(e,{size:0,family:""})}return e},Zb=function(t,e,s){const r=h(this,cf).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},O1=function(){if(h(this,Zr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,Zr,t.getBoundingClientRect().height),t.remove()},D1=function(t,e){const s=h(this,ml).get(t);if(s)return s;const r=x(this,Li,Tg).call(this,e);r.canvas.width=r.canvas.height=ei,x(this,Li,Zb).call(this,r,ei,t);const o=r.measureText("");let u=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,ml).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,ei,ei),r.strokeText("g",0,0);let f=r.getImageData(0,0,ei,ei).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/ei);break}r.clearRect(0,0,ei,ei),r.strokeText("A",0,ei),f=r.getImageData(0,0,ei,ei).data,u=0;for(let m=0,v=f.length;m<v;m+=4)if(f[m]>0){u=ei-Math.floor(m/4/ei);break}r.canvas.width=r.canvas.height=0;const p=u?u/(u+d):y2;return h(this,ml).set(t,p),p},R(ze,Li),R(ze,ml,new Map),R(ze,yl,new Map),R(ze,cf,new WeakMap),R(ze,Zr,null),R(ze,Su,new Set),ze);class Td{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(Td.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const p of o.children)r(p)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const v2=65536,b2=100,A2=5e3,S2=Hn?kD:LD,E2=Hn?ND:p1,_2=Hn?DD:OD,w2=Hn?PD:v1;function x2(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new Jb,{docId:e}=t,s=l.url?T2(l.url):null,r=l.data?C2(l.data):null,o=l.httpHeaders||null,u=l.withCredentials===!0,d=l.password??null,f=l.range instanceof k1?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:v2;let m=l.worker instanceof Wc?l.worker:null;const v=l.verbosity,b=typeof l.docBaseUrl=="string"&&!km(l.docBaseUrl)?l.docBaseUrl:null,A=typeof l.cMapUrl=="string"?l.cMapUrl:null,S=l.cMapPacked!==!1,w=l.CMapReaderFactory||E2,M=typeof l.standardFontDataUrl=="string"?l.standardFontDataUrl:null,T=l.StandardFontDataFactory||w2,L=l.stopAtErrors!==!0,O=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,P=l.isEvalSupported!==!1,F=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!Hn,I=typeof l.isChrome=="boolean"?l.isChrome:!Yn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),G=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,K=typeof l.disableFontFace=="boolean"?l.disableFontFace:Hn,tt=l.fontExtraProperties===!0,it=l.enableXfa===!0,st=l.ownerDocument||globalThis.document,ft=l.disableRange===!0,pt=l.disableStream===!0,rt=l.disableAutoFetch===!0,ct=l.pdfBug===!0,H=l.CanvasFactory||S2,q=l.FilterFactory||_2,W=l.enableHWA===!0,yt=f?f.length:l.length??NaN,N=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!Hn&&!K,$=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:w===p1&&T===v1&&A&&M&&ad(A,document.baseURI)&&ad(M,document.baseURI);l.canvasFactory&&Lw("`canvasFactory`-instance option, please use `CanvasFactory` instead."),l.filterFactory&&Lw("`filterFactory`-instance option, please use `FilterFactory` instead.");const nt=null;oD(v);const et={canvasFactory:new H({ownerDocument:st,enableHWA:W}),filterFactory:new q({docId:e,ownerDocument:st}),cMapReaderFactory:$?null:new w({baseUrl:A,isCompressed:S}),standardFontDataFactory:$?null:new T({baseUrl:M})};if(!m){const ut={verbosity:v,port:Ja.workerPort};m=ut.port?Wc.fromPort(ut):new Wc(ut),t._worker=m}const ht={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:rt,rangeChunkSize:p,length:yt,docBaseUrl:b,enableXfa:it,evaluatorOptions:{maxImageSize:O,disableFontFace:K,ignoreErrors:L,isEvalSupported:P,isOffscreenCanvasSupported:F,isChrome:I,canvasMaxAreaInBytes:G,fontExtraProperties:tt,useSystemFonts:N,cMapUrl:$?A:null,standardFontDataUrl:$?M:null}},xt={disableFontFace:K,fontExtraProperties:tt,ownerDocument:st,pdfBug:ct,styleElement:nt,loadingParams:{disableAutoFetch:rt,enableXfa:it}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ut=m.messageHandler.sendWithPromise("GetDocRequest",ht,r?[r.buffer]:null);let Tt;if(f)Tt=new ZD(f,{disableRange:ft,disableStream:pt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Dt;Hn?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&ad(s)?Uw:h2:Dt=ad(s)?Uw:r2,Tt=new Dt({url:s,length:yt,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:ft,disableStream:pt})}return ut.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Gt=new dd(e,Dt,m.port),Xt=new O2(Gt,t,Tt,xt,et);t._transport=Xt,Gt.send("Ready",null)})}).catch(t._capability.reject),t}function T2(l){if(l instanceof URL)return l.href;try{return new URL(l,window.location).href}catch{if(Hn&&typeof l=="string")return l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function C2(l){if(Hn&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return Om(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l==null?void 0:l.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Gw(l){return typeof l=="object"&&Number.isInteger(l==null?void 0:l.num)&&l.num>=0&&Number.isInteger(l==null?void 0:l.gen)&&l.gen>=0}var fm;const pm=class pm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Gn(pm,fm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};fm=new WeakMap,R(pm,fm,0);let Jb=pm,k1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Se("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class R2{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Jr,Fa,Ji,qc,Cg;class M2{constructor(t,e,s,r=!1){R(this,Ji);R(this,Jr,null);R(this,Fa,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new Mw:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new N1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Kf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=zr.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1}){var P,F;(P=this._stats)==null||P.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,v),{renderingIntent:A,cacheKey:S}=b;_(this,Fa,!1),x(this,Ji,Cg).call(this),d||(d=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(S);w||(w=Object.create(null),this._intentStates.set(S,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(A&Ci.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(b));const T=I=>{var G;w.renderTasks.delete(L),(this._maybeCleanupAfterRender||M)&&_(this,Fa,!0),x(this,Ji,qc).call(this,!M),I?(L.capability.reject(I),this._abortOperatorList({intentState:w,reason:I instanceof Error?I:new Error(I)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(G=globalThis.Stats)!=null&&G.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new e0({callback:T,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p});(w.renderTasks||(w.renderTasks=new Set)).add(L);const O=L.task;return Promise.all([w.displayReadyCapability.promise,d]).then(([I,G])=>{var K;if(this.destroyed){T();return}if((K=this._stats)==null||K.time("Rendering"),!(G.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:I,optionalContentConfig:G}),L.operatorListChanged()}).catch(T),O}getOperatorList({intent:t="display",annotationMode:e=zr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Td.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){u.read().then(function({value:f,done:p}){if(p){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},r)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,Fa,!1),x(this,Ji,Cg).call(this),Promise.all(t)}cleanup(t=!1){_(this,Fa,!0);const e=x(this,Ji,qc).call(this,!1);return t&&e&&this._stats&&(this._stats=new Mw),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&x(this,Ji,qc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},u).getReader(),p=this._intentStates.get(e);p.streamReader=f;const m=()=>{f.read().then(({value:v,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),m())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();x(this,Ji,qc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof tA){let r=b2;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Jl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Jr=new WeakMap,Fa=new WeakMap,Ji=new WeakSet,qc=function(t=!1){if(x(this,Ji,Cg).call(this),!h(this,Fa)||this.destroyed)return!1;if(t)return _(this,Jr,setTimeout(()=>{_(this,Jr,null),x(this,Ji,qc).call(this,!1)},A2)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Fa,!1),!0},Cg=function(){h(this,Jr)&&(clearTimeout(h(this,Jr)),_(this,Jr,null))};var za,gm;class L2{constructor(){R(this,za,new Map);R(this,gm,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,gm).then(()=>{for(const[r]of h(this,za))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){zt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}h(this,za).set(e,r)}removeEventListener(t,e){const s=h(this,za).get(e);s==null||s(),h(this,za).delete(e)}terminate(){for(const[,t]of h(this,za))t==null||t();h(this,za).clear()}}za=new WeakMap,gm=new WeakMap;var mm,vl,bl,Eu,Rg,_u,Mg;const _e=class _e{constructor({name:t=null,port:e=null,verbosity:s=lD()}={}){R(this,Eu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(_e,bl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(_e,bl)||_(_e,bl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Hn?Promise.all([go.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new dd("main","worker",t),this._messageHandler.on("ready",function(){}),x(this,Eu,Rg).call(this)}_initialize(){if(h(_e,vl)||h(_e,_u,Mg)){this._setupFakeWorker();return}let{workerSrc:t}=_e;try{_e._isSameOrigin(window.location.href,t)||(t=_e._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new dd("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,x(this,Eu,Rg).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{Mm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(_e,vl)||(zt("Setting up fake worker."),_(_e,vl,!0)),_e._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new L2;this._port=e;const s=`fake${Gn(_e,mm)._++}`,r=new dd(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new dd(s,s+"_worker",e),x(this,Eu,Rg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(_e,bl))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,bl))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new _e(t)}static get workerSrc(){if(Ja.workerSrc)return Ja.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yt(this,"_setupFakeWorkerGlobal",(async()=>h(this,_u,Mg)?h(this,_u,Mg):(await import(this.workerSrc)).WorkerMessageHandler)())}};mm=new WeakMap,vl=new WeakMap,bl=new WeakMap,Eu=new WeakSet,Rg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},_u=new WeakSet,Mg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},R(_e,_u),R(_e,mm,0),R(_e,vl,!1),R(_e,bl),Hn&&(_(_e,vl,!0),Ja.workerSrc||(Ja.workerSrc="./pdf.worker.mjs")),_e._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},_e._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Wc=_e;var Ha,qs,wu,xu,Vs,Al,fd;class O2{constructor(t,e,s,r,o){R(this,Al);R(this,Ha,new Map);R(this,qs,new Map);R(this,wu,new Map);R(this,xu,new Map);R(this,Vs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new N1,this.fontLoader=new RD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yt(this,"annotationStorage",new sA)}getRenderingIntent(t,e=zr.ENABLE,s=null,r=!1,o=!1){let u=Ci.DISPLAY,d=jb;switch(t){case"any":u=Ci.ANY;break;case"display":break;case"print":u=Ci.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&Ci.PRINT&&s instanceof h1?s:this.annotationStorage;switch(e){case zr.DISABLE:u+=Ci.ANNOTATIONS_DISABLE;break;case zr.ENABLE:break;case zr.ENABLE_FORMS:u+=Ci.ANNOTATIONS_FORMS;break;case zr.ENABLE_STORAGE:u+=Ci.ANNOTATIONS_STORAGE,d=f.serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=Ci.IS_EDITING),o&&(u+=Ci.OPLIST);const{ids:p,hash:m}=f.modifiedIds,v=[u,d.hash,m];return{renderingIntent:u,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,Vs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,qs).values())t.push(r._destroy());h(this,qs).clear(),h(this,wu).clear(),h(this,xu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Ha).clear(),this.filterFactory.destroy(),Wb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Jl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{sn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){r.close();return}sn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:u}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{sn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){r.close();return}sn(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{o.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new R2(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new bb(s.message,s.code);break;case"InvalidPDFException":r=new zx(s.message);break;case"MissingPDFException":r=new Zl(s.message);break;case"UnexpectedResponseException":r=new Lm(s.message,s.status);break;case"UnknownErrorException":r=new Ab(s.message,s.details);break;default:Se("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,Vs,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?h(this,Vs).reject(o):h(this,Vs).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){h(this,Vs).reject(o)}}else h(this,Vs).reject(new bb(s.message,s.code));return h(this,Vs).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,qs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const A=o.error;zt(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,v=new MD(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(s,v)});break;case"CopyLocalImage":const{imageRef:b}=o;sn(b,"The imageRef must be defined.");for(const A of h(this,qs).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,u])=>{var f;if(this.destroyed)return;const d=h(this,qs).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>iD&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,wu).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,xu).set(o.refStr,t);const u=new M2(e,o,this,this._params.pdfBug);return h(this,qs).set(e,u),u});return h(this,wu).set(e,r),r}getPageIndex(t){return Gw(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return x(this,Al,fd).call(this,"GetFieldObjects")}hasJSActions(){return x(this,Al,fd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,Al,fd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return x(this,Al,fd).call(this,"GetOptionalContentConfig").then(e=>new QD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Ha).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,u;return{info:r[0],metadata:r[1]?new KD(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,Ha).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,qs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Ha).clear(),this.filterFactory.destroy(!0),Wb.cleanup()}}cachedPageNumber(t){if(!Gw(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,xu).get(e)??null}}Ha=new WeakMap,qs=new WeakMap,wu=new WeakMap,xu=new WeakMap,Vs=new WeakMap,Al=new WeakSet,fd=function(t,e=null){const s=h(this,Ha).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,Ha).set(t,r),r};const fg=Symbol("INITIAL_DATA");var ps,uf,t0;class N1{constructor(){R(this,uf);R(this,ps,Object.create(null))}get(t,e=null){if(e){const r=x(this,uf,t0).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,ps)[t];if(!s||s.data===fg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,ps)[t];return!!e&&e.data!==fg}resolve(t,e=null){const s=x(this,uf,t0).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,ps)){const{data:s}=h(this,ps)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,ps,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,ps)){const{data:e}=h(this,ps)[t];e!==fg&&(yield[t,e])}}}ps=new WeakMap,uf=new WeakSet,t0=function(t){var e;return(e=h(this,ps))[t]||(e[t]={...Promise.withResolvers(),data:fg})};var to;class D2{constructor(t){R(this,to,null);_(this,to,t),this.onContinue=null}get promise(){return h(this,to).capability.promise}cancel(t=0){h(this,to).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,to).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,to);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}to=new WeakMap;var eo,Sl;const Xo=class Xo{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:b=null}){R(this,eo,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new D2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(Xo,Sl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Xo,Sl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:u}=this.params;this.gfx=new Kc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,eo)&&(window.cancelAnimationFrame(h(this,eo)),_(this,eo,null)),h(Xo,Sl).delete(this._canvas),this.callback(t||new tA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,eo,window.requestAnimationFrame(()=>{_(this,eo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Xo,Sl).delete(this._canvas),this.callback())))}};eo=new WeakMap,Sl=new WeakMap,R(Xo,Sl,new WeakSet);let e0=Xo;const k2="4.8.69",N2="3634dab10";function qw(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function sd(l){return Math.max(0,Math.min(255,255*l))}class Vw{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=sd(t),[t,t,t]}static G_HTML([t]){const e=qw(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(sd)}static RGB_HTML(t){return`#${t.map(qw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[sd(1-Math.min(1,t+r)),sd(1-Math.min(1,s+r)),sd(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,u=1-s,d=Math.min(r,o,u);return["CMYK",r,o,u,d]}}class P2{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Se("Abstract method `_createSVG` called.")}}class cA extends P2{_createSVG(t){return document.createElementNS(Ta,t)}}class P1{static setupStorage(t,e,s,r,o){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}d&&o.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var v,b;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:o,linkService:s});const d=o!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}d&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),d&&Td.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const m=[[r,-1,u]];for(;m.length>0;){const[A,S,w]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const O=document.createTextNode(M.value);p.push(O),w.append(O);continue}const L=(v=M==null?void 0:M.attributes)!=null&&v.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(w.append(L),M.attributes&&this.setAttributes({html:L,element:M,storage:e,intent:o,linkService:s}),((b=M.children)==null?void 0:b.length)>0)m.push([M,-1,L]);else if(M.value){const O=document.createTextNode(M.value);d&&Td.shouldBuildText(T)&&p.push(O),L.append(O)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Qf=1e3,F2=9,$l=new WeakSet;function er(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class z2{static create(t){switch(t.data.annotationType){case Je.LINK:return new F1(t);case Je.TEXT:return new H2(t);case Je.WIDGET:switch(t.data.fieldType){case"Tx":return new B2(t);case"Btn":return t.data.radioButton?new B1(t):t.data.checkBox?new j2(t):new U2(t);case"Ch":return new G2(t);case"Sig":return new I2(t)}return new tc(t);case Je.POPUP:return new i0(t);case Je.FREETEXT:return new q1(t);case Je.LINE:return new V2(t);case Je.SQUARE:return new X2(t);case Je.CIRCLE:return new Y2(t);case Je.POLYLINE:return new V1(t);case Je.CARET:return new K2(t);case Je.INK:return new uA(t);case Je.POLYGON:return new $2(t);case Je.HIGHLIGHT:return new X1(t);case Je.UNDERLINE:return new W2(t);case Je.SQUIGGLY:return new Q2(t);case Je.STRIKEOUT:return new Z2(t);case Je.STAMP:return new Y1(t);case Je.FILEATTACHMENT:return new J2(t);default:return new qe(t)}}}var El,Tu,Cu,hf,n0;const pA=class pA{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){R(this,hf);R(this,El,null);R(this,Tu,!1);R(this,Cu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pA._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,El)||_(this,El,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&x(this,hf,n0).call(this,e),(s=h(this,Cu))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,El)&&(x(this,hf,n0).call(this,h(this,El).rect),(t=h(this,Cu))==null||t.popup.resetEdited(),_(this,El,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof tc||(o.tabIndex=Qf);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof i0){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:d,height:f}=er(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const L=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=L}else if(this instanceof B1){const L=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=L}switch(e.borderStyle.style){case nd.SOLID:u.borderStyle="solid";break;case nd.DASHED:u.borderStyle="dashed";break;case nd.BEVELED:zt("Unimplemented border style: beveled");break;case nd.INSET:zt("Unimplemented border style: inset");break;case nd.UNDERLINE:u.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(_(this,Tu,!0),u.borderColor=vt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const p=vt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:v,pageX:b,pageY:A}=r.rawDims;u.left=`${100*(p[0]-b)/m}%`,u.top=`${100*(p[1]-A)/v}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*d/m}%`,u.height=`${100*f/v}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:u}=er(this.data.rect);let d,f;t%180===0?(d=100*o/s,f=100*u/r):(d=100*u/s,f=100*o/r),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],u=o[0],d=o.slice(1);r.target.style[s]=Vw[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:Vw[`${u}_rgb`](d)})};return Yt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const u=s[r];if(u){const d={detail:{[r]:o},target:t};u(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,T,L]=t.subarray(2,6);if(r===w&&o===M&&e===T&&s===L)return}const{style:u}=this.container;let d;if(h(this,Tu)){const{borderColor:w,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,p=o-s,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=m.createElement("defs");v.append(b);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let w=2,M=t.length;w<M;w+=8){const T=t[w],L=t[w+1],O=t[w+2],P=t[w+3],F=m.createElement("rect"),I=(O-e)/f,G=(o-L)/p,K=(T-O)/f,tt=(L-P)/p;F.setAttribute("x",I),F.setAttribute("y",G),F.setAttribute("width",K),F.setAttribute("height",tt),A.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${G}" width="${K}" height="${tt}"/>`)}h(this,Tu)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=_(this,Cu,new i0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Se("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:u,exportValues:d}of r){if(o===-1||u===e)continue;const f=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!$l.has(p)){zt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,u=r.getAttribute("data-element-id");u!==e&&$l.has(r)&&s.push({id:u,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};El=new WeakMap,Tu=new WeakMap,Cu=new WeakMap,hf=new WeakSet,n0=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:m}=er(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*p/o}%`,e.height=`${100*m/u}%`):this.setRotation(r)};let qe=pA;var Ri,jo,z1,H1;class F1 extends qe{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});R(this,Ri);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(x(this,Ri,z1).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(x(this,Ri,H1).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&x(this,Ri,jo).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),x(this,Ri,jo).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const u=r.get(o);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),x(this,Ri,jo).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),x(this,Ri,jo).call(this),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var v;r==null||r();const{fields:o,refs:u,include:d}=s,f=[];if(o.length!==0||u.length!==0){const b=new Set(u);for(const A of o){const S=this._fieldObjects[A]||[];for(const{id:w}of S)b.add(w)}for(const A of Object.values(this._fieldObjects))for(const S of A)b.has(S.id)===d&&f.push(S)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,m=[];for(const b of f){const{id:A}=b;switch(m.push(A),b.type){case"text":{const w=b.defaultValue||"";p.setValue(A,{value:w});break}case"checkbox":case"radiobutton":{const w=b.defaultValue===b.exportValues;p.setValue(A,{value:w});break}case"combobox":case"listbox":{const w=b.defaultValue||"";p.setValue(A,{value:w});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!$l.has(S)){zt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Ri=new WeakSet,jo=function(){this.container.setAttribute("data-internal-link","")},z1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},x(this,Ri,jo).call(this)},H1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),x(this,Ri,jo).call(this)};class H2 extends qe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class tc extends qe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Yn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var d;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u)}}))})}_setEventListeners(t,e,s,r){var o,u,d;for(const[f,p]of s)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":vt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||F2,o=t.style;let u;const d=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(p/(sb*r))||1,v=p/m;u=Math.min(r,f(v/sb))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(p/sb))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=vt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class B2 extends tc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),o.setValue(u.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),$l.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Qf,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let v=b=>{const{formattedValue:A}=m;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var w;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:M}=w.detail,{target:T}=w;if(M===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",M);let L=m.userValue;!L||L.length<=M||(L=L.slice(0,M),T.value=m.userValue=L,t.setValue(e,{value:L}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:w}=A.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=v;v=null,s.addEventListener("blur",A=>{var w,M;if(!m.focused||!A.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",A=>{var F;m.lastCommittedValue=null;const{data:S,target:w}=A,{value:M,selectionStart:T,selectionEnd:L}=w;let O=T,P=L;switch(A.inputType){case"deleteWordBackward":{const I=M.substring(0,T).match(/\w*[^\w]*$/);I&&(O-=I[0].length);break}case"deleteWordForward":{const I=M.substring(T).match(/^[^\w]*\w*/);I&&(P+=I[0].length);break}case"deleteContentBackward":T===L&&(O-=1);break;case"deleteContentForward":T===L&&(P+=1);break}A.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:O,selEnd:P}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&s.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class I2 extends tc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class j2 extends tc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return $l.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=Qf,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s)){const m=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class B1 extends tc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const o=document.createElement("input");if($l.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Qf,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:p=>{const m=u===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const b=m&&v.id===s;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class U2 extends F1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class G2 extends tc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");$l.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Qf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,s.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),o=!1),r.append(v)}let u=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),u=()=>{m.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=m=>{const v=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let f=d(!1);const p=m=>{const v=m.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const v={value(b){u==null||u();const A=b.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const w of r.options)w.selected=S.has(w.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,S=b.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(b){const{index:A,displayValue:S,exportValue:w}=b.detail.insert,M=r.children[A],T=document.createElement("option");T.textContent=S,T.value=w,M?M.before(T):r.append(T),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:w,exportValue:M}=S,T=document.createElement("option");T.textContent=w,T.value=M,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:p(b)}),f=d(!1)},indices(b){const A=new Set(b.detail.indices);for(const S of b.target.options)S.selected=A.has(S.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,m)}),r.addEventListener("input",m=>{var A;const v=d(!0),b=d(!1);t.setValue(e,{value:v}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class i0 extends qe{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:qe._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new q2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${J0}${s}`).join(",")),this.container}}var Ru,ym,vm,Mu,_l,Fe,Ba,Lu,df,ff,Ou,Ia,gs,ja,pf,Ua,gf,wl,xl,ge,Lg,s0,I1,j1,U1,G1,Og,Dg,a0;class q2{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:p,parentRect:m,open:v}){R(this,ge);R(this,Ru,x(this,ge,U1).bind(this));R(this,ym,x(this,ge,a0).bind(this));R(this,vm,x(this,ge,Dg).bind(this));R(this,Mu,x(this,ge,Og).bind(this));R(this,_l,null);R(this,Fe,null);R(this,Ba,null);R(this,Lu,null);R(this,df,null);R(this,ff,null);R(this,Ou,null);R(this,Ia,!1);R(this,gs,null);R(this,ja,null);R(this,pf,null);R(this,Ua,null);R(this,gf,null);R(this,wl,null);R(this,xl,!1);var b;_(this,Fe,t),_(this,gf,r),_(this,Ba,u),_(this,Ua,d),_(this,ff,f),_(this,_l,e),_(this,pf,p),_(this,Ou,m),_(this,df,s),_(this,Lu,nA.toDateObject(o)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,Mu)),A.addEventListener("mouseenter",h(this,vm)),A.addEventListener("mouseleave",h(this,ym)),A.classList.add("popupTriggerArea");for(const A of s)(b=A.container)==null||b.addEventListener("keydown",h(this,Ru));h(this,Fe).hidden=!0,v&&x(this,ge,Og).call(this)}render(){if(h(this,gs))return;const t=_(this,gs,document.createElement("div"));if(t.className="popup",h(this,_l)){const o=t.style.outlineColor=vt.makeHexColor(...h(this,_l));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=vt.makeHexColor(...h(this,_l).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,gf),t.append(e),h(this,Lu)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Lu).valueOf()})),e.append(o)}const r=h(this,ge,Lg);if(r)P1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,Ba));t.append(o)}h(this,Fe).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const d=r[o];s.append(document.createTextNode(d)),o<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,wl)||_(this,wl,{contentsObj:h(this,Ba),richText:h(this,Ua)}),t&&_(this,ja,null),e&&(_(this,Ua,x(this,ge,j1).call(this,e)),_(this,Ba,null)),(s=h(this,gs))==null||s.remove(),_(this,gs,null)}resetEdited(){var t;h(this,wl)&&({contentsObj:Gn(this,Ba)._,richText:Gn(this,Ua)._}=h(this,wl),_(this,wl,null),(t=h(this,gs))==null||t.remove(),_(this,gs,null),_(this,ja,null))}forceHide(){_(this,xl,this.isVisible),h(this,xl)&&(h(this,Fe).hidden=!0)}maybeShow(){h(this,xl)&&(h(this,gs)||x(this,ge,Dg).call(this),_(this,xl,!1),h(this,Fe).hidden=!1)}get isVisible(){return h(this,Fe).hidden===!1}}Ru=new WeakMap,ym=new WeakMap,vm=new WeakMap,Mu=new WeakMap,_l=new WeakMap,Fe=new WeakMap,Ba=new WeakMap,Lu=new WeakMap,df=new WeakMap,ff=new WeakMap,Ou=new WeakMap,Ia=new WeakMap,gs=new WeakMap,ja=new WeakMap,pf=new WeakMap,Ua=new WeakMap,gf=new WeakMap,wl=new WeakMap,xl=new WeakMap,ge=new WeakSet,Lg=function(){const t=h(this,Ua),e=h(this,Ba);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,Ua).html||null},s0=function(){var t,e,s;return((s=(e=(t=h(this,ge,Lg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},I1=function(){var t,e,s;return((s=(e=(t=h(this,ge,Lg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},j1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ge,I1),fontSize:h(this,ge,s0)?`calc(${h(this,ge,s0)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},U1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,Ia))&&x(this,ge,Og).call(this)},G1=function(){if(h(this,ja)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=h(this,ff);let u=!!h(this,Ou),d=u?h(this,Ou):h(this,pf);for(const S of h(this,df))if(!d||vt.intersect(S.data.rect,d)!==null){d=S.data.rect,u=!0;break}const f=vt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,v=f[0]+m,b=f[1];_(this,ja,[100*(v-r)/e,100*(b-o)/s]);const{style:A}=h(this,Fe);A.left=`${h(this,ja)[0]}%`,A.top=`${h(this,ja)[1]}%`},Og=function(){_(this,Ia,!h(this,Ia)),h(this,Ia)?(x(this,ge,Dg).call(this),h(this,Fe).addEventListener("click",h(this,Mu)),h(this,Fe).addEventListener("keydown",h(this,Ru))):(x(this,ge,a0).call(this),h(this,Fe).removeEventListener("click",h(this,Mu)),h(this,Fe).removeEventListener("keydown",h(this,Ru)))},Dg=function(){h(this,gs)||this.render(),this.isVisible?h(this,Ia)&&h(this,Fe).classList.add("focused"):(x(this,ge,G1).call(this),h(this,Fe).hidden=!1,h(this,Fe).style.zIndex=parseInt(h(this,Fe).style.zIndex)+1e3)},a0=function(){h(this,Fe).classList.remove("focused"),!(h(this,Ia)||!this.isVisible)&&(h(this,Fe).hidden=!0,h(this,Fe).style.zIndex=parseInt(h(this,Fe).style.zIndex)-1e3)};class q1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mf;class V2 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,mf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),o=this.svgFactory.create(s,r,!0),u=_(this,mf,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap;var yf;class X2 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,yf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),o=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,yf,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap;var vf;class Y2 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,vf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=er(e.rect),o=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,vf,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap;var bf;class V1 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,bf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:u,height:d}=er(e),f=this.svgFactory.create(u,d,!0);let p=[];for(let v=0,b=s.length;v<b;v+=2){const A=s[v]-e[0],S=e[3]-s[v+1];p.push(`${A},${S}`)}p=p.join(" ");const m=_(this,bf,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}bf=new WeakMap;class $2 extends V1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class K2 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Af;class uA extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Af,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:u,height:d}=er(e),f=this.svgFactory.create(u,d,!0);for(const p of s){let m=[];for(let b=0,A=p.length;b<A;b+=2){const S=p[b]-e[0],w=e[3]-p[b+1];m.push(`${S},${w}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);h(this,Af).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Af)}addHighlightArea(){this.container.classList.add("highlightArea")}}Af=new WeakMap;class X1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class W2 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Q2 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Z2 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Y1 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Sf,Ef,r0;class J2 extends qe{constructor(e){var r;super(e,{isRenderable:!0});R(this,Ef);R(this,Sf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",x(this,Ef,r0).bind(this)),_(this,Sf,r);const{isMac:o}=Yn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&x(this,Ef,r0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Sf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sf=new WeakMap,Ef=new WeakSet,r0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var _f,Tl,Cl,wf,Wl,$1,o0,sx;let tk=(sx=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:u,structTreeLayer:d}){R(this,Wl);R(this,_f,null);R(this,Tl,null);R(this,Cl,new Map);R(this,wf,null);this.div=t,_(this,_f,e),_(this,Tl,s),_(this,wf,d||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Cl).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;Xl(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new cA,annotationStorage:t.annotationStorage||new sA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===Je.POPUP;if(f){const v=r.get(d.id);if(!v)continue;o.elements=v}else{const{width:v,height:b}=er(d.rect);if(v<=0||b<=0)continue}o.data=d;const p=z2.create(o);if(!p.isRenderable)continue;if(!f&&d.popupRef){const v=r.get(d.popupRef);v?v.push(p):r.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await x(this,Wl,$1).call(this,m,d.id),p._isEditable&&(h(this,Cl).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}x(this,Wl,o0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Xl(e,{rotation:t.rotation}),x(this,Wl,o0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Cl).values())}getEditableAnnotation(t){return h(this,Cl).get(t)}},_f=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,wf=new WeakMap,Wl=new WeakSet,$1=async function(t,e){var u,d;const s=t.firstChild||t,r=s.id=`${J0}${e}`,o=await((u=h(this,wf))==null?void 0:u.getAriaAttributes(r));if(o)for(const[f,p]of o)s.setAttribute(f,p);this.div.append(t),(d=h(this,_f))==null||d.moveElementInDOM(this.div,t,s,!1)},o0=function(){if(!h(this,Tl))return;const t=this.div;for(const[e,s]of h(this,Tl)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}h(this,Tl).clear()},sx);const pg=/\r\n?|\n/g;var ms,Si,xf,Rl,Ei,Ke,K1,W1,Q1,kg,ir,Ng,Pg,Z1,c0,J1;const Ae=class Ae extends le{constructor(e){super({...e,name:"freeTextEditor"});R(this,Ke);R(this,ms);R(this,Si,"");R(this,xf,`${this.id}-editor`);R(this,Rl,null);R(this,Ei);_(this,ms,e.color||Ae._defaultColor||le._defaultLineColor),_(this,Ei,e.fontSize||Ae._defaultFontSize)}static get _keyboardManager(){const e=Ae.prototype,s=u=>u.isEmpty(),r=Yl.TRANSLATE_SMALL,o=Yl.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Wf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){le.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Mt.FREETEXT_SIZE:Ae._defaultFontSize=s;break;case Mt.FREETEXT_COLOR:Ae._defaultColor=s;break}}updateParams(e,s){switch(e){case Mt.FREETEXT_SIZE:x(this,Ke,K1).call(this,s);break;case Mt.FREETEXT_COLOR:x(this,Ke,W1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,Ae._defaultFontSize],[Mt.FREETEXT_COLOR,Ae._defaultColor||le._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,h(this,Ei)],[Mt.FREETEXT_COLOR,h(this,ms)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ae._internalPadding*e,-(Ae._internalPadding+h(this,Ei))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Rl,new AbortController);const e=this._uiManager.combinedSignal(h(this,Rl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,xf)),this._isDraggable=!0,(e=h(this,Rl))==null||e.abort(),_(this,Rl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Si),s=_(this,Si,x(this,Ke,Q1).call(this).trimEnd());if(e===s)return;const r=o=>{if(_(this,Si,o),!o){this.remove();return}x(this,Ke,Pg).call(this),this._uiManager.rebuild(this),x(this,Ke,kg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),x(this,Ke,kg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ae._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,xf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Ei)}px * var(--scale-factor))`,r.color=h(this,ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Jg(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[m,v]=this.pageDimensions,[b,A]=this.pageTranslation;let S,w;switch(this.rotation){case 0:S=e+(d[0]-b)/m,w=s+this.height-(d[1]-A)/v;break;case 90:S=e+(d[0]-b)/m,w=s-(d[1]-A)/v,[f,p]=[p,-f];break;case 180:S=e-this.width+(d[0]-b)/m,w=s-(d[1]-A)/v,[f,p]=[-f,-p];break;case 270:S=e+(d[0]-b-this.height*v)/m,w=s+(d[1]-A-this.width*m)/v,[f,p]=[-p,f];break}this.setAt(S*o,w*u,f,p)}else this.setAt(e*o,s*u,this.width*o,this.height*u);x(this,Ke,Pg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,w,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=x(S=Ae,ir,c0).call(S,s.getData("text")||"").replaceAll(pg,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=d,m=[],v=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(pg,"")),T!==this.editorDiv){let L=m;for(const O of this.editorDiv.childNodes){if(O===T){L=v;continue}L.push(x(w=Ae,ir,Ng).call(w,O))}}m.push(f.nodeValue.slice(0,p).replaceAll(pg,""))}else if(f===this.editorDiv){let T=m,L=0;for(const O of this.editorDiv.childNodes)L++===p&&(T=v),T.push(x(M=Ae,ir,Ng).call(M,O))}_(this,Si,`${m.join(`
`)}${o}${v.join(`
`)}`),x(this,Ke,Pg).call(this);const b=new Range;let A=m.reduce((T,L)=>T+L.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const L=T.nodeValue.length;if(A<=L){b.setStart(T,A),b.setEnd(T,A);break}A-=L}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof q1){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:m,rotation:v,id:b,popupRef:A},textContent:S,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;o=e={annotationType:Nt.FREETEXT,color:Array.from(p),fontSize:f,value:S.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:v,id:b,deleted:!1,popupRef:A}}const u=await super.deserialize(e,s,r);return _(u,Ei,e.fontSize),_(u,ms,vt.makeHexColor(...e.color)),_(u,Si,x(d=Ae,ir,c0).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=o,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ae._internalPadding*this.parentScale,r=this.getRect(s,s),o=le._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,ms)),u={annotationType:Nt.FREETEXT,color:o,fontSize:h(this,Ei),value:x(this,Ke,Z1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!x(this,Ke,J1).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,Ei)}px * var(--scale-factor))`,r.color=h(this,ms),s.replaceChildren();for(const u of h(this,Si).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const o=Ae._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,Si)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ms=new WeakMap,Si=new WeakMap,xf=new WeakMap,Rl=new WeakMap,Ei=new WeakMap,Ke=new WeakSet,K1=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,Ei))*this.parentScale),_(this,Ei,o),x(this,Ke,kg).call(this)},r=h(this,Ei);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},W1=function(e){const s=o=>{_(this,ms,this.editorDiv.style.color=o)},r=h(this,ms);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(x(r=Ae,ir,Ng).call(r,o)),s=o);return e.join(`
`)},kg=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},ir=new WeakSet,Ng=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pg,"")},Pg=function(){if(this.editorDiv.replaceChildren(),!!h(this,Si))for(const e of h(this,Si).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},Z1=function(){return h(this,Si).replaceAll(" "," ")},c0=function(e){return e.replaceAll(" "," ")},J1=function(e){const{value:s,fontSize:r,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,f)=>d!==o[f])||e.pageIndex!==u},R(Ae,ir),Rt(Ae,"_freeTextDefaultContent",""),Rt(Ae,"_internalPadding",0),Rt(Ae,"_defaultColor",null),Rt(Ae,"_defaultFontSize",10),Rt(Ae,"_type","freetext"),Rt(Ae,"_editorType",Nt.FREETEXT);let l0=Ae;class tT{toSVGPath(){Se("Abstract method `toSVGPath` must be implemented.")}get box(){Se("Abstract getter `box` must be implemented.")}serialize(t,e){Se("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Se("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Se("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var _i,ys,Du,ku,Xs,Bt,Ml,Ll,Tf,Cf,Nu,Pu,no,Rf,bm,Am,an,pd,eT,nT,iT,sT,aT,rT;const Ra=class Ra{constructor({x:t,y:e},s,r,o,u,d=0){R(this,an);R(this,_i);R(this,ys,[]);R(this,Du);R(this,ku);R(this,Xs,[]);R(this,Bt,new Float64Array(18));R(this,Ml);R(this,Ll);R(this,Tf);R(this,Cf);R(this,Nu);R(this,Pu);R(this,no,[]);_(this,_i,s),_(this,Pu,o*r),_(this,ku,u),h(this,Bt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Du,d),_(this,Cf,h(Ra,Rf)*r),_(this,Tf,h(Ra,Am)*r),_(this,Nu,r),h(this,no).push(t,e)}isEmpty(){return isNaN(h(this,Bt)[8])}add({x:t,y:e}){var tt;_(this,Ml,t),_(this,Ll,e);const[s,r,o,u]=h(this,_i);let[d,f,p,m]=h(this,Bt).subarray(8,12);const v=t-p,b=e-m,A=Math.hypot(v,b);if(A<h(this,Tf))return!1;const S=A-h(this,Cf),w=S/A,M=w*v,T=w*b;let L=d,O=f;d=p,f=m,p+=M,m+=T,(tt=h(this,no))==null||tt.push(t,e);const P=-T/S,F=M/S,I=P*h(this,Pu),G=F*h(this,Pu);return h(this,Bt).set(h(this,Bt).subarray(2,8),0),h(this,Bt).set([p+I,m+G],4),h(this,Bt).set(h(this,Bt).subarray(14,18),12),h(this,Bt).set([p-I,m-G],16),isNaN(h(this,Bt)[6])?(h(this,Xs).length===0&&(h(this,Bt).set([d+I,f+G],2),h(this,Xs).push(NaN,NaN,NaN,NaN,(d+I-s)/o,(f+G-r)/u),h(this,Bt).set([d-I,f-G],14),h(this,ys).push(NaN,NaN,NaN,NaN,(d-I-s)/o,(f-G-r)/u)),h(this,Bt).set([L,O,d,f,p,m],6),!this.isEmpty()):(h(this,Bt).set([L,O,d,f,p,m],6),Math.abs(Math.atan2(O-f,L-d)-Math.atan2(T,M))<Math.PI/2?([d,f,p,m]=h(this,Bt).subarray(2,6),h(this,Xs).push(NaN,NaN,NaN,NaN,((d+p)/2-s)/o,((f+m)/2-r)/u),[d,f,L,O]=h(this,Bt).subarray(14,18),h(this,ys).push(NaN,NaN,NaN,NaN,((L+d)/2-s)/o,((O+f)/2-r)/u),!0):([L,O,d,f,p,m]=h(this,Bt).subarray(0,6),h(this,Xs).push(((L+5*d)/6-s)/o,((O+5*f)/6-r)/u,((5*d+p)/6-s)/o,((5*f+m)/6-r)/u,((d+p)/2-s)/o,((f+m)/2-r)/u),[p,m,d,f,L,O]=h(this,Bt).subarray(12,18),h(this,ys).push(((L+5*d)/6-s)/o,((O+5*f)/6-r)/u,((5*d+p)/6-s)/o,((5*f+m)/6-r)/u,((d+p)/2-s)/o,((f+m)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,Xs),e=h(this,ys);if(isNaN(h(this,Bt)[6])&&!this.isEmpty())return x(this,an,eT).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);x(this,an,iT).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return x(this,an,nT).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,u){return new oT(t,e,s,r,o,u)}getOutlines(){var v;const t=h(this,Xs),e=h(this,ys),s=h(this,Bt),[r,o,u,d]=h(this,_i),f=new Float64Array((((v=h(this,no))==null?void 0:v.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(h(this,no)[b]-r)/u,f[b+1]=(h(this,no)[b+1]-o)/d;if(f[f.length-2]=(h(this,Ml)-r)/u,f[f.length-1]=(h(this,Ll)-o)/d,isNaN(s[6])&&!this.isEmpty())return x(this,an,sT).call(this,f);const p=new Float64Array(h(this,Xs).length+24+h(this,ys).length);let m=t.length;for(let b=0;b<m;b+=2){if(isNaN(t[b])){p[b]=p[b+1]=NaN;continue}p[b]=t[b],p[b+1]=t[b+1]}m=x(this,an,rT).call(this,p,m);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[b+A],p[m+1]=e[b+A+1],m+=2}return x(this,an,aT).call(this,p,m),this.newFreeDrawOutline(p,f,h(this,_i),h(this,Nu),h(this,Du),h(this,ku))}};_i=new WeakMap,ys=new WeakMap,Du=new WeakMap,ku=new WeakMap,Xs=new WeakMap,Bt=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Tf=new WeakMap,Cf=new WeakMap,Nu=new WeakMap,Pu=new WeakMap,no=new WeakMap,Rf=new WeakMap,bm=new WeakMap,Am=new WeakMap,an=new WeakSet,pd=function(){const t=h(this,Bt).subarray(4,6),e=h(this,Bt).subarray(16,18),[s,r,o,u]=h(this,_i);return[(h(this,Ml)+(t[0]-e[0])/2-s)/o,(h(this,Ll)+(t[1]-e[1])/2-r)/u,(h(this,Ml)+(e[0]-t[0])/2-s)/o,(h(this,Ll)+(e[1]-t[1])/2-r)/u]},eT=function(){const[t,e,s,r]=h(this,_i),[o,u,d,f]=x(this,an,pd).call(this);return`M${(h(this,Bt)[2]-t)/s} ${(h(this,Bt)[3]-e)/r} L${(h(this,Bt)[4]-t)/s} ${(h(this,Bt)[5]-e)/r} L${o} ${u} L${d} ${f} L${(h(this,Bt)[16]-t)/s} ${(h(this,Bt)[17]-e)/r} L${(h(this,Bt)[14]-t)/s} ${(h(this,Bt)[15]-e)/r} Z`},nT=function(t){const e=h(this,ys);t.push(`L${e[4]} ${e[5]} Z`)},iT=function(t){const[e,s,r,o]=h(this,_i),u=h(this,Bt).subarray(4,6),d=h(this,Bt).subarray(16,18),[f,p,m,v]=x(this,an,pd).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/o} L${f} ${p} L${m} ${v} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},sT=function(t){const e=h(this,Bt),[s,r,o,u]=h(this,_i),[d,f,p,m]=x(this,an,pd).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/u],0),this.newFreeDrawOutline(v,t,h(this,_i),h(this,Nu),h(this,Du),h(this,ku))},aT=function(t,e){const s=h(this,ys);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},rT=function(t,e){const s=h(this,Bt).subarray(4,6),r=h(this,Bt).subarray(16,18),[o,u,d,f]=h(this,_i),[p,m,v,b]=x(this,an,pd).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-u)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-u)/f],e),e+=24},R(Ra,Rf,8),R(Ra,bm,2),R(Ra,Am,h(Ra,Rf)+h(Ra,bm));let em=Ra;var Fu,Ol,Ga,Mf,wi,Lf,Ge,li,gd,md,lT;class oT extends tT{constructor(e,s,r,o,u,d){super();R(this,li);R(this,Fu);R(this,Ol,null);R(this,Ga);R(this,Mf);R(this,wi);R(this,Lf);R(this,Ge);_(this,Ge,e),_(this,wi,s),_(this,Fu,r),_(this,Lf,o),_(this,Ga,u),_(this,Mf,d),x(this,li,lT).call(this,d);const{x:f,y:p,width:m,height:v}=h(this,Ol);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/m,e[b+1]=(e[b+1]-p)/v;for(let b=0,A=s.length;b<A;b+=2)s[b]=(s[b]-f)/m,s[b+1]=(s[b+1]-p)/v}toSVGPath(){const e=[`M${h(this,Ge)[4]} ${h(this,Ge)[5]}`];for(let s=6,r=h(this,Ge).length;s<r;s+=6){if(isNaN(h(this,Ge)[s])){e.push(`L${h(this,Ge)[s+4]} ${h(this,Ge)[s+5]}`);continue}e.push(`C${h(this,Ge)[s]} ${h(this,Ge)[s+1]} ${h(this,Ge)[s+2]} ${h(this,Ge)[s+3]} ${h(this,Ge)[s+4]} ${h(this,Ge)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],u){const d=r-e,f=o-s;let p,m;switch(u){case 0:p=x(this,li,gd).call(this,h(this,Ge),e,o,d,-f),m=x(this,li,gd).call(this,h(this,wi),e,o,d,-f);break;case 90:p=x(this,li,md).call(this,h(this,Ge),e,s,d,f),m=x(this,li,md).call(this,h(this,wi),e,s,d,f);break;case 180:p=x(this,li,gd).call(this,h(this,Ge),r,s,-d,f),m=x(this,li,gd).call(this,h(this,wi),r,s,-d,f);break;case 270:p=x(this,li,md).call(this,h(this,Ge),r,o,-d,-f),m=x(this,li,md).call(this,h(this,wi),r,o,-d,-f);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return h(this,Ol)}newOutliner(e,s,r,o,u,d=0){return new em(e,s,r,o,u,d)}getNewOutline(e,s){const{x:r,y:o,width:u,height:d}=h(this,Ol),[f,p,m,v]=h(this,Fu),b=u*m,A=d*v,S=r*m+f,w=o*v+p,M=this.newOutliner({x:h(this,wi)[0]*b+S,y:h(this,wi)[1]*A+w},h(this,Fu),h(this,Lf),e,h(this,Mf),s??h(this,Ga));for(let T=2;T<h(this,wi).length;T+=2)M.add({x:h(this,wi)[T]*b+S,y:h(this,wi)[T+1]*A+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Fu=new WeakMap,Ol=new WeakMap,Ga=new WeakMap,Mf=new WeakMap,wi=new WeakMap,Lf=new WeakMap,Ge=new WeakMap,li=new WeakSet,gd=function(e,s,r,o,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=s+e[f]*o,d[f+1]=r+e[f+1]*u;return d},md=function(e,s,r,o,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=s+e[f+1]*o,d[f+1]=r+e[f]*u;return d},lT=function(e){const s=h(this,Ge);let r=s[4],o=s[5],u=r,d=o,f=r,p=o,m=r,v=o;const b=e?Math.max:Math.min;for(let T=6,L=s.length;T<L;T+=6){if(isNaN(s[T]))u=Math.min(u,s[T+4]),d=Math.min(d,s[T+5]),f=Math.max(f,s[T+4]),p=Math.max(p,s[T+5]),v<s[T+5]?(m=s[T+4],v=s[T+5]):v===s[T+5]&&(m=b(m,s[T+4]));else{const O=vt.bezierBoundingBox(r,o,...s.slice(T,T+6));u=Math.min(u,O[0]),d=Math.min(d,O[1]),f=Math.max(f,O[2]),p=Math.max(p,O[3]),v<O[3]?(m=O[2],v=O[3]):v===O[3]&&(m=b(m,O[2]))}r=s[T+4],o=s[T+5]}const A=u-h(this,Ga),S=d-h(this,Ga),w=f-u+2*h(this,Ga),M=p-d+2*h(this,Ga);_(this,Ol,{x:A,y:S,width:w,height:M,lastPoint:[m,v]})};var Of,io,vs,Kn,cT,Fg,uT,hT,u0;class Xw{constructor(t,e=0,s=0,r=!0){R(this,Kn);R(this,Of);R(this,io,[]);R(this,vs,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const p=10**-4;for(const{x:M,y:T,width:L,height:O}of t){const P=Math.floor((M-e)/p)*p,F=Math.ceil((M+L+e)/p)*p,I=Math.floor((T-e)/p)*p,G=Math.ceil((T+O+e)/p)*p,K=[P,I,G,!0],tt=[F,I,G,!1];h(this,io).push(K,tt),o=Math.min(o,P),u=Math.max(u,F),d=Math.min(d,I),f=Math.max(f,G)}const m=u-o+2*s,v=f-d+2*s,b=o-s,A=d-s,S=h(this,io).at(r?-1:-2),w=[S[0],S[2]];for(const M of h(this,io)){const[T,L,O]=M;M[0]=(T-b)/m,M[1]=(L-A)/v,M[2]=(O-A)/v}_(this,Of,{x:b,y:A,width:m,height:v,lastPoint:w})}getOutlines(){h(this,io).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,io))e[3]?(t.push(...x(this,Kn,u0).call(this,e)),x(this,Kn,uT).call(this,e)):(x(this,Kn,hT).call(this,e),t.push(...x(this,Kn,u0).call(this,e)));return x(this,Kn,cT).call(this,t)}}Of=new WeakMap,io=new WeakMap,vs=new WeakMap,Kn=new WeakSet,cT=function(t){const e=[],s=new Set;for(const u of t){const[d,f,p]=u;e.push([d,f,u],[d,p,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],p=e[u+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let o;for(;s.size>0;){const u=s.values().next().value;let[d,f,p,m,v]=u;s.delete(u);let b=d,A=f;for(o=[d,p],r.push(o);;){let S;if(s.has(m))S=m;else if(s.has(v))S=v;else break;s.delete(S),[d,f,p,m,v]=S,b!==d&&(o.push(b,A,d,A===f?f:p),b=d),A=A===f?p:f}o.push(b,A)}return new ek(r,h(this,Of))},Fg=function(t){const e=h(this,vs);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,u=e[o][0];if(u===t)return o;u<t?s=o+1:r=o-1}return r+1},uT=function([,t,e]){const s=x(this,Kn,Fg).call(this,t);h(this,vs).splice(s,0,[t,e])},hT=function([,t,e]){const s=x(this,Kn,Fg).call(this,t);for(let r=s;r<h(this,vs).length;r++){const[o,u]=h(this,vs)[r];if(o!==t)break;if(o===t&&u===e){h(this,vs).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,u]=h(this,vs)[r];if(o!==t)break;if(o===t&&u===e){h(this,vs).splice(r,1);return}}},u0=function(t){const[e,s,r]=t,o=[[e,s,r]],u=x(this,Kn,Fg).call(this,r);for(let d=0;d<u;d++){const[f,p]=h(this,vs)[d];for(let m=0,v=o.length;m<v;m++){const[,b,A]=o[m];if(!(p<=b||A<=f)){if(b>=f){if(A>p)o[m][1]=p;else{if(v===1)return[];o.splice(m,1),m--,v--}continue}o[m][2]=f,A>p&&o.push([e,p,A])}}}return o};var Df,zu;class ek extends tT{constructor(e,s){super();R(this,Df);R(this,zu);_(this,zu,e),_(this,Df,s)}toSVGPath(){const e=[];for(const s of h(this,zu)){let[r,o]=s;e.push(`M${r} ${o}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(e.push(`V${f}`),o=f):f===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],u){const d=[],f=r-e,p=o-s;for(const m of h(this,zu)){const v=new Array(m.length);for(let b=0;b<m.length;b+=2)v[b]=e+m[b]*f,v[b+1]=o-m[b+1]*p;d.push(v)}return d}get box(){return h(this,Df)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Df=new WeakMap,zu=new WeakMap;class h0 extends em{newFreeDrawOutline(t,e,s,r,o,u){return new nk(t,e,s,r,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class nk extends oT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,u=0){return new h0(t,e,s,r,o,u)}}var bs,Dl,Hu,en,kf,Bu,Nf,Pf,so,As,Iu,Ff,pe,d0,f0,p0,Uo,dT,Fr;const ni=class ni{constructor({editor:t=null,uiManager:e=null}){R(this,pe);R(this,bs,null);R(this,Dl,null);R(this,Hu);R(this,en,null);R(this,kf,!1);R(this,Bu,!1);R(this,Nf,null);R(this,Pf);R(this,so,null);R(this,As,null);R(this,Iu);var s;t?(_(this,Bu,!1),_(this,Iu,Mt.HIGHLIGHT_COLOR),_(this,Nf,t)):(_(this,Bu,!0),_(this,Iu,Mt.HIGHLIGHT_DEFAULT_COLOR)),_(this,As,(t==null?void 0:t._uiManager)||e),_(this,Pf,h(this,As)._eventBus),_(this,Hu,(t==null?void 0:t.color)||((s=h(this,As))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(ni,Ff)||_(ni,Ff,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yt(this,"_keyboardManager",new Wf([[["Escape","mac+Escape"],ni.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ni.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ni.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ni.prototype._moveToPrevious],[["Home","mac+Home"],ni.prototype._moveToBeginning],[["End","mac+End"],ni.prototype._moveToEnd]]))}renderButton(){const t=_(this,bs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,As)._signal;t.addEventListener("click",x(this,pe,Uo).bind(this),{signal:e}),t.addEventListener("keydown",x(this,pe,p0).bind(this),{signal:e});const s=_(this,Dl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,Hu),t.append(s),t}renderMainDropdown(){const t=_(this,en,x(this,pe,d0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,bs)){x(this,pe,Uo).call(this,t);return}const e=t.target.getAttribute("data-color");e&&x(this,pe,f0).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,pe,Fr)){x(this,pe,Uo).call(this,t);return}if(t.target===h(this,bs)){(e=h(this,en).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,en))==null?void 0:e.firstChild)||t.target===h(this,bs)){h(this,pe,Fr)&&this._hideDropdownFromKeyboard();return}h(this,pe,Fr)||x(this,pe,Uo).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,pe,Fr)){x(this,pe,Uo).call(this,t);return}(e=h(this,en).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,pe,Fr)){x(this,pe,Uo).call(this,t);return}(e=h(this,en).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,en))==null||t.classList.add("hidden"),(e=h(this,so))==null||e.abort(),_(this,so,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Bu)){if(!h(this,pe,Fr)){(t=h(this,Nf))==null||t.unselect();return}this.hideDropdown(),h(this,bs).focus({preventScroll:!0,focusVisible:h(this,kf)})}}updateColor(t){if(h(this,Dl)&&(h(this,Dl).style.backgroundColor=t),!h(this,en))return;const e=h(this,As).highlightColors.values();for(const s of h(this,en).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,bs))==null||t.remove(),_(this,bs,null),_(this,Dl,null),(e=h(this,en))==null||e.remove(),_(this,en,null)}};bs=new WeakMap,Dl=new WeakMap,Hu=new WeakMap,en=new WeakMap,kf=new WeakMap,Bu=new WeakMap,Nf=new WeakMap,Pf=new WeakMap,so=new WeakMap,As=new WeakMap,Iu=new WeakMap,Ff=new WeakMap,pe=new WeakSet,d0=function(){const t=document.createElement("div"),e=h(this,As)._signal;t.addEventListener("contextmenu",ns,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,As).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",h(ni,Ff)[s]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,Hu)),o.addEventListener("click",x(this,pe,f0).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",x(this,pe,p0).bind(this),{signal:e}),t},f0=function(t,e){e.stopPropagation(),h(this,Pf).dispatch("switchannotationeditorparams",{source:this,type:h(this,Iu),value:t})},p0=function(t){ni._keyboardManager.exec(this,t)},Uo=function(t){if(h(this,pe,Fr)){this.hideDropdown();return}if(_(this,kf,t.detail===0),h(this,so)||(_(this,so,new AbortController),window.addEventListener("pointerdown",x(this,pe,dT).bind(this),{signal:h(this,As).combinedSignal(h(this,so))})),h(this,en)){h(this,en).classList.remove("hidden");return}const e=_(this,en,x(this,pe,d0).call(this));h(this,bs).append(e)},dT=function(t){var e;(e=h(this,en))!=null&&e.contains(t.target)||this.hideDropdown()},Fr=function(){return h(this,en)&&!h(this,en).classList.contains("hidden")},R(ni,Ff,null);let nm=ni;var ju,zf,qa,kl,Uu,Wi,Hf,Bf,Nl,Ss,Pn,ai,Gu,Va,nn,qu,Qi,If,Ot,g0,zg,fT,pT,gT,m0,Go,ts,Vc,mT,Hg,yd,yT,vT,bT,AT,ST;const ee=class ee extends le{constructor(e){super({...e,name:"highlightEditor"});R(this,Ot);R(this,ju,null);R(this,zf,0);R(this,qa);R(this,kl,null);R(this,Uu,null);R(this,Wi,null);R(this,Hf,null);R(this,Bf,0);R(this,Nl,null);R(this,Ss,null);R(this,Pn,null);R(this,ai,!1);R(this,Gu,null);R(this,Va);R(this,nn,null);R(this,qu,"");R(this,Qi);R(this,If,"");this.color=e.color||ee._defaultColor,_(this,Qi,e.thickness||ee._defaultThickness),_(this,Va,e.opacity||ee._defaultOpacity),_(this,qa,e.boxes||null),_(this,If,e.methodOfCreation||""),_(this,qu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,ai,!0),x(this,Ot,zg).call(this,e),x(this,Ot,Go).call(this)):h(this,qa)&&(_(this,ju,e.anchorNode),_(this,zf,e.anchorOffset),_(this,Hf,e.focusNode),_(this,Bf,e.focusOffset),x(this,Ot,g0).call(this),x(this,Ot,Go).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=ee.prototype;return Yt(this,"_keyboardManager",new Wf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,ai)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Qi),methodOfCreation:h(this,If)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;le.initialize(e,s),ee._defaultColor||(ee._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Mt.HIGHLIGHT_DEFAULT_COLOR:ee._defaultColor=s;break;case Mt.HIGHLIGHT_THICKNESS:ee._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,Gu)}updateParams(e,s){switch(e){case Mt.HIGHLIGHT_COLOR:x(this,Ot,fT).call(this,s);break;case Mt.HIGHLIGHT_THICKNESS:x(this,Ot,pT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,ee._defaultColor],[Mt.HIGHLIGHT_THICKNESS,ee._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||ee._defaultColor],[Mt.HIGHLIGHT_THICKNESS,h(this,Qi)||ee._defaultThickness],[Mt.HIGHLIGHT_FREE,h(this,ai)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,Uu,new nm({editor:this})),e.addColorPicker(h(this,Uu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Ot,yd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,x(this,Ot,yd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Ot,m0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Ot,Go).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?x(this,Ot,m0).call(this):e&&(x(this,Ot,Go).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,u,d;const{drawLayer:s}=this.parent;let r;h(this,ai)?(e=(e-this.rotation+360)%360,r=x(o=ee,ts,Vc).call(o,h(this,Ss).box,e)):r=x(u=ee,ts,Vc).call(u,this,e),s.rotate(h(this,Pn),e),s.rotate(h(this,nn),e),s.updateBox(h(this,Pn),r),s.updateBox(h(this,nn),x(d=ee,ts,Vc).call(d,h(this,Wi).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,qu)&&(e.setAttribute("aria-label",h(this,qu)),e.setAttribute("role","mark")),h(this,ai)?e.classList.add("free"):this.div.addEventListener("keydown",x(this,Ot,mT).bind(this),{signal:this._uiManager._signal});const s=_(this,Nl,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,kl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Jg(this,h(this,Nl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,nn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,nn),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:x(this,Ot,Hg).call(this,!0);break;case 1:case 3:x(this,Ot,Hg).call(this,!1);break}}select(){var e,s;super.select(),h(this,nn)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,nn),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,nn),"selected"))}unselect(){var e;super.unselect(),h(this,nn)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,nn),"selected"),h(this,ai)||x(this,Ot,Hg).call(this,!1))}get _mustFixPosition(){return!h(this,ai)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,Pn),e),this.parent.drawLayer.show(h(this,nn),e))}static startHighlighting(e,s,{target:r,x:o,y:u}){const{x:d,y:f,width:p,height:m}=r.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),A=w=>{w.preventDefault(),w.stopPropagation()},S=w=>{v.abort(),x(this,ts,AT).call(this,e,w)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ns,{signal:b}),r.addEventListener("pointermove",x(this,ts,bT).bind(this,e),{signal:b}),this._freeHighlight=new h0({x:o,y:u},[d,f,p,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var w,M,T,L;let o=null;if(e instanceof X1){const{data:{quadPoints:O,rect:P,rotation:F,id:I,color:G,opacity:K,popupRef:tt},parent:{page:{pageNumber:it}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(G),opacity:K,quadPoints:O,boxes:null,pageIndex:it-1,rect:P.slice(0),rotation:F,id:I,deleted:!1,popupRef:tt}}else if(e instanceof uA){const{data:{inkLists:O,rect:P,rotation:F,id:I,color:G,borderStyle:{rawWidth:K},popupRef:tt},parent:{page:{pageNumber:it}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(G),thickness:K,inkLists:O,boxes:null,pageIndex:it-1,rect:P.slice(0),rotation:F,id:I,deleted:!1,popupRef:tt}}const{color:u,quadPoints:d,inkLists:f,opacity:p}=e,m=await super.deserialize(e,s,r);m.color=vt.makeHexColor(...u),_(m,Va,p||1),f&&_(m,Qi,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[v,b]=m.pageDimensions,[A,S]=m.pageTranslation;if(d){const O=_(m,qa,[]);for(let P=0;P<d.length;P+=8)O.push({x:(d[P]-A)/v,y:1-(d[P+1]-S)/b,width:(d[P+2]-d[P])/v,height:(d[P+1]-d[P+5])/b});x(w=m,Ot,g0).call(w),x(M=m,Ot,Go).call(M),m.rotate(m.rotation)}else if(f){_(m,ai,!0);const O=f[0],P={x:O[0]-A,y:b-(O[1]-S)},F=new h0(P,[0,0,v,b],1,h(m,Qi)/2,!0,.001);for(let K=0,tt=O.length;K<tt;K+=2)P.x=O[K]-A,P.y=b-(O[K+1]-S),F.add(P);const{id:I,clipPathId:G}=s.drawLayer.draw(F,m.color,m._defaultOpacity,!0);x(T=m,Ot,zg).call(T,{highlightOutlines:F.getOutlines(),highlightId:I,clipPathId:G}),x(L=m,Ot,Go).call(L)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=le._colorManager.convert(this.color),o={annotationType:Nt.HIGHLIGHT,color:r,opacity:h(this,Va),thickness:h(this,Qi),quadPoints:x(this,Ot,yT).call(this),outlines:x(this,Ot,vT).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:x(this,Ot,yd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Ot,ST).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ju=new WeakMap,zf=new WeakMap,qa=new WeakMap,kl=new WeakMap,Uu=new WeakMap,Wi=new WeakMap,Hf=new WeakMap,Bf=new WeakMap,Nl=new WeakMap,Ss=new WeakMap,Pn=new WeakMap,ai=new WeakMap,Gu=new WeakMap,Va=new WeakMap,nn=new WeakMap,qu=new WeakMap,Qi=new WeakMap,If=new WeakMap,Ot=new WeakSet,g0=function(){const e=new Xw(h(this,qa),.001);_(this,Ss,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Ss).box;const s=new Xw(h(this,qa),.0025,.001,this._uiManager.direction==="ltr");_(this,Wi,s.getOutlines());const{lastPoint:r}=h(this,Wi).box;_(this,Gu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},zg=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var v,b;if(_(this,Ss,e),_(this,Wi,e.getNewOutline(h(this,Qi)/2+1.5,.0025)),s>=0)_(this,Pn,s),_(this,kl,r),this.parent.drawLayer.finalizeLine(s,e),_(this,nn,this.parent.drawLayer.drawOutline(h(this,Wi)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,Pn),e),this.parent.drawLayer.updateBox(h(this,Pn),x(v=ee,ts,Vc).call(v,h(this,Ss).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,nn),h(this,Wi)),this.parent.drawLayer.updateBox(h(this,nn),x(b=ee,ts,Vc).call(b,h(this,Wi).box,A))}const{x:u,y:d,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*S/A,this.height=p*A/S;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*S/A,this.height=p*A/S;break}}const{lastPoint:m}=h(this,Wi).box;_(this,Gu,[(m[0]-u)/f,(m[1]-d)/p])},fT=function(e){const s=(u,d)=>{var f,p,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,Pn),u),(p=h(this,Uu))==null||p.updateColor(u),_(this,Va,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,Pn),d)},r=this.color,o=h(this,Va);this.addCommands({cmd:s.bind(this,e,ee._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},pT=function(e){const s=h(this,Qi),r=o=>{_(this,Qi,o),x(this,Ot,gT).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},gT=function(e){if(!h(this,ai))return;x(this,Ot,zg).call(this,{highlightOutlines:h(this,Ss).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},m0=function(){h(this,Pn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Pn)),_(this,Pn,null),this.parent.drawLayer.remove(h(this,nn)),_(this,nn,null))},Go=function(e=this.parent){h(this,Pn)===null&&({id:Gn(this,Pn)._,clipPathId:Gn(this,kl)._}=e.drawLayer.draw(h(this,Ss),this.color,h(this,Va)),_(this,nn,e.drawLayer.drawOutline(h(this,Wi))),h(this,Nl)&&(h(this,Nl).style.clipPath=h(this,kl)))},ts=new WeakSet,Vc=function({x:e,y:s,width:r,height:o},u){switch(u){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},mT=function(e){ee._keyboardManager.exec(this,e)},Hg=function(e){if(!h(this,ju))return;const s=window.getSelection();e?s.setPosition(h(this,ju),h(this,zf)):s.setPosition(h(this,Hf),h(this,Bf))},yd=function(){return h(this,ai)?this.rotation:0},yT=function(){if(h(this,ai))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,u=h(this,qa),d=new Float32Array(u.length*8);let f=0;for(const{x:p,y:m,width:v,height:b}of u){const A=p*e+r,S=(1-m-b)*s+o;d[f]=d[f+4]=A,d[f+1]=d[f+3]=S,d[f+2]=d[f+6]=A+v*e,d[f+5]=d[f+7]=S+b*s,f+=8}return d},vT=function(e){return h(this,Ss).serialize(e,x(this,Ot,yd).call(this))},bT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},AT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ST=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},R(ee,ts),Rt(ee,"_defaultColor",null),Rt(ee,"_defaultOpacity",1),Rt(ee,"_defaultThickness",12),Rt(ee,"_type","highlight"),Rt(ee,"_editorType",Nt.HIGHLIGHT),Rt(ee,"_freeHighlightId",-1),Rt(ee,"_freeHighlight",null),Rt(ee,"_freeHighlightClipId","");let im=ee;var Pl,Fl,Ys,Xa,Zi,zl,Hl,Bl,Ya,Vu,Il,jl,ao,ot,ET,_T,wT,xT,v0,TT,b0,CT,RT,MT,LT,OT,qo,A0,S0,E0,Bg,Ig,Xc,_0,jg,rr,DT,w0,kT,NT,x0,Ug,vd;const Te=class Te extends le{constructor(e){super({...e,name:"inkEditor"});R(this,ot);R(this,Pl,0);R(this,Fl,0);R(this,Ys,null);R(this,Xa,new Path2D);R(this,Zi,!1);R(this,zl,null);R(this,Hl,!1);R(this,Bl,!1);R(this,Ya,null);R(this,Vu,null);R(this,Il,0);R(this,jl,0);R(this,ao,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){le.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Mt.INK_THICKNESS:Te._defaultThickness=s;break;case Mt.INK_COLOR:Te._defaultColor=s;break;case Mt.INK_OPACITY:Te._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Mt.INK_THICKNESS:x(this,ot,ET).call(this,s);break;case Mt.INK_COLOR:x(this,ot,_T).call(this,s);break;case Mt.INK_OPACITY:x(this,ot,wT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Mt.INK_THICKNESS,Te._defaultThickness],[Mt.INK_COLOR,Te._defaultColor||le._defaultLineColor],[Mt.INK_OPACITY,Math.round(Te._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Mt.INK_THICKNESS,this.thickness||Te._defaultThickness],[Mt.INK_COLOR,this.color||Te._defaultColor||le._defaultLineColor],[Mt.INK_OPACITY,Math.round(100*(this.opacity??Te._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,ot,Bg).call(this),x(this,ot,Ig).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,ot,Xc).call(this)),x(this,ot,vd).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,Ys)&&(clearTimeout(h(this,Ys)),_(this,Ys,null)),(e=h(this,Ya))==null||e.disconnect(),_(this,Ya,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){h(this,Zi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,ot,A0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,ot,S0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Zi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,Zi,!0),this.div.classList.add("disabled"),x(this,ot,vd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Zi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,ot,TT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),x(this,ot,b0).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),x(this,ot,E0).call(this,e)}canvasPointerleave(e){x(this,ot,E0).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Zi)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,u,d]=x(this,ot,xT).call(this);if(this.setAt(r,o,0,0),this.setDims(u,d),x(this,ot,Bg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,s*p,this.width*f,this.height*p),_(this,Bl,!0),x(this,ot,Xc).call(this),this.setDims(this.width*f,this.height*p),x(this,ot,qo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,ot,Ig).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(h(this,Il)===r&&h(this,jl)===o)return;_(this,Il,r),_(this,jl,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=s/d,this.fixAndSetPosition(),h(this,Zi)&&x(this,ot,_0).call(this,e,s),x(this,ot,Xc).call(this),x(this,ot,qo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,T,L;if(e instanceof uA)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=vt.makeHexColor(...e.color),o.opacity=e.opacity;const[u,d]=o.pageDimensions,f=o.width*u,p=o.height*d,m=o.parentScale,v=e.thickness/2;_(o,Zi,!0),_(o,Il,Math.round(f)),_(o,jl,Math.round(p));const{paths:b,rect:A,rotation:S}=e;for(let{bezier:O}of b){O=x(M=Te,rr,kT).call(M,O,A,S);const P=[];o.paths.push(P);let F=m*(O[0]-v),I=m*(O[1]-v);for(let K=2,tt=O.length;K<tt;K+=6){const it=m*(O[K]-v),st=m*(O[K+1]-v),ft=m*(O[K+2]-v),pt=m*(O[K+3]-v),rt=m*(O[K+4]-v),ct=m*(O[K+5]-v);P.push([[F,I],[it,st],[ft,pt],[rt,ct]]),F=rt,I=ct}const G=x(this,rr,DT).call(this,P);o.bezierPath2D.push(G)}const w=x(T=o,ot,x0).call(T);return _(o,Fl,Math.max(le.MIN_SIZE,w[2]-w[0])),_(o,Pl,Math.max(le.MIN_SIZE,w[3]-w[1])),x(L=o,ot,_0).call(L,f,p),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=le._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:x(this,ot,NT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Pl=new WeakMap,Fl=new WeakMap,Ys=new WeakMap,Xa=new WeakMap,Zi=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Bl=new WeakMap,Ya=new WeakMap,Vu=new WeakMap,Il=new WeakMap,jl=new WeakMap,ao=new WeakMap,ot=new WeakSet,ET=function(e){const s=o=>{this.thickness=o,x(this,ot,vd).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_T=function(e){const s=o=>{this.color=o,x(this,ot,qo).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wT=function(e){const s=o=>{this.opacity=o,x(this,ot,qo).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},v0=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:u,scaleFactor:d}=this;e.lineWidth=o*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${wD(r)}`},TT=function(e,s){this.canvas.addEventListener("contextmenu",ns,{signal:this._uiManager._signal}),x(this,ot,S0).call(this),_(this,zl,new AbortController);const r=this._uiManager.combinedSignal(h(this,zl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Bl)||(_(this,Bl,!0),x(this,ot,Xc).call(this),this.thickness||(this.thickness=Te._defaultThickness),this.color||(this.color=Te._defaultColor||le._defaultLineColor),this.opacity??(this.opacity=Te._defaultOpacity)),this.currentPath.push([e,s]),_(this,Hl,!1),x(this,ot,v0).call(this),_(this,ao,()=>{x(this,ot,MT).call(this),h(this,ao)&&window.requestAnimationFrame(h(this,ao))}),window.requestAnimationFrame(h(this,ao))},b0=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const u=this.currentPath;let d=h(this,Xa);if(u.push([e,s]),_(this,Hl,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,s);return}u.length===3&&(_(this,Xa,d=new Path2D),d.moveTo(...u[0])),x(this,ot,LT).call(this,d,...u.at(-3),...u.at(-2),e,s)},CT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,Xa).lineTo(...e)},RT=function(e,s){_(this,ao,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),x(this,ot,b0).call(this,e,s),x(this,ot,CT).call(this);let r;if(this.currentPath.length!==1)r=x(this,ot,OT).call(this);else{const p=[e,s];r=[[p,p.slice(),p.slice(),p]]}const o=h(this,Xa),u=this.currentPath;this.currentPath=[],_(this,Xa,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,ot,Bg).call(this),x(this,ot,Ig).call(this)),x(this,ot,vd).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},MT=function(){if(!h(this,Hl))return;_(this,Hl,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,Xa)),u.restore()},LT=function(e,s,r,o,u,d,f){const p=(s+o)/2,m=(r+u)/2,v=(o+d)/2,b=(u+f)/2;e.bezierCurveTo(p+2*(o-p)/3,m+2*(u-m)/3,v+2*(o-v)/3,b+2*(u-b)/3,v,b)},OT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,u]=e[0];for(r=1;r<e.length-2;r++){const[A,S]=e[r],[w,M]=e[r+1],T=(A+w)/2,L=(S+M)/2,O=[o+2*(A-o)/3,u+2*(S-u)/3],P=[T+2*(A-T)/3,L+2*(S-L)/3];s.push([[o,u],O,P,[T,L]]),[o,u]=[T,L]}const[d,f]=e[r],[p,m]=e[r+1],v=[o+2*(d-o)/3,u+2*(f-u)/3],b=[p+2*(d-p)/3,m+2*(f-m)/3];return s.push([[o,u],v,b,[p,m]]),s},qo=function(){if(this.isEmpty()){x(this,ot,jg).call(this);return}x(this,ot,v0).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),x(this,ot,jg).call(this);for(const r of this.bezierPath2D)s.stroke(r)},A0=function(){if(h(this,Vu))return;_(this,Vu,new AbortController);const e=this._uiManager.combinedSignal(h(this,Vu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},S0=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},E0=function(e){var s;(s=h(this,zl))==null||s.abort(),_(this,zl,null),x(this,ot,A0).call(this),h(this,Ys)&&clearTimeout(h(this,Ys)),_(this,Ys,setTimeout(()=>{_(this,Ys,null),this.canvas.removeEventListener("contextmenu",ns)},10)),x(this,ot,RT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Bg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ig=function(){_(this,Ya,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,Ya).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Ya))==null||e.disconnect(),_(this,Ya,null)},{once:!0})},Xc=function(){if(!h(this,Bl))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),x(this,ot,jg).call(this)},_0=function(e,s){const r=x(this,ot,Ug).call(this),o=(e-r)/h(this,Fl),u=(s-r)/h(this,Pl);this.scaleFactor=Math.min(o,u)},jg=function(){const e=x(this,ot,Ug).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},rr=new WeakSet,DT=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[u,d,f,p]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],p[0],p[1])}return s},w0=function(e,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]+=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]+o,e[p+1]=v+u}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]+=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=d-e[p+1],e[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return e},kT=function(e,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]-=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]-u,e[p+1]=v-o}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]-=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=f-e[p+1],e[p+1]=d-v}break;default:throw new Error("Invalid rotation")}return e},NT=function(e,s,r,o){var m,v;const u=[],d=this.thickness/2,f=e*s+d,p=e*r+d;for(const b of this.paths){const A=[],S=[];for(let w=0,M=b.length;w<M;w++){const[T,L,O,P]=b[w];if(T[0]===P[0]&&T[1]===P[1]&&M===1){const pt=e*T[0]+f,rt=e*T[1]+p;A.push(pt,rt),S.push(pt,rt);break}const F=e*T[0]+f,I=e*T[1]+p,G=e*L[0]+f,K=e*L[1]+p,tt=e*O[0]+f,it=e*O[1]+p,st=e*P[0]+f,ft=e*P[1]+p;w===0&&(A.push(F,I),S.push(F,I)),A.push(G,K,tt,it,st,ft),S.push(G,K),w===M-1&&S.push(st,ft)}u.push({bezier:x(m=Te,rr,w0).call(m,A,o,this.rotation),points:x(v=Te,rr,w0).call(v,S,o,this.rotation)})}return u},x0=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,p,m]of u){const v=vt.bezierBoundingBox(...d,...f,...p,...m);e=Math.min(e,v[0]),r=Math.min(r,v[1]),s=Math.max(s,v[2]),o=Math.max(o,v[3])}return[e,r,s,o]},Ug=function(){return h(this,Zi)?Math.ceil(this.thickness*this.parentScale):0},vd=function(e=!1){if(this.isEmpty())return;if(!h(this,Zi)){x(this,ot,qo).call(this);return}const s=x(this,ot,x0).call(this),r=x(this,ot,Ug).call(this);_(this,Fl,Math.max(le.MIN_SIZE,s[2]-s[0])),_(this,Pl,Math.max(le.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+h(this,Fl)*this.scaleFactor),u=Math.ceil(r+h(this,Pl)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const p=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],x(this,ot,Xc).call(this),x(this,ot,qo).call(this),_(this,Il,o),_(this,jl,u),this.setDims(o,u);const v=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,m-this.translationY-v)},R(Te,rr),Rt(Te,"_defaultColor",null),Rt(Te,"_defaultOpacity",1),Rt(Te,"_defaultThickness",1),Rt(Te,"_type","ink"),Rt(Te,"_editorType",Nt.INK);let y0=Te;var Re,_n,ro,$a,oo,Xu,$s,Ka,Ks,xi,Yu,Vt,bd,Ad,Gg,C0,PT,qg,R0,Vg,FT,zT;const _d=class _d extends le{constructor(e){super({...e,name:"stampEditor"});R(this,Vt);R(this,Re,null);R(this,_n,null);R(this,ro,null);R(this,$a,null);R(this,oo,null);R(this,Xu,"");R(this,$s,null);R(this,Ka,null);R(this,Ks,null);R(this,xi,!1);R(this,Yu,!1);_(this,$a,e.bitmapUrl),_(this,oo,e.bitmapFile)}static initialize(e,s){le.initialize(e,s)}static get supportedTypes(){return Yt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Yt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:o,width:u,height:d,channels:o.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,s;h(this,_n)&&(_(this,Re,null),this._uiManager.imageManager.deleteId(h(this,_n)),(e=h(this,$s))==null||e.remove(),_(this,$s,null),(s=h(this,Ka))==null||s.disconnect(),_(this,Ka,null),h(this,Ks)&&(clearTimeout(h(this,Ks)),_(this,Ks,null))),super.remove()}rebuild(){if(!this.parent){h(this,_n)&&x(this,Vt,Gg).call(this);return}super.rebuild(),this.div!==null&&(h(this,_n)&&h(this,$s)===null&&x(this,Vt,Gg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,ro)||h(this,Re)||h(this,$a)||h(this,oo)||h(this,_n))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,Re)?x(this,Vt,C0).call(this):x(this,Vt,Gg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:o,height:u}=h(this,Re),d=new Eb;let f=h(this,Re),p=o,m=u,v=null;if(s){if(o>s||u>s){const K=Math.min(s/o,s/u);p=Math.floor(o*K),m=Math.floor(u*K)}v=document.createElement("canvas");const S=v.width=Math.ceil(p*d.sx),w=v.height=Math.ceil(m*d.sy);h(this,xi)||(f=x(this,Vt,qg).call(this,S,w));const M=v.getContext("2d");M.filter=this._uiManager.hcmFilter;let T="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",L="#42414d");const O=15,P=O*d.sx,F=O*d.sy,I=new OffscreenCanvas(P*2,F*2),G=I.getContext("2d");G.fillStyle=T,G.fillRect(0,0,P*2,F*2),G.fillStyle=L,G.fillRect(0,0,P,F),G.fillRect(P,F,P,F),M.fillStyle=M.createPattern(I,"repeat"),M.fillRect(0,0,S,w),M.drawImage(f,0,0,f.width,f.height,0,0,S,w)}let b=null;if(r){let S,w;if(d.symmetric&&f.width<e&&f.height<e)S=f.width,w=f.height;else if(f=h(this,Re),o>e||u>e){const L=Math.min(e/o,e/u);S=Math.floor(o*L),w=Math.floor(u*L),h(this,xi)||(f=x(this,Vt,qg).call(this,S,w))}const T=new OffscreenCanvas(S,w).getContext("2d",{willReadFrequently:!0});T.drawImage(f,0,0,f.width,f.height,0,0,S,w),b={width:S,height:w,data:T.getImageData(0,0,S,w).data}}return{canvas:v,width:p,height:m,imageData:b}}getImageForAltText(){return h(this,$s)}static async deserialize(e,s,r){var w;let o=null;if(e instanceof Y1){const{data:{rect:M,rotation:T,id:L,structParent:O,popupRef:P},container:F,parent:{page:{pageNumber:I}}}=e,G=F.querySelector("canvas"),K=r.imageManager.getFromCanvas(F.id,G);G.remove();const tt=((w=await s._structTree.getAriaAttributes(`${J0}${L}`))==null?void 0:w.get("aria-label"))||"";o=e={annotationType:Nt.STAMP,bitmapId:K.id,bitmap:K.bitmap,pageIndex:I-1,rect:M.slice(0),rotation:T,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:O,popupRef:P}}const u=await super.deserialize(e,s,r),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:v,accessibilityData:b}=e;m&&r.imageManager.isValidId(m)?(_(u,_n,m),f&&_(u,Re,f)):_(u,$a,p),_(u,xi,v);const[A,S]=u.pageDimensions;return u.width=(d[2]-d[0])/A,u.height=(d[3]-d[1])/S,u.annotationElementId=e.id||null,b&&(u.altTextData=b),u._initialData=o,_(u,Yu,!!o),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Nt.STAMP,bitmapId:h(this,_n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,xi),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=x(this,Vt,Vg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=x(this,Vt,zT).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,xi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,_n)))s.stamps.set(h(this,_n),{area:d,serialized:r}),r.bitmap=x(this,Vt,Vg).call(this,!1);else if(h(this,xi)){const f=s.stamps.get(h(this,_n));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=x(this,Vt,Vg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Re=new WeakMap,_n=new WeakMap,ro=new WeakMap,$a=new WeakMap,oo=new WeakMap,Xu=new WeakMap,$s=new WeakMap,Ka=new WeakMap,Ks=new WeakMap,xi=new WeakMap,Yu=new WeakMap,Vt=new WeakSet,bd=function(e,s=!1){if(!e){this.remove();return}_(this,Re,e.bitmap),s||(_(this,_n,e.id),_(this,xi,e.isSvg)),e.file&&_(this,Xu,e.file.name),x(this,Vt,C0).call(this)},Ad=function(){if(_(this,ro,null),this._uiManager.enableWaiting(!1),!!h(this,$s)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Re)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Re)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Gg=function(){if(h(this,_n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,_n)).then(r=>x(this,Vt,bd).call(this,r,!0)).finally(()=>x(this,Vt,Ad).call(this));return}if(h(this,$a)){const r=h(this,$a);_(this,$a,null),this._uiManager.enableWaiting(!0),_(this,ro,this._uiManager.imageManager.getFromUrl(r).then(o=>x(this,Vt,bd).call(this,o)).finally(()=>x(this,Vt,Ad).call(this)));return}if(h(this,oo)){const r=h(this,oo);_(this,oo,null),this._uiManager.enableWaiting(!0),_(this,ro,this._uiManager.imageManager.getFromFile(r).then(o=>x(this,Vt,bd).call(this,o)).finally(()=>x(this,Vt,Ad).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=_d.supportedTypesStr;const s=this._uiManager._signal;_(this,ro,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,Vt,bd).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>x(this,Vt,Ad).call(this))),e.click()},C0=function(){const{div:e}=this;let{width:s,height:r}=h(this,Re);const[o,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*u;else if(s>d*o||r>d*u){const v=Math.min(d*o/s,d*u/r);s*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(s*f/o,r*p/u),this._uiManager.enableWaiting(!1);const m=_(this,$s,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),x(this,Vt,R0).call(this,s,r),x(this,Vt,FT).call(this),h(this,Yu)||(this.parent.addUndoableEditor(this),_(this,Yu,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Xu)&&m.setAttribute("aria-label",h(this,Xu))},PT=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Ks)!==null&&clearTimeout(h(this,Ks)),_(this,Ks,setTimeout(()=>{_(this,Ks,null),x(this,Vt,R0).call(this,e,s)},200))},qg=function(e,s){const{width:r,height:o}=h(this,Re);let u=r,d=o,f=h(this,Re);for(;u>2*e||d>2*s;){const p=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(u,d);v.getContext("2d").drawImage(f,0,0,p,m,0,0,u,d),f=v.transferToImageBitmap()}return f},R0=function(e,s){const r=new Eb,o=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),d=h(this,$s);if(!d||d.width===o&&d.height===u)return;d.width=o,d.height=u;const f=h(this,xi)?h(this,Re):x(this,Vt,qg).call(this,o,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,u)},Vg=function(e){if(e){if(h(this,xi)){const o=this._uiManager.imageManager.getSvgUrl(h(this,_n));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,Re),s.getContext("2d").drawImage(h(this,Re),0,0),s.toDataURL()}if(h(this,xi)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*po.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*po.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(h(this,Re),0,0,h(this,Re).width,h(this,Re).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(h(this,Re))},FT=function(){this._uiManager._signal&&(_(this,Ka,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&x(this,Vt,PT).call(this,s.width,s.height)})),h(this,Ka).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Ka))==null||e.disconnect(),_(this,Ka,null)},{once:!0}))},zT=function(e){var p;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,u=e.rect.every((m,v)=>Math.abs(m-s[v])<1),d=e.pageIndex===r,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:u&&d&&f,isSameAltText:f}},Rt(_d,"_type","stamp"),Rt(_d,"_editorType",Nt.STAMP);let T0=_d;var Ul,$u,Ws,lo,Wa,Ti,co,Ku,Wu,Fn,Qa,At,uo,wn,HT,L0,O0,D0,Xg;const os=class os{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:u,drawLayer:d,textLayer:f,viewport:p,l10n:m}){R(this,wn);R(this,Ul);R(this,$u,!1);R(this,Ws,null);R(this,lo,null);R(this,Wa,null);R(this,Ti,new Map);R(this,co,!1);R(this,Ku,!1);R(this,Wu,!1);R(this,Fn,null);R(this,Qa,null);R(this,At);const v=[...h(os,uo).values()];if(!os._initialized){os._initialized=!0;for(const b of v)b.initialize(m,t)}t.registerEditorTypes(v),_(this,At,t),this.pageIndex=e,this.div=s,_(this,Ul,o),_(this,Ws,u),this.viewport=p,_(this,Fn,f),this.drawLayer=d,this._structTree=r,h(this,At).addLayer(this)}get isEmpty(){return h(this,Ti).size===0}get isInvisible(){return this.isEmpty&&h(this,At).getMode()===Nt.NONE}updateToolbar(t){h(this,At).updateToolbar(t)}updateMode(t=h(this,At).getMode()){switch(x(this,wn,Xg).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(os,uo).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,Fn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,At).getMode()!==Nt.INK)return;if(!t){for(const s of h(this,Ti).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,At).setEditingState(t)}addCommands(t){h(this,At).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Ws))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,Ti).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,At).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Ws))return;const e=h(this,Ws).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,At).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,Wu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,Ti).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,Ws)){const o=h(this,Ws).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(h(this,At).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,At).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}x(this,wn,Xg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of h(os,uo).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,Wu,!1)}getEditableAnnotation(t){var e;return((e=h(this,Ws))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,At).getActive()!==t&&h(this,At).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Fn))!=null&&t.div&&!h(this,Qa)){_(this,Qa,new AbortController);const e=h(this,At).combinedSignal(h(this,Qa));h(this,Fn).div.addEventListener("pointerdown",x(this,wn,HT).bind(this),{signal:e}),h(this,Fn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Fn))!=null&&t.div&&h(this,Qa)&&(h(this,Qa).abort(),_(this,Qa,null),h(this,Fn).div.classList.remove("highlighting"))}enableClick(){if(h(this,lo))return;_(this,lo,new AbortController);const t=h(this,At).combinedSignal(h(this,lo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,lo))==null||t.abort(),_(this,lo,null)}attach(t){h(this,Ti).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,At).isDeletedAnnotationElement(e)&&h(this,At).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,Ti).delete(t.id),(e=h(this,Ul))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Wu)&&t.annotationElementId&&h(this,At).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,At).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,Ku)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,At).addDeletedAnnotationElement(t.annotationElementId),le.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,At).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,At).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,Wa)&&(t._focusEventsAllowed=!1,_(this,Wa,setTimeout(()=>{_(this,Wa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,At)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,Ul))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,At).getId()}combinedSignal(t){return h(this,At).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,wn,L0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,At).updateToolbar(t),h(this,At).updateMode(t);const{offsetX:s,offsetY:r}=x(this,wn,D0).call(this),o=this.getNextId(),u=x(this,wn,O0).call(this,{parent:this,id:o,x:s,y:r,uiManager:h(this,At),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(os,uo).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,At)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=x(this,wn,O0).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,At),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(x(this,wn,D0).call(this),!0)}setSelected(t){h(this,At).setSelected(t)}toggleSelected(t){h(this,At).toggleSelected(t)}unselect(t){h(this,At).unselect(t)}pointerup(t){const{isMac:e}=Yn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,co)){if(_(this,co,!1),!h(this,$u)){_(this,$u,!0);return}if(h(this,At).getMode()===Nt.STAMP){h(this,At).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,At).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,co)){_(this,co,!1);return}const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,co,!0);const s=h(this,At).getActive();_(this,$u,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,At).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,At).getActive())==null?void 0:t.parent)===this&&(h(this,At).commitOrRemove(),h(this,At).setActiveEditor(null)),h(this,Wa)&&(clearTimeout(h(this,Wa)),_(this,Wa,null));for(const s of h(this,Ti).values())(e=h(this,Ul))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,Ti).clear(),h(this,At).removeLayer(this)}render({viewport:t}){this.viewport=t,Xl(this.div,t);for(const e of h(this,At).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,At).commitOrRemove(),x(this,wn,Xg).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Xl(this.div,{rotation:s}),e!==s)for(const r of h(this,Ti).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,At).viewParameters.realScale}};Ul=new WeakMap,$u=new WeakMap,Ws=new WeakMap,lo=new WeakMap,Wa=new WeakMap,Ti=new WeakMap,co=new WeakMap,Ku=new WeakMap,Wu=new WeakMap,Fn=new WeakMap,Qa=new WeakMap,At=new WeakMap,uo=new WeakMap,wn=new WeakSet,HT=function(t){h(this,At).unselectAll();const{target:e}=t;if(e===h(this,Fn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,Fn).div.contains(e)){const{isMac:s}=Yn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,At).showAllEditors("highlight",!0,!0),h(this,Fn).div.classList.add("free"),this.toggleDrawing(),im.startHighlighting(this,h(this,At).direction==="ltr",{target:h(this,Fn).div,x:t.x,y:t.y}),h(this,Fn).div.addEventListener("pointerup",()=>{h(this,Fn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,At)._signal}),t.preventDefault()}},L0=function(){return h(os,uo).get(h(this,At).getMode())},O0=function(t){const e=h(this,wn,L0);return e?new e.prototype.constructor(t):null},D0=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),p=(o+d)/2-t,m=(u+f)/2-e,[v,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:v,offsetY:b}},Xg=function(){_(this,Ku,!0);for(const t of h(this,Ti).values())t.isEmpty()&&t.remove();_(this,Ku,!1)},Rt(os,"_initialized",!1),R(os,uo,new Map([l0,y0,T0,im].map(t=>[t._editorType,t])));let M0=os;var Qs,jf,$e,Za,Uf,N0,Ql,P0,BT;const An=class An{constructor({pageIndex:t}){R(this,Ql);R(this,Qs,null);R(this,jf,0);R(this,$e,new Map);R(this,Za,new Map);this.pageIndex=t}setParent(t){if(!h(this,Qs)){_(this,Qs,t);return}if(h(this,Qs)!==t){if(h(this,$e).size>0)for(const e of h(this,$e).values())e.remove(),t.append(e);_(this,Qs,t)}}static get _svgFactory(){return Yt(this,"_svgFactory",new cA)}draw(t,e,s,r=!1){const o=Gn(this,jf)._++,u=x(this,Ql,P0).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=An._svgFactory.createElement("defs");u.append(d);const f=An._svgFactory.createElement("path");d.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&h(this,Za).set(o,f);const m=x(this,Ql,BT).call(this,d,p),v=An._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),v.setAttribute("href",`#${p}`),h(this,$e).set(o,u),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=Gn(this,jf)._++,s=x(this,Ql,P0).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=An._svgFactory.createElement("defs");s.append(r);const o=An._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",u),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=An._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=An._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=An._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=An._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),h(this,$e).set(e,s),e}finalizeLine(t,e){const s=h(this,Za).get(t);h(this,Za).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,$e).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,Za).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;x(s=An,Uf,N0).call(s,h(this,$e).get(t),e)}show(t,e){h(this,$e).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,$e).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,$e).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,$e).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,$e).get(t).classList.add(e)}removeClass(t,e){h(this,$e).get(t).classList.remove(e)}getSVGRoot(t){return h(this,$e).get(t)}remove(t){h(this,Za).delete(t),h(this,Qs)!==null&&(h(this,$e).get(t).remove(),h(this,$e).delete(t))}destroy(){_(this,Qs,null);for(const t of h(this,$e).values())t.remove();h(this,$e).clear(),h(this,Za).clear()}};Qs=new WeakMap,jf=new WeakMap,$e=new WeakMap,Za=new WeakMap,Uf=new WeakSet,N0=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*o}%`},Ql=new WeakSet,P0=function(t){var s;const e=An._svgFactory.create(1,1,!0);return h(this,Qs).append(e),e.setAttribute("aria-hidden",!0),x(s=An,Uf,N0).call(s,e,t),e},BT=function(t,e){const s=An._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=An._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},R(An,Uf);let k0=An;var ik=Lt.AbortException,sk=Lt.AnnotationEditorLayer,ak=Lt.AnnotationEditorParamsType,rk=Lt.AnnotationEditorType,ok=Lt.AnnotationEditorUIManager,IT=Lt.AnnotationLayer,jT=Lt.AnnotationMode,lk=Lt.ColorPicker,ck=Lt.DOMSVGFactory,uk=Lt.DrawLayer,hk=Lt.FeatureTest,hA=Lt.GlobalWorkerOptions,dk=Lt.ImageKind,fk=Lt.InvalidPDFException,pk=Lt.MissingPDFException,gk=Lt.OPS,mk=Lt.OutputScale,yk=Lt.PDFDataRangeTransport,vk=Lt.PDFDateString,bk=Lt.PDFWorker,Ak=Lt.PasswordResponses,Sk=Lt.PermissionFlag,Ek=Lt.PixelsPerInch,_k=Lt.RenderingCancelledException,UT=Lt.TextLayer,wk=Lt.UnexpectedResponseException,xk=Lt.Util,Tk=Lt.VerbosityLevel,Ck=Lt.XfaLayer,Rk=Lt.build,Mk=Lt.createValidAbsoluteUrl,Lk=Lt.fetchData,GT=Lt.getDocument,Ok=Lt.getFilenameFromUrl,Dk=Lt.getPdfFilenameFromUrl,kk=Lt.getXfaPageViewport,Nk=Lt.isDataScheme,Pk=Lt.isPdfFile,Fk=Lt.noContextMenu,zk=Lt.normalizeUnicode,Hk=Lt.setLayerDimensions,Bk=Lt.shadow,qT=Lt.version;const Ik=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ik,AnnotationEditorLayer:sk,AnnotationEditorParamsType:ak,AnnotationEditorType:rk,AnnotationEditorUIManager:ok,AnnotationLayer:IT,AnnotationMode:jT,ColorPicker:lk,DOMSVGFactory:ck,DrawLayer:uk,FeatureTest:hk,GlobalWorkerOptions:hA,ImageKind:dk,InvalidPDFException:fk,MissingPDFException:pk,OPS:gk,OutputScale:mk,PDFDataRangeTransport:yk,PDFDateString:vk,PDFWorker:bk,PasswordResponses:Ak,PermissionFlag:Sk,PixelsPerInch:Ek,RenderingCancelledException:_k,TextLayer:UT,UnexpectedResponseException:wk,Util:xk,VerbosityLevel:Tk,XfaLayer:Ck,build:Rk,createValidAbsoluteUrl:Mk,fetchData:Lk,getDocument:GT,getFilenameFromUrl:Ok,getPdfFilenameFromUrl:Dk,getXfaPageViewport:kk,isDataScheme:Nk,isPdfFile:Pk,noContextMenu:Fk,normalizeUnicode:zk,setLayerDimensions:Hk,shadow:Bk,version:qT},Symbol.toStringTag,{value:"Module"}));var hn=function(l,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return l.concat(o||Array.prototype.slice.call(t))},jk=["onCopy","onCut","onPaste"],Uk=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Gk=["onFocus","onBlur"],qk=["onInput","onInvalid","onReset","onSubmit"],Vk=["onLoad","onError"],Xk=["onKeyDown","onKeyPress","onKeyUp"],Yk=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],$k=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Kk=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Wk=["onSelect"],Qk=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Zk=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Jk=["onScroll"],tN=["onWheel"],eN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nN=["onTransitionEnd"],iN=["onToggle"],sN=["onChange"],aN=hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn([],jk,!0),Uk,!0),Gk,!0),qk,!0),Vk,!0),Xk,!0),Yk,!0),$k,!0),Kk,!0),Wk,!0),Qk,!0),Zk,!0),Jk,!0),tN,!0),eN,!0),nN,!0),sN,!0),iN,!0);function VT(l,t){var e={};return aN.forEach(function(s){var r=l[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function Zf(l){var t=!1,e=new Promise(function(s,r){l.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function XT(l){var t,e,s="";if(typeof l=="string"||typeof l=="number")s+=l;else if(typeof l=="object")if(Array.isArray(l)){var r=l.length;for(t=0;t<r;t++)l[t]&&(e=XT(l[t]))&&(s&&(s+=" "),s+=e)}else for(e in l)l[e]&&(s&&(s+=" "),s+=e);return s}function Pm(){for(var l,t,e=0,s="",r=arguments.length;e<r;e++)(l=arguments[e])&&(t=XT(l))&&(s&&(s+=" "),s+=t);return s}var rN="Invariant failed";function ye(l,t){if(!l)throw new Error(rN)}var ub,Yw;function oN(){if(Yw)return ub;Yw=1;var l=function(){};return ub=l,ub}var lN=oN();const zn=H0(lN);var $w=Object.prototype.hasOwnProperty;function Kw(l,t,e){for(e of l.keys())if(Qc(e,t))return e}function Qc(l,t){var e,s,r;if(l===t)return!0;if(l&&t&&(e=l.constructor)===t.constructor){if(e===Date)return l.getTime()===t.getTime();if(e===RegExp)return l.toString()===t.toString();if(e===Array){if((s=l.length)===t.length)for(;s--&&Qc(l[s],t[s]););return s===-1}if(e===Set){if(l.size!==t.size)return!1;for(s of l)if(r=s,r&&typeof r=="object"&&(r=Kw(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(l.size!==t.size)return!1;for(s of l)if(r=s[0],r&&typeof r=="object"&&(r=Kw(t,r),!r)||!Qc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)l=new Uint8Array(l),t=new Uint8Array(t);else if(e===DataView){if((s=l.byteLength)===t.byteLength)for(;s--&&l.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(l)){if((s=l.byteLength)===t.byteLength)for(;s--&&l[s]===t[s];);return s===-1}if(!e||typeof l=="object"){s=0;for(e in l)if($w.call(l,e)&&++s&&!$w.call(t,e)||!(e in t)||!Qc(l[e],t[e]))return!1;return Object.keys(t).length===s}}return l!==l&&t!==t}const YT=k.createContext(null);function Zc({children:l,type:t}){return Y.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:l})}const cN="noopener noreferrer nofollow";class uN{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ye(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ye(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ye(this.pdfDocument),ye(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ye(Array.isArray(e));const s=e[0];new Promise(r=>{ye(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{ye(!1)}):typeof s=="number"?r(s):ye(!1)}).then(r=>{const o=r+1;ye(this.pdfViewer),ye(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ye(this.pdfViewer),ye(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||cN,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ww={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Fm=typeof window<"u",$T=Fm&&window.location.protocol==="file:";function hN(l){return typeof l<"u"}function Io(l){return hN(l)&&l!==null}function dN(l){return typeof l=="string"}function fN(l){return l instanceof ArrayBuffer}function pN(l){return ye(Fm),l instanceof Blob}function F0(l){return dN(l)&&/^data:/.test(l)}function Qw(l){ye(F0(l));const[t="",e=""]=l.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function gN(){return Fm&&window.devicePixelRatio||1}const KT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Zw(){zn(!$T,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${KT}`)}function mN(){zn(!$T,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${KT}`)}function Kl(l){l!=null&&l.cancel&&l.cancel()}function z0(l,t){return Object.defineProperty(l,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function yN(l){return l.name==="RenderingCancelledException"}function vN(l){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(l)})}function bN(l,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function Ju(){return k.useReducer(bN,{value:void 0,error:void 0})}var AN=function(l,t,e,s){function r(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function d(m){try{p(s.next(m))}catch(v){u(v)}}function f(m){try{p(s.throw(m))}catch(v){u(v)}}function p(m){m.done?o(m.value):r(m.value).then(d,f)}p((s=s.apply(l,t||[])).next())})},Jw=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(l);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(l,s[r])&&(e[s[r]]=l[s[r]]);return e};const{PDFDataRangeTransport:SN}=Ik,EN=(l,t)=>{switch(t){case Ww.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");l(e);break}case Ww.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");l(e);break}}};function tx(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const _N=k.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:p,imageResourcesPath:m,loading:v="Loading PDF…",noData:b="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:w,onLoadSuccess:M,onPassword:T=EN,onSourceError:L,onSourceSuccess:O,options:P,renderMode:F,rotate:I}=t,G=Jw(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[K,tt]=Ju(),{value:it,error:st}=K,[ft,pt]=Ju(),{value:rt,error:ct}=ft,H=k.useRef(new uN),q=k.useRef([]),W=k.useRef(void 0),yt=k.useRef(void 0);f&&f!==W.current&&tx(f)&&(zn(!Qc(f,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=f),P&&P!==yt.current&&(zn(!Qc(P,yt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),yt.current=P);const N=k.useRef({scrollPageIntoView:qt=>{const{dest:Wt,pageNumber:De,pageIndex:$t=De-1}=qt;if(A){A({dest:Wt,pageIndex:$t,pageNumber:De});return}const ke=q.current[$t];if(ke){ke.scrollIntoView();return}zn(!1,`An internal link leading to page ${De} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});k.useImperativeHandle(e,()=>({linkService:H,pages:q,viewer:N}),[]);function $(){O&&O()}function nt(){st&&(zn(!1,st.toString()),L&&L(st))}function et(){tt({type:"RESET"})}k.useEffect(et,[f,tt]);const ht=k.useCallback(()=>AN(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return F0(f)?{data:Qw(f)}:(Zw(),{url:f});if(f instanceof SN)return{range:f};if(fN(f))return{data:f};if(Fm&&pN(f))return{data:yield vN(f)};if(ye(typeof f=="object"),ye(tx(f)),"url"in f&&typeof f.url=="string"){if(F0(f.url)){const{url:qt}=f,Wt=Jw(f,["url"]),De=Qw(qt);return Object.assign({data:De},Wt)}Zw()}return f}),[f]);k.useEffect(()=>{const qt=Zf(ht());return qt.promise.then(Wt=>{tt({type:"RESOLVE",value:Wt})}).catch(Wt=>{tt({type:"REJECT",error:Wt})}),()=>{Kl(qt)}},[ht,tt]),k.useEffect(()=>{if(!(typeof it>"u")){if(it===!1){nt();return}$()}},[it]);function xt(){rt&&(M&&M(rt),q.current=new Array(rt.numPages),H.current.setDocument(rt))}function ut(){ct&&(zn(!1,ct.toString()),S&&S(ct))}k.useEffect(function(){pt({type:"RESET"})},[pt,it]),k.useEffect(function(){if(!it)return;const Wt=P?Object.assign(Object.assign({},it),P):it,De=GT(Wt);w&&(De.onProgress=w),T&&(De.onPassword=T);const $t=De,ke=$t.promise.then(Bn=>{pt({type:"RESOLVE",value:Bn})}).catch(Bn=>{$t.destroyed||pt({type:"REJECT",error:Bn})});return()=>{ke.finally(()=>$t.destroy())}},[P,pt,it]),k.useEffect(()=>{if(!(typeof rt>"u")){if(rt===!1){ut();return}xt()}},[rt]),k.useEffect(function(){H.current.setViewer(N.current),H.current.setExternalLinkRel(u),H.current.setExternalLinkTarget(d)},[u,d]);const Tt=k.useCallback((qt,Wt)=>{q.current[qt]=Wt},[]),Dt=k.useCallback(qt=>{delete q.current[qt]},[]),Gt=k.useMemo(()=>({imageResourcesPath:m,linkService:H.current,onItemClick:A,pdf:rt,registerPage:Tt,renderMode:F,rotate:I,unregisterPage:Dt}),[m,A,rt,Tt,F,I,Dt]),Xt=k.useMemo(()=>VT(G,()=>rt),[G,rt]);function Oe(){return Y.jsx(YT.Provider,{value:Gt,children:s})}function rn(){return f?rt==null?Y.jsx(Zc,{type:"loading",children:typeof v=="function"?v():v}):rt===!1?Y.jsx(Zc,{type:"error",children:typeof o=="function"?o():o}):Oe():Y.jsx(Zc,{type:"no-data",children:typeof b=="function"?b():b})}return Y.jsx("div",Object.assign({className:Pm("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Xt,{children:rn()}))});function WT(){return k.useContext(YT)}function QT(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=l.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const ZT=k.createContext(null),JT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},wN=/^H(\d+)$/;function xN(l){return l in JT}function zm(l){return"children"in l}function tC(l){return zm(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function TN(l){const t={};if(zm(l)){const{role:e}=l,s=e.match(wN);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(xN(e)){const r=JT[e];r&&(t.role=r)}}return t}function eC(l){const t={};if(zm(l)){if(l.alt!==void 0&&(t["aria-label"]=l.alt),l.lang!==void 0&&(t.lang=l.lang),tC(l)){const[e]=l.children;if(e){const s=eC(e);return Object.assign(Object.assign({},t),s)}}}else"id"in l&&(t["aria-owns"]=l.id);return t}function CN(l){return l?Object.assign(Object.assign({},TN(l)),eC(l)):null}function nC({className:l,node:t}){const e=k.useMemo(()=>CN(t),[t]),s=k.useMemo(()=>!zm(t)||tC(t)?null:t.children.map((r,o)=>Y.jsx(nC,{node:r},o)),[t]);return Y.jsx("span",Object.assign({className:l},e,{children:s}))}function Hm(){return k.useContext(ZT)}function RN(){const l=Hm();ye(l);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=l,[s,r]=Ju(),{value:o,error:u}=s,{customTextRenderer:d,page:f}=l;function p(){o&&e&&e(o)}function m(){u&&(zn(!1,u.toString()),t&&t(u))}return k.useEffect(function(){r({type:"RESET"})},[r,f]),k.useEffect(function(){if(d||!f)return;const b=Zf(f.getStructTree()),A=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>Kl(A)},[d,f,r]),k.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}p()}},[o]),o?Y.jsx(nC,{className:"react-pdf__Page__structTree structTree",node:o}):null}const ex=jT;function MN(l){const t=Hm();ye(t);const e=Object.assign(Object.assign({},t),l),{_className:s,canvasBackground:r,devicePixelRatio:o=gN(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:p,renderTextLayer:m,rotate:v,scale:b}=e,{canvasRef:A}=l;ye(f);const S=k.useRef(null);function w(){f&&d&&d(z0(f,b))}function M(P){yN(P)||(zn(!1,P.toString()),u&&u(P))}const T=k.useMemo(()=>f.getViewport({scale:b*o,rotation:v}),[o,f,v,b]),L=k.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);k.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=S;if(!F)return;F.width=T.width,F.height=T.height,F.style.width=`${Math.floor(L.width)}px`,F.style.height=`${Math.floor(L.height)}px`,F.style.visibility="hidden";const I={annotationMode:p?ex.ENABLE_FORMS:ex.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:T};r&&(I.background=r);const G=f.render(I),K=G;return G.promise.then(()=>{F.style.visibility="",w()}).catch(M),()=>Kl(K)},[r,f,p,T,L]);const O=k.useCallback(()=>{const{current:P}=S;P&&(P.width=0,P.height=0)},[]);return k.useEffect(()=>O,[O]),Y.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:QT(A,S),style:{display:"block",userSelect:"none"},children:m?Y.jsx(RN,{}):null})}function LN(l){return"str"in l}function ON(){const l=Hm();ye(l);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:u,pageIndex:d,pageNumber:f,rotate:p,scale:m}=l;ye(u);const[v,b]=Ju(),{value:A,error:S}=v,w=k.useRef(null);zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&s&&s(A)}function T(){S&&(zn(!1,S.toString()),e&&e(S))}k.useEffect(function(){b({type:"RESET"})},[u,b]),k.useEffect(function(){if(!u)return;const K=Zf(u.getTextContent()),tt=K;return K.promise.then(it=>{b({type:"RESOLVE",value:it})}).catch(it=>{b({type:"REJECT",error:it})}),()=>Kl(tt)},[u,b]),k.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}M()}},[A]);const L=k.useCallback(()=>{o&&o()},[o]),O=k.useCallback(G=>{zn(!1,G.toString()),r&&r(G)},[r]);function P(){const G=w.current;G&&G.classList.add("selecting")}function F(){const G=w.current;G&&G.classList.remove("selecting")}const I=k.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return k.useLayoutEffect(function(){if(!u||!A)return;const{current:K}=w;if(!K)return;K.innerHTML="";const tt=u.streamTextContent({includeMarkedContent:!0}),it={container:K,textContentSource:tt,viewport:I},st=new UT(it),ft=st;return st.render().then(()=>{const pt=document.createElement("div");pt.className="endOfContent",K.append(pt);const rt=K.querySelectorAll('[role="presentation"]');if(t){let ct=0;A.items.forEach((H,q)=>{if(!LN(H))return;const W=rt[ct];if(!W)return;const yt=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:q},H));W.innerHTML=yt,ct+=H.str&&H.hasEOL?2:1})}L()}).catch(O),()=>Kl(ft)},[t,O,L,u,d,f,A,I]),Y.jsx("div",{className:Pm("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:P,ref:w})}function DN(){const l=WT(),t=Hm();ye(t);const e=Object.assign(Object.assign({},l),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:v,rotate:b,scale:A=1}=e;ye(m),ye(p),ye(r);const[S,w]=Ju(),{value:M,error:T}=S,L=k.useRef(null);zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){M&&u&&u(M)}function P(){T&&(zn(!1,T.toString()),o&&o(T))}k.useEffect(function(){w({type:"RESET"})},[w,p]),k.useEffect(function(){if(!p)return;const tt=Zf(p.getAnnotations()),it=tt;return tt.promise.then(st=>{w({type:"RESOLVE",value:st})}).catch(st=>{w({type:"REJECT",error:st})}),()=>{Kl(it)}},[w,p]),k.useEffect(()=>{if(M!==void 0){if(M===!1){P();return}O()}},[M]);function F(){f&&f()}function I(K){zn(!1,`${K}`),d&&d(K)}const G=k.useMemo(()=>p.getViewport({scale:A,rotation:b}),[p,b,A]);return k.useEffect(function(){if(!m||!p||!r||!M)return;const{current:tt}=L;if(!tt)return;const it=G.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:p,structTreeLayer:null,viewport:it},ft={annotations:M,annotationStorage:m.annotationStorage,div:tt,imageResourcesPath:s,linkService:r,page:p,renderForms:v,viewport:it};tt.innerHTML="";try{new IT(st).render(ft),F()}catch(pt){I(pt)}return()=>{}},[M,s,r,p,m,v,G]),Y.jsx("div",{className:Pm("react-pdf__Page__annotations","annotationLayer"),ref:L})}var kN=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(l);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(l,s[r])&&(e[s[r]]=l[s[r]]);return e};const nx=1;function NN(l){const t=WT(),e=Object.assign(Object.assign({},t),l),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:u,children:d,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:v,error:b="Failed to load the page.",height:A,inputRef:S,loading:w="Loading page…",noData:M="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:I,onLoadError:G,onLoadSuccess:K,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:it,onRenderError:st,onRenderSuccess:ft,onRenderTextLayerError:pt,onRenderTextLayerSuccess:rt,pageIndex:ct,pageNumber:H,pdf:q,registerPage:W,renderAnnotationLayer:yt=!0,renderForms:N=!1,renderMode:$="canvas",renderTextLayer:nt=!0,rotate:et,scale:ht=nx,unregisterPage:xt,width:ut}=e,Tt=kN(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Gt]=Ju(),{value:Xt,error:Oe}=Dt,rn=k.useRef(null);ye(q);const qt=Io(H)?H-1:ct??null,Wt=H??(Io(ct)?ct+1:null),De=et??(Xt?Xt.rotate:null),$t=k.useMemo(()=>{if(!Xt)return null;let ie=1;const We=ht??nx;if(ut||A){const ve=Xt.getViewport({scale:1,rotation:De});ut?ie=ut/ve.width:A&&(ie=A/ve.height)}return We*ie},[A,Xt,De,ht,ut]);k.useEffect(function(){return()=>{Io(qt)&&r&&xt&&xt(qt)}},[r,q,qt,xt]);function ke(){if(K){if(!Xt||!$t)return;K(z0(Xt,$t))}if(r&&W){if(!Io(qt)||!rn.current)return;W(qt,rn.current)}}function Bn(){Oe&&(zn(!1,Oe.toString()),G&&G(Oe))}k.useEffect(function(){Gt({type:"RESET"})},[Gt,q,qt]),k.useEffect(function(){if(!q||!Wt)return;const We=Zf(q.getPage(Wt)),ve=We;return We.promise.then(Di=>{Gt({type:"RESOLVE",value:Di})}).catch(Di=>{Gt({type:"REJECT",error:Di})}),()=>Kl(ve)},[Gt,q,Wt]),k.useEffect(()=>{if(Xt!==void 0){if(Xt===!1){Bn();return}ke()}},[Xt,$t]);const Oi=k.useMemo(()=>Xt&&Io(qt)&&Wt&&Io(De)&&Io($t)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:T,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:I,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:it,onRenderError:st,onRenderSuccess:ft,onRenderTextLayerError:pt,onRenderTextLayerSuccess:rt,page:Xt,pageIndex:qt,pageNumber:Wt,renderForms:N,renderTextLayer:nt,rotate:De,scale:$t}:null,[s,o,m,v,T,L,O,P,F,I,tt,it,st,ft,pt,rt,Xt,qt,Wt,N,nt,De,$t]),ce=k.useMemo(()=>VT(Tt,()=>Xt&&($t?z0(Xt,$t):void 0)),[Tt,Xt,$t]),In=`${qt}@${$t}/${De}`;function sa(){switch($){case"custom":return ye(p),Y.jsx(p,{},`${In}_custom`);case"none":return null;case"canvas":default:return Y.jsx(MN,{canvasRef:u},`${In}_canvas`)}}function xs(){return nt?Y.jsx(ON,{},`${In}_text`):null}function aa(){return yt?Y.jsx(DN,{},`${In}_annotations`):null}function or(){return Y.jsxs(ZT.Provider,{value:Oi,children:[sa(),xs(),aa(),d]})}function Wn(){return Wt?q===null||Xt===void 0||Xt===null?Y.jsx(Zc,{type:"loading",children:typeof w=="function"?w():w}):q===!1||Xt===!1?Y.jsx(Zc,{type:"error",children:typeof b=="function"?b():b}):or():Y.jsx(Zc,{type:"no-data",children:typeof M=="function"?M():M})}return Y.jsx("div",Object.assign({className:Pm(s,f),"data-page-number":Wt,ref:QT(S,rn),style:{"--scale-factor":`${$t}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ce,{children:Wn()}))}mN();hA.workerSrc="pdf.worker.mjs";hA.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${qT}/pdf.worker.min.mjs`;function iC({pdfFilePath:l}){const[t,e]=k.useState(null),r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.innerWidth*.75:window.innerWidth*.5,o=({numPages:d})=>{e(d)},u={border:"none",borderTop:"2px #aaa",margin:"0.5rem 0",width:"80%"};return Y.jsx("div",{style:{display:"flex",justifyContent:"center",madWidth:"100%"},children:Y.jsx(_N,{file:"/PersonalWebpage/"+l,onLoadSuccess:o,children:t&&Array.from(new Array(t),(d,f)=>Y.jsxs("div",{children:[Y.jsx(NN,{pageNumber:f+1,width:r,renderTextLayer:!0},`page_${f+1}`),f<t-1&&Y.jsx("hr",{style:u})]},`page_container_${f}`))})})}function PN(){return Y.jsx(iC,{pdfFilePath:"CV.pdf"})}function FN(){const l=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=Em();return Y.jsxs("div",{className:"aboutMe",style:{paddingTop:0,marginBottom:"40px"},children:[Y.jsxs("h1",{style:{fontWeight:"bold"},children:["Project:"," ",Y.jsx("a",{href:"https://github.com/Justin-Everett/Uni-Final-Project",style:{},children:"Autonomous 2048 Agent"})]}),Y.jsxs("div",{className:"aboutMe",children:[Y.jsxs("div",{children:[Y.jsx("img",{src:l?"/PersonalWebpage/2048mobile.gif":"/PersonalWebpage/2048.gif",style:{width:l?"70%":"50%",maxWidth:"100%",borderRadius:l?"10px":"4px"}}),Y.jsx("hr",{style:{marginBottom:0}}),Y.jsxs("code",{children:["Agent playing ",Y.jsx("i",{children:"2048"})," autonomously"]})]}),Y.jsx("hr",{style:{opacity:"80%",width:"70%",marginTop:"10px",marginBottom:"15px"}}),Y.jsxs("div",{className:"aboutMe",style:{width:l?"80%":"65%",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"0 20px 20px 20px"},children:[Y.jsx("h3",{children:"Project Overview"}),Y.jsxs("p",{className:"paragraph",children:["For my final year project (dissertation equivalent) for my computer science BSc at Royal Holloway, I constructed an autonomous agent to play the game ",Y.jsx("i",{children:"2048"})," entirely automatically, directly on its native website (found ",Y.jsx("a",{href:"https://play2048.co",children:"here"}),"). ",Y.jsx("i",{children:"2048"})," is a simple sliding tile game, where the user aims to combine same-valued tiles by sliding them into each other along the 4 cardinal axes, with the goal of creating a tile whose value is 2048. The project was created during my 3rd and final year at Royal Holloway, spanning the entire year, starting in September and concluding in late May. The agent is driven by an"," ",Y.jsx("a",{href:"#Expectimax",style:{color:"lightblue"},children:Y.jsx("i",{children:"expectimax"})})," ","algorithm, and utilizes computer vision to visually reconstruct the game board from the website."]}),Y.jsx("h3",{children:"What This Project Taught Me"}),Y.jsx("p",{className:"paragraph",style:{marginBottom:0},children:"Throughout the development of this project, I learned a ton of new concepts and technologies, alongside enriching my knowledge of plenty of concepts I had previous experience. Firstly, before this project I had not used the OpenCV or Selenium libraries in any respect, so a part of this project's lifetime consisted of me learning how to use both. This proved to be extremely interesting, as the Selenium I learned helped me to facilitate a web scraping component of the project my team created at my first ever hackathon. Additionally, while I was learning to use the OpenCV library, I was concurrently taking a deep learning course, which not only improved my understanding of basic computer vision concepts like preprocessing, but also helped foster a deeper interest in deep learning that I have carried with me since."}),Y.jsx("p",{className:"paragraph",style:{marginTop:0},children:"Secondly, this project was also a wonderful exercise in long-term planning and execution, something that I had lacked extensive practice of through the short sprint-like nature of most previous university projects. The process of developing an in-depth plan prior to development, then focusing on iterative development alongside documentation has since helped me discipline other projects, notably this very website!"}),Y.jsx("h3",{id:"ControlFlow",children:"Agent Control Flow"}),Y.jsxs("p",{className:"paragraph",children:["Step by step, this agent works as follows: ",Y.jsx("br",{})," 1. Open a browser window to the ",Y.jsx("i",{children:"2048"})," website, then accept cookies and decline the tutorial popup (done using Selenium) ",Y.jsx("br",{})," 2. Make 8 movements of random directions ",Y.jsx("br",{})," 3. Take a screenshot of the webpage ",Y.jsx("br",{})," 4. Apply OpenCV-powered computer vision game board reconstruction to recognize the value of each tile and reconstruct the game board from the screenshot as a 4x4 matrix of tile values"," ",Y.jsx("br",{})," 5. Apply expectimax search algorithm to the 4x4 matrix representing the game board, returning a suggestion of which direction to move in ",Y.jsx("br",{}),"6. Simulate a movement in the direction suggested, but do not create new tile - store the locations of the empty tiles in the resultant board to allow for quicker checking of the next board ",Y.jsx("br",{}),"7. Apply the suggested movement using Selenium ",Y.jsx("br",{}),"8. If the game has not ended, return to step 3"]}),Y.jsx("h3",{id:"Expectimax",children:"Expectimax Component"}),Y.jsx("p",{className:"paragraph",children:"The brains of this entire operation is the expectimax algorithm used to generate move suggestions. An expectimax algorithm is a tree search algorithm that extends from another algorithm, the minimax algorithm. The minimax algorithm's premise is that two players are opposing each other in some form of turn-based game, and the goal of each player is to maximize their own score/reward. This can then be structured as a tree of move options, where each layer of the tree alternates between players. This tree structure can be used to find an optimal move by framing the nodes in each alternating layer as 'max' nodes (representing the first player's move) and 'min' nodes (representing the second player's move, which will aim to minimize the first player's score). A visualization of this can be seen below:"}),Y.jsx("img",{src:"/PersonalWebpage/Minimax.png",style:{width:l?"":"40%",maxWidth:"100%"}}),Y.jsxs("p",{className:"paragraph",children:["The expectimax algorithm is similar to the minimax algorithm, but is built to handle non-deterministic outcomes by replacing the 'min' nodes with 'chance' nodes, which calculate the expected return of all their children (using the expected value probability formula). Using this expectimax algorithm (along with a set of heuristics, which are used to assign a numerical value to the strength of non-terminal game boards), ",Y.jsx("i",{children:"2048"})," can be effectively played automatically."]}),Y.jsx("h3",{id:"ComputerVision",children:"Computer Vision Component"}),Y.jsxs("p",{className:"paragraph",children:["As the expectimax algorithm is unaware of the content of the webpage, I needed some way for the game board on the webpage to be known to the expectimax algorithm, which I decided to use screenshots and computer vision to accomplish. As seen in the agent's"," ",Y.jsx("a",{href:"#ControlFlow",style:{color:"lightblue"},children:"control flow"}),", a screenshot of the webpage is taken each time a move is made. Using the python library"," ",Y.jsx("a",{href:"https://docs.opencv.org/4.x/index.html",children:"OpenCV"}),", the"," ",Y.jsx("i",{children:"2048"})," game board is isolated from the rest of the screenshot, then divided up into each of the 16 tiles spaces, which are each stored as images via image slicing of the original screenshot. Each of these tile images then has a blur applied, is converted to greyscale, and finally is converted to black and white. With the now preprocessed tile images, the digits within them are then identified using an optical character recognizer (OCR) called"," ",Y.jsx("a",{href:"https://github.com/tesseract-ocr/tesseract",children:"Tesseract"}),", then these digits are used to reconstruct the game board in a 2-d array and finally sent through the expectimax algorithm to generate a move suggestion."]}),Y.jsx("button",{className:"reportButton",style:{backgroundColor:"gray",padding:"5px 10px 10px 10px"},onClick:()=>{t("/FYP_report")},children:"View Full Project Report"})]})]})]})}function zN({location:l}){const t=Em();return Y.jsx("button",{className:"reportButtonThin",style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"gray",padding:"5px 10px 5px 10px",zIndex:1e4},onClick:()=>{t(l)},children:"Go Back"})}function HN(){return Y.jsxs("div",{children:[Y.jsx(iC,{pdfFilePath:"JUSTIN_EVERETT_FYP_FINAL_REPORT.pdf"}),Y.jsx(zN,{location:"/2048_agent"})]})}function BN({basename:l}){return Y.jsx(BL,{basename:l,children:Y.jsx(gL,{children:Y.jsxs(Hc,{path:"/",element:Y.jsx(ZO,{}),children:[Y.jsx(Hc,{index:!0,element:Y.jsx(tD,{})}),Y.jsx(Hc,{path:"resume",element:Y.jsx(PN,{})}),Y.jsx(Hc,{path:"2048_agent",element:Y.jsx(FN,{})}),Y.jsx(Hc,{path:"FYP_report",element:Y.jsx(HN,{})})]})})})}SM.createRoot(document.getElementById("root")).render(Y.jsx(k.StrictMode,{children:Y.jsx(BN,{basename:"/PersonalWebpage/"})}));
